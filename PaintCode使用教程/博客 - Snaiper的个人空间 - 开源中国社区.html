<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0057)http://my.oschina.net/u/1244672/blog?disp=2&p=1&catalog=0 -->
<html lang="zh-CN" xml:lang="zh-CN" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css">@charset "UTF-8";[ng\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>
  
  <meta http-equiv="Content-Language" content="zh-CN">
  <meta name="robots" content="index, follow">
  <link rel="shortcut icon" type="image/x-icon" href="http://my.oschina.net/img/favicon.ico?t=1451964198000">
  <title>博客 -  Snaiper的个人空间 - 开源中国社区</title>
      <link rel="stylesheet/less" href="./博客 - Snaiper的个人空间 - 开源中国社区_files/styles.less" type="text/css" media="screen">
  <link rel="stylesheet" href="./博客 - Snaiper的个人空间 - 开源中国社区_files/tip-yellowsimple.css" type="text/css">
  <link rel="stylesheet" type="text/css" href="./博客 - Snaiper的个人空间 - 开源中国社区_files/jquery.fancybox-1.3.4.css" media="screen">
	<!--添加emoji支持-->
    <link rel="stylesheet" type="text/css" href="./博客 - Snaiper的个人空间 - 开源中国社区_files/nature.css">
    <link rel="stylesheet" type="text/css" href="./博客 - Snaiper的个人空间 - 开源中国社区_files/object.css">
    <link rel="stylesheet" type="text/css" href="./博客 - Snaiper的个人空间 - 开源中国社区_files/people.css">
    <link rel="stylesheet" type="text/css" href="./博客 - Snaiper的个人空间 - 开源中国社区_files/place.css">
    <link rel="stylesheet" type="text/css" href="./博客 - Snaiper的个人空间 - 开源中国社区_files/Sysmbols.css">
    <link rel="stylesheet" type="text/css" href="./博客 - Snaiper的个人空间 - 开源中国社区_files/twemoji.css">

  <script type="text/javascript" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/jquery-1.7.1.min.js"></script>
  <script type="text/javascript" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/jquery.form.js"></script>
  <script type="text/javascript" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/jquery.fancybox-1.3.4.pack.js"></script>
  <script type="text/javascript" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/jquery.poshytip.min.js"></script>
  <script type="text/javascript" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/oschina.js"></script>
  <script type="text/javascript" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/less-1.3.0.min.js"></script><style type="text/css" media="screen" id="less:u-1244672-styles">:focus {
  outline: 0;
}
* {
  padding: 0;
  margin: 0;
}
a {
  color: #4466bb;
  outline: 0;
}
a:hover {
  color: #0000aa;
}
ul,
ol {
  list-style-type: none;
}
img {
  border: 0;
}
textarea {
  resize: none;
}
body {
  background: #f9f9f9;
  text-align: center;
  font-size: 10pt;
}
label.SELECTED {
  color: #A00;
  font-weight: bold;
}
.clear {
  clear: both;
  font-size: 1px;
  line-height: 0;
}
.clearfix:after {
  content: ".";
  display: block;
  clear: both;
  visibility: hidden;
  line-height: 0;
  height: 0;
}
.clearfix {
  display: inline-block;
}
html[xmlns] .clearfix {
  display: block;
}
* html .clearfix {
  height: 1%;
}
.ostable {
  width: 100%;
  table-layout: fixed;
}
.ostable td {
  vertical-align: top;
  overflow: hidden;
}
.highlight {
  color: #A00;
  padding: 0 1px;
  margin: 0 2px;
}
.NoData {
  text-align: center;
  padding: 20px 0;
  color: #999999;
}
a.tag {
  background-color: #E0EAF1;
  border-bottom: 1px solid #3E6D8E;
  border-right: 1px solid #7F9FB6;
  color: #3E6D8E;
  font-size: 8pt;
  line-height: 2.4;
  margin: 2px 2px 2px 0;
  padding: 2px 4px;
  text-decoration: none;
  white-space: nowrap;
}
a.tag:hover {
  background-color: #3E6D8E;
  color: #fff;
}
a.project {
  background-color: #cfc;
  color: #060;
}
a.project:hover {
  background-color: #5cc26f;
  color: #fff;
}
a.rndbutton {
  background: #5cc26f;
  color: #fff;
  text-decoration: none;
  height: 30px;
  float: left;
  margin: 0;
  border: 0px solid #000;
  font-weight: bold;
  cursor: pointer;
}
a.rndbutton:hover {
  background: #40ab54;
}
a.rndbutton:hover span {
  background: #40ab54;
  color: #fff;
}
a.rndbutton span {
  background: #5cc26f;
  color: #fff;
  float: left;
  margin: 0 0 0 12px;
  padding: 0 12px 0 0;
  height: 30px;
  line-height: 30px;
}
.obj_type_1 a.title {
  background: url('/img/a2.gif') no-repeat left center;
  background-position: 5px;
}
.obj_type_2 a.title {
  background: url('/img/thread.gif') no-repeat left center;
  background-position: 5px;
}
.obj_type_3 a.title {
  background: url('/img/thread.gif') no-repeat left center;
  background-position: 5px;
}
.obj_type_4 a.title {
  background: url('/img/a3.gif') no-repeat left center;
  background-position: 5px;
}
.obj_type_5 a.title {
  background: url('/img/code.gif') no-repeat left center;
}
.obj_type_7 a.title {
  background: url('/img/a3.gif') no-repeat left center;
  background-position: 5px;
}
.obj_type_36 a.title {
  background: url('/img/a2.gif') no-repeat left center;
  background-position: 5px;
}
.init_degree {
  -webkit-transform: rotate(0deg);
  -moz-transform: rotate(0deg);
  -o-transform: rotate(0deg);
  -ms-transform: rotate(0deg);
  -webkit-transform-origin: 0 0;
  -moz-transform-origin: 0 0;
  -o-transform-origin: 0 0;
  -ms-transform-origin: 0 0;
}
.first_degree {
  -webkit-transform: rotate(-90deg) translate(-100%);
  -moz-transform: rotate(-90deg) translate(-100%);
  -o-transform: rotate(-90deg) translate(-100%);
  -ms-transform: rotate(-90deg) translate(-100%);
  -webkit-transform-origin: 0 0;
  -moz-transform-origin: 0 0;
  -o-transform-origin: 0 0;
  -ms-transform-origin: 0 0;
}
.second_degree {
  -webkit-transform: rotate(-180deg) translate(-100%, -100%);
  -moz-transform: rotate(-180deg) translate(-100%, -100%);
  -o-transform: rotate(-180deg) translate(-100%, -100%);
  -ms-transform: rotate(-180deg) translate(-100%, -100%);
  -webkit-transform-origin: 0 0;
  -moz-transform-origin: 0 0;
  -o-transform-origin: 0 0;
  -ms-transform-origin: 0 0;
}
.third_degree {
  -webkit-transform: rotate(-270deg) translate(0, -100%);
  -moz-transform: rotate(-270deg) translate(0, -100%);
  -o-transform: rotate(-270deg) translate(0, -100%);
  -ms-transform: rotate(-270deg) translate(0, -100%);
  -webkit-transform-origin: 0 0;
  -moz-transform-origin: 0 0;
  -o-transform-origin: 0 0;
  -ms-transform-origin: 0 0;
}
#OSC_Screen {
  width: 990px;
  margin: 0px auto;
  text-align: left;
  padding: 0 4px;
  margin-bottom: 50px;
}
#OSC_Banner {
  background: #40aa53;
  border-top: 0;
  height: 36px;
  padding: 2px 5px 0 5px;
}
#OSC_Banner #OSC_Logo {
  float: left;
  margin: 1px 0 0 2px;
  width: 105px;
}
#OSC_Banner #OSC_Logo a {
  float: left;
  background: url('/img/2012/osc2.png') no-repeat 0 1px;
  width: 100px;
  height: 34px;
  text-indent: -9999px;
}
#OSC_Banner #OSC_Slogon {
  float: left;
  margin: 10px 0 0 10px;
  color: #f2f2f2;
}
#OSC_Banner #OSC_Slogon a {
  color: #fff;
}
#OSC_Banner #OSC_Channels {
  margin-right: 10px;
  float: right;
  font-weight: bold;
  font-size: 10.5pt;
  height: 35px;
  line-height: 35px;
}
#OSC_Banner #OSC_Channels ul li {
  float: left;
  margin: 0px 5px 0 10px;
}
#OSC_Banner #OSC_Channels ul li a {
  text-decoration: none;
  color: #f2f2f2;
  padding: 2px;
}
#OSC_Banner #OSC_Channels ul li a:hover {
  color: #fff;
}
#OSC_Notification {
  width: 200px;
  margin-left: 10px;
  font-size: 9pt;
}
#OSC_Notification a.msgbox {
  background: url('/img/msg.gif') no-repeat 5px 5px;
  padding: 2px 4px 2px 22px;
  text-decoration: none;
  -moz-border-radius: 5px;
  border-radius: 5px;
  -webkit-border-radius: 5px;
}
#OSC_Notification a.newmsg {
  color: #A00;
  background: url('/img/msg2.gif') no-repeat 5px 3px;
  padding: 2px 4px 2px 22px;
  text-decoration: none;
  -moz-border-radius: 5px;
  border-radius: 5px;
  -webkit-border-radius: 5px;
}
#OSC_Notification a:hover {
  font-weight: bold;
  color: #C00;
}
#OSC_Notification a em {
  font-style: normal;
  font-weight: bold;
  margin-right: 2px;
  text-decoration: underline;
}
#OSC_Topbar {
  margin: 2px 0;
}
#OSC_Topbar #VisitorInfo {
  font-size: 9pt;
  color: #888;
  float: left;
}
#OSC_Topbar #VisitorInfo a {
  text-decoration: none;
}
#OSC_Topbar #SearchBar form {
  float: right;
  margin: 3px 0 0 0;
  width: 310px;
  background: #eee;
  padding: 1px;
  font-size: 0;
}
#OSC_Topbar #SearchBar form .ipt {
  display: inline-block;
  vertical-align: top;
  height: 22px;
  padding: 2px 0 0 5px;
  background: #FFF;
}
#OSC_Topbar #SearchBar form .ipt input {
  color: #868686;
  width: 200px;
  border: none;
  background: #FFF;
  padding: 0;
  height: 20px;
  outline: 0;
}
#OSC_Topbar #SearchBar form .bnt {
  color: #FFF;
  text-align: center;
  background: #5cc26f;
  width: 45px;
  height: 24px;
  border: 0;
  cursor: pointer;
}
#OSC_Topbar #SearchBar form .bnt:hover {
  background: #40ab54;
}
#OSC_Topbar #SearchBar form .search-by {
  display: inline-block;
  vertical-align: top;
  font-size: 10pt;
}
#OSC_Topbar #SearchBar form .search_on {
  background: #FFF;
  text-align: center;
  position: relative;
}
#OSC_Topbar #SearchBar form .search_on .text {
  height: 24px;
  line-height: 23px;
  width: 50px;
  display: block;
  color: #868686;
  cursor: pointer ;
  text-align: left;
  padding: 0px 0 0 10px;
  background: url(/img/android/selectbox_bg.png) no-repeat;
}
#OSC_Topbar #SearchBar form .search_on .text.on {
  background-position: 0 -24px;
}
#OSC_Topbar #SearchBar form .search_on .text.hover {
  background-position: 0 -48px;
}
#OSC_Topbar #SearchBar form .search_list {
  background: #FFF;
  display: none;
  position: absolute;
  width: 80px;
  border: 1px solid #c3c3c3;
  z-index: 9999;
}
#OSC_Topbar #SearchBar form .search_list li {
  width: 80px;
  height: 24px;
  line-height: 24px;
}
#OSC_Topbar #SearchBar form .search_list a {
  display: block;
  color: #333 !important;
  font-size: 8pt !important;
  text-decoration: none;
  padding: 0 0 0 10px;
}
#OSC_Topbar #SearchBar form .search_list a:hover {
  background: #3399ff;
  color: #ffffff !important;
}
#OSC_Topbar #SearchBar form .f_r {
  display: inline-block;
  vertical-align: top;
}
#OSC_Topbar #SearchBar form .f_l {
  float: left;
}
#OSC_Topbar #SearchBar form .last {
  margin: 0 !important;
}
#OSC_Topbar #SearchBar form .hide {
  display: none;
}
/* 底部版权 */
#OSC_Footer {
  margin-top: 20px;
  padding-bottom: 50px;
  height: 38px;
  line-height: 38px;
  border-top: 2px solid #cccccc;
  color: #666666;
  text-align: center;
}
#OSC_Content {
  margin: 10px 2px;
  position: relative;
}
#SpaceLeft {
  float: left;
  width: 220px;
}
#SpaceLeft a {
  text-decoration: none;
}
#SpaceMain {
  margin: 0 220px 0 230px;
  word-wrap: break-word;
}
#SpaceRight {
  position: absolute;
  right: 0;
  top: 0;
  width: 210px;
  word-wrap: break-word;
}
.SpaceList {
  margin: 0 0 0 230px;
  border: 1px solid #eee;
  padding: 10px 15px;
  background: #fff;
  word-wrap: break-word;
}
.SpaceList .TopBar {
  margin: 0 0 25px 0;
  color: #999999;
  font-size: 9pt;
  height: 22px;
  line-height: 22px;
}
.SpaceList .TopBar h1 {
  color: #333333;
}
.Owner {
  background: #5cc26f;
  padding: 15px 5px 15px 10px;
  position: relative;
}
.Owner a.Img:hover {
  background: none;
}
.Owner a {
  color: #fff;
  padding: 0px;
}
.Owner a:hover {
  background: #fff;
  color: #5cc26f;
}
.Owner a.ThemeSetting {
  position: absolute;
  right: 0;
  top: 0;
  text-indent: -9999px;
  width: 28px;
  height: 28px;
  background: url('/img/2012/enter_narrow.png') no-repeat 0 0;
}
.Owner a.ThemeSetting:hover {
  background: url('/img/2012/enter_narrow.png') no-repeat 0 -30px;
}
.Owner .Img img {
  float: left;
  width: 56px;
  height: 56px;
  background: #fff;
  padding: 3px;
  margin: 0 8px 10px 0;
}
.Owner .Img:hover img {
  background: #eee;
}
.Owner span.U {
  float: left;
  width: 130px;
}
.Owner span.U .Name {
  color: #FFF;
  font-size: 14pt;
  display: block;
  margin: 0 0 12px 0;
  font-weight: bold;
  word-wrap: break-word;
}
.Owner span.U .Name {
  background: none;
}
.Owner span.U .opts {
  color: #fff;
  font-size: 9pt;
}
.Owner span.U .opts a {
  color: #fff;
}
.Owner span.U .opts a:hover {
  background-color: #fff;
  color: #5cc26f;
}
.Owner a#gender_icon {
  text-indent: -9999px;
  background-color: #5cc26f;
}
.Owner a#gender_icon:hover {
  background-color: #5cc26f;
}
.Owner .stat {
  color: #fff;
  font-size: 9pt;
}
.Owner .stat a {
  margin-right: 3px;
}
.Owner .stat a span {
  font-size: 9pt;
}
.Resume {
  background: #7798cb url('/img/2012/resume24.png') no-repeat left bottom;
  margin: 3px 0 0 0;
  color: #fff;
  padding: 18px 10px 18px 40px;
  word-wrap: break-word;
  overflow: hidden;
}
.Resume textarea {
  width: 170px;
  height: 60px;
  font-size: 9pt;
}
/*勋章*/
.Medals {
  background-color: #5cc26f;
  margin-top: 3px;
  padding: 5px;
}
.Opts {
  margin: 3px 0 0 0;
}
.Opts a {
  cursor: pointer;
  float: left;
  width: 108px;
  height: 108px;
}
.Opts a.a1 {
  background-color: #5cc26f;
}
.Opts a.a1:hover {
  background-color: #40ab54;
}
.Opts a.a2 {
  background-color: #5cc26f;
}
.Opts a.a2:hover {
  background-color: #40ab54;
}
.Opts a.a3 {
  margin-top: 3px;
  width: 220px;
  height: 60px;
  background-color: #7798cb;
}
.Opts a.a3:hover {
  background-color: #527cbd;
}
.Opts a span {
  padding: 82px 0 0 10px;
  font-size: 11pt;
  color: #fff;
}
.Opts a.a3 span {
  display: block;
  padding: 15px 0 0 60px;
  font-size: 18pt;
}
.Opts a i {
  text-indent: -9999px;
  display: block;
  margin: 10px 0 0 20px;
  width: 67px;
  height: 67px;
  background-image: url('/img/2012/space-opts.png');
  background-repeat: no;
}
.Opts a.a2 {
  margin-left: 4px;
}
.Opts a.blog i {
  background-position: 0 -67px;
}
.Opts a.admin i {
  background-position: 0 -201px;
}
.Opts a.sendmsg i {
  background-position: 0 -134px;
}
.Opts a.ask i {
  background-position: 0 0;
}
.Mod {
  background: #EAEAEA;
  margin: 3px 0 0 0;
  padding: 5px 0;
  color: #666666;
  overflow: hidden;
}
.Mod strong {
  display: block;
  font-size: 12pt;
  border-bottom: 2px solid #7798cb;
  padding: 0 10px 5px 10px;
  color: #666666;
}
.Mod strong .more {
  float: right;
  font-weight: normal;
  font-size: 10pt;
  margin: 3px 0 0 0;
}
.Mod ul,
.Mod ol {
  margin: 10px;
  line-height: 24px;
}
.Users ul li {
  float: left;
}
.Users ul li a {
  margin: 1px 1px 0 0;
}
.Users ul li img {
  width: 36px;
  height: 36px;
  border: 1px solid #EAEAEA;
}
.Users ul li a:hover img {
  border: 1px solid #5cc26f;
}
.Users .more {
  margin: 10px 0;
  text-align: right;
  padding: 0 5px 0 0 ;
}
#BlogCatalogs ul li a {
  background: url('/img/fw_arrow.gif') no-repeat left center;
  padding-left: 15px;
  color: #333333;
}
#BlogCatalogs ul li a:hover {
  color: #000;
}
#BlogCatalogs ul li span {
  color: #666666;
  font-size: 8pt;
  -webkit-text-size-adjust: none;
  margin-left: 5px;
}
#BlogCatalogs ul li.draft a {
  font-weight: bold;
}
#HotBlogs ol li a {
  color: #333333;
  display: block;
}
#HotBlogs ol li a:hover {
  color: #000;
  background: #ddd;
}
#BlogLinks li a {
  color: #333333;
  display: block;
}
#BlogLinks li a:hover {
  color: #000;
  background: #ddd;
}
#RelativeBlogs {
  position: fixed;
  bottom: 0;
  right: -400px;
  width: 380px;
  height: 160px;
  background-color: #FFFFFF;
  font-size: 10.5pt;
  border: 1px solid #5cc26f;
}
#RelativeBlogs strong {
  display: block;
  margin: 0 0 10px 0;
  background: #5cc26f;
  color: #fff;
  padding: 2px 5px;
}
#RelativeBlogs strong a#btn_close {
  cursor: pointer;
  float: right;
  color: #fff;
  font-size: 9pt;
}
#RelativeBlogs ul {
  margin: 10px;
}
#RelativeBlogs ul li {
  line-height: 22px;
}
#RelativeBlogs ul li a {
  background: url('/img/a2.gif') no-repeat left center;
  padding-left: 15px;
  font-size: 10pt;
  text-decoration: none;
}
#RelativeBlogs ul li .date {
  float: right;
  font-size: 8pt;
  color: #666666;
  -webkit-text-size-adjust: none;
}
#BlogReplies ul li {
  color: #666666;
  border-bottom: 1px dashed #999999;
}
.TopBar .NavPath {
  float: left;
}
.TopBar .PreviewMod {
  float: right;
}
.TopBar .PreviewMod a.active {
  font-weight: bold;
  color: #4466BB;
}
.TopBar .PreviewMod a {
  color: #666666;
}
.BlogList .Blog {
  margin: 0 0 15px 0;
  border-bottom: 1px solid #eee;
  padding-bottom: 5px;
  position: relative;
}
.BlogList .Blog .date {
  position: absolute;
  right: 0;
  top: 5px;
  background: #7798cb;
  font-size: 8pt;
  color: #fff;
  -webkit-text-size-adjust: none;
  text-align: center;
  padding: 2px 3px;
}
.BlogList .Blog .date em {
  font-style: normal;
  font-family: Calibri;
  font-size: 16pt;
  display: block;
  font-weight: bold;
}
.BlogList .Blog .title {
  margin-right: 80px;
}
.BlogList .Blog h2 {
  font-size: 12pt;
  margin: 0 0 5px 0;
}
.BlogList .Blog h2.BlogAccess_false {
  background: url('/img/lock.gif') no-repeat 3px center;
  padding-left: 20px;
}
.BlogList .Blog h2.BlogTop_1 {
  background: url('/img/top.gif') no-repeat left center;
  padding-left: 22px;
}
.BlogList .Blog h2.BlogSong {
  background: url('/img/song.gif') no-repeat left center;
  padding-left: 22px;
}
.BlogList .Blog h2 a {
  text-decoration: none;
  color: #333333;
}
.BlogList .Blog .outline {
  color: #666666;
  font-size: 9pt;
}
.BlogList .Blog .bottom {
  margin: 15px 0 8px 0;
  color: #666666;
  font-size: 9pt;
}
.BlogList .Blog .bottom a.fullcontent {
  margin-left: 10px;
}
.BlogList .Blog .TextContent {
  margin: 15px 0 0 0px;
  color: #666666;
  line-height: 22px;
  overflow: hidden;
  letter-spacing: 1px;
}
.BlogList .Blog a {
  color: #666666;
}
.BlogList .Blog a:hover {
  color: #333333;
}
.BlogList .Blog .catalog {
  display: inline-block;
  position: relative;
  padding: 0px;
  margin: 0px;
  vertical-align: middle;
}
.BlogList .Blog .catalog ul {
  position: absolute;
  top: 18px;
  left: 27px;
  width: 120px;
  background: #5cc26f;
  z-index: 1000;
  overflow: hidden;
  border: 1px solid #F1F1F1;
  padding: 3px;
  display: none;
  vertical-align: middle;
  color: #FFF;
}
.BlogList .Blog .catalog ul li {
  line-height: 20px;
  text-indent: 5px;
  cursor: pointer;
  vertical-align: middle;
}
.BlogList .Blog .catalog ul li img {
  cursor: pointer;
  vertical-align: middle;
  float: right;
  margin-right: 5px;
  display: none;
}
.BlogList .Blog .catalog ul li:hover img {
  display: block;
}
.BlogList .Blog .setting {
  margin-left: 4px;
  vertical-align: middle;
  cursor: pointer;
  border: 1px solid #FFF;
}
.BlogList .Blog .setting:hover {
  border: 1px solid #F3F3F3;
}
.BlogTitle {
  padding: 5px 70px 5px 0px;
  margin: 0 0 10px 0;
  border-bottom: 2px solid #5cc26f;
  position: relative;
}
.BlogTitle h1 {
  font-size: 22px;
  margin: 0 0 10px 0;
  color: #000;
  font-weight: normal;
}
.BlogTitle .BlogStat {
  color: #666666;
}
.BlogTitle .BlogStat strong {
  margin: 0 2px;
  color: #A00;
}
.BlogTitle .BlogStat a {
  color: #A00;
  text-decoration: none;
}
.BlogTitle .BlogStat a:hover {
  color: #F00;
}
.BlogTitle .BlogStat .admin em {
  font-style: normal;
  font-weight: bold;
  color: #A00;
  margin: 0 2px;
}
.BlogTitle .tvote {
  height: 55px;
  width: 50px;
  display: inline-block;
  position: absolute;
  right: 0px;
  bottom: 5px;
}
.BlogTitle .tvote .num,
.BlogTitle .tvote .vote {
  display: inline-block;
  width: 50px;
  text-align: center;
  font-style: normal;
  color: #FFF;
  background: #5cc26f;
  cursor: pointer;
}
.BlogTitle .tvote .num:hover,
.BlogTitle .tvote .vote:hover {
  background-color: #4dbc62;
}
.BlogTitle .tvote .num {
  height: 20px;
  line-height: 20px;
  font-size: 12px;
}
.BlogTitle .tvote .vote {
  height: 35px;
  line-height: 35px;
  font-size: 20px;
}
.BlogContent {
  font-size: 12.5px;
  overflow: hidden;
}
.BlogContent p {
  margin-bottom: 15pt;
  line-height: 1.5;
  letter-spacing: 1px;
}
.BlogContent pre {
  line-height: 18px;
  font-size: 9pt;
  font-family: Courier New,Arial;
  border: 1px solid #ddd;
  background: #f6f6f6;
  padding: 5px;
}
.BlogAnchor {
  background: #f4f7f9;
  padding: 10px;
}
.BlogAnchor p {
  font-size: 12px;
}
.BlogAnchor .AnchorContent {
  padding: 5px 0px;
}
.BlogAnchor li {
  list-style: none;
  padding: 1px 0;
}
.BlogAnchor a {
  text-decoration: none;
}
.BlogAnchor a:hover {
  color: #5cc26f;
}
.BlogAnchor .osc_h1 {
  text-indent: 20px;
  font-size: 14px;
}
.BlogAnchor .osc_h2 {
  text-indent: 35px;
  font-size: 13px;
}
.BlogAnchor .osc_h3 {
  text-indent: 50px;
  font-size: 12px;
}
.BlogAnchor .osc_h4 {
  text-indent: 65px;
  font-size: 11px;
}
.BlogAnchor .osc_h5 {
  text-indent: 80px;
  font-size: 10px;
}
.BlogAnchor .osc_h6 {
  text-indent: 95px;
  font-size: 9px;
}
/*   happysha 2013-07-07   */
.BlogContent {
  color: #333;
  padding: 10px;
}
.BlogAbstracts {
  padding: 10px;
  background: #f4f7f9;
  font-size: 12px;
}
.BlogAbstracts strong {
  font-size: 15px;
  color: #15a230;
  font-weight: normal;
}
.BlogAbstracts span {
  font-size: 12.5px;
  letter-spacing: 0.7px;
}
em.corner {
  font-size: 13px;
  font-weight: normal;
  color: #FFF;
  display: inline-block;
  line-height: 20px;
  background: #5cc26f;
  font-style: normal;
  padding: 1px 8px;
  margin-right: 10px;
}
.BlogAnchor p {
  font-size: 18px;
  color: #15a230;
}
.BlogAnchor p strong {
  font-weight: normal;
  font-size: 14px;
}
.BlogContent,
.BlogAbstracts,
.BlogAnchor {
  line-height: 180%;
}
.BlogContent h1,
.BlogContent h2,
.BlogContent h3,
.BlogContent h4,
.BlogContent h5,
.BlogContent h6,
.BlogContent p,
.BlogContent ol,
.BlogContent ul {
  line-height: 180%;
}
.BlogContent h1,
.BlogContent h2,
.BlogContent h3,
.BlogContent h4,
.BlogContent h5,
.BlogContent h6 {
  font-weight: 600;
}
.BlogContent h1 {
  font-size: 24px;
  margin: 20px 0 10px 0;
}
.BlogContent h2 {
  font-size: 20px;
  margin: 20px 0 10px 0;
}
.BlogContent h3 {
  font-size: 16px;
  margin: 15px 0 10px 0;
}
.BlogContent h4 {
  font-size: 14px;
  margin: 10px 0;
}
.BlogContent h5 {
  font-size: 12px;
  margin: 10px 0;
}
.BlogContent h6 {
  font-size: 12px;
  margin: 10px 0;
}
.BlogContent p {
  font-size: 12.5px;
  margin: 8px 0;
  letter-spacing: 0.5px;
  white-space: normal;
  -ms-word-wrap: break-word;
  word-wrap: break-word;
  -ms-word-break: break-all;
  word-break: break-all;
}
.BlogContent ol,
.BlogContent ul {
  margin: 10px 20px;
}
.BlogContent img {
  max-width: 640px;
  background: #f4f7f9;
  border: 1px solid #ddd;
  margin: 10px 0;
}
.BlogContent blockquote:before,
.BlogContent blockquote:after,
.BlogContent q:before,
.BlogContent q:after {
  content: "";
  font-size: 24px;
  color: #0F6575;
  font-family: Helvetica, arial, '宋体';
  position: absolute;
}
.BlogContent blockquote:before {
  content: "“";
  top: 5px;
  left: 10px;
}
.BlogContent blockquote:after {
  content: "”";
  bottom: -5px;
  right: 15px;
}
.BlogContent q,
.BlogContent blockquote {
  position: relative;
  background: #F4FDFD;
  text-align: left;
  margin: 20px 10px;
  padding: 3px 25px 3px 25px;
  color: #333;
  font-size: 10pt;
  line-height: 22px;
  border-left: 3px solid #A4DAF0;
}
.BlogContent blockquote i,
.BlogContent q i {
  font-style: normal;
  font-size: 12px;
}
.BlogContent b {
  font-style: normal;
  font-weight: 600;
}
.BlogContent > table {
  border-collapse: collapse;
  border-spacing: 1px;
  border: 1px solid #F8F8F8;
  font-size: 12px;
  color: #444;
}
.BlogContent > table th,
.BlogContent > table td {
  padding: 0 2px;
}
.BlogContent > table th {
  font-weight: 500;
  background: #f3f3f3;
}
.BlogContent > table th,
.BlogContent > table td {
  border: 1px solid #F8F8F8;
  padding: 1px 2px;
}
.BlogContent a {
  color: #FF8373;
  font-size: 12px;
}
.BlogContent ul,
ol {
  margin: 0 0 10px 20px;
}
.BlogContent ul {
  list-style-type: disc;
}
.BlogContent ol {
  list-style-type: decimal;
}
.BlogContent code {
  font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', 'Courier', 'monospace !important';
  color: red;
}
.BlogContent pre code {
  margin: 0 2px;
  padding: 1px 3px;
  border-radius: 3px;
  white-space: pre-wrap;
  -ms-word-wrap: break-word;
  word-wrap: break-word;
  -ms-word-break: break-all;
  word-break: break-all;
  padding: 8px 5px;
}
.BlogShare {
  padding: 8px 0px;
  border: 1px solid #DDD;
  margin: 20px 0px;
  line-height: 30px;
}
.BlogShare a {
  text-decoration: none;
}
.BlogShare strong {
  margin-left: 15px;
  line-height: 30px;
  vertical-align: middle;
}
.BlogShare .share_sina img,
.BlogShare .share_qq img {
  vertical-align: middle;
  margin: 3px 8px;
}
.BlogShare .BlogVote {
  height: 30px;
  background: #5cc26f;
  display: inline-block;
  float: right;
  padding: 3px 8px;
  line-height: 30px;
  color: #FFF;
  margin-right: 5px;
}
.BlogShare .BlogVote:hover {
  background-color: #4dbc62;
}
.BlogShare .BlogVote .num {
  padding: 0px 3px;
  cursor: pointer;
  font-size: 12px;
}
.BlogShare .BlogVote .vote {
  padding: 0px 3px;
  font-size: 18px;
  cursor: pointer;
}
/*   happysha 2013-07-07   */
.BlogLinks {
  margin: 10px 0 20px 0;
}
.BlogLinks ul {
  list-style-type: none;
  font-weight: bold;
  height: 24px;
}
.BlogLinks ul li.prev {
  float: left;
  width: 48%;
}
.BlogLinks ul li.next {
  float: right;
  width: 48%;
  text-align: right;
}
.BlogCopyright {
  color: #666666;
  margin: 20px 0;
  border: 1px solid #ddd;
  background: #ffe;
  padding: 5px 15px;
  font-size: 12px;
}
.BlogCopyright a {
  color: #666666;
  text-decoration: none;
}
.BlogComments h2 {
  font-size: 18px;
  color: #444;
  font-weight: 600;
  padding: 5px 0px;
  border-bottom: 1px solid #ccc;
}
.BlogComments h2 em {
  font-size: 12px;
  padding: 0px 5px;
  font-style: normal;
  color: #5cc26f;
}
.BlogComments h2 a {
  float: right;
  font-weight: normal;
  font-size: 10pt;
}
.BlogComments ul {
  margin: 10px 0 10px 0;
}
.BlogComments ul li {
  margin: 0 0 10px 0;
  padding: 5px 0px;
}
.BlogComments ul li.even {
  background: #F6F6F6;
}
.BlogComments ul li .portrait {
  width: 65px;
  padding-top: 3px;
}
.BlogComments ul li .portrait img {
  width: 40px;
  height: 40px;
  padding: 2px;
  background: #fff;
  border: 1px solid #F1F1F1;
}
.BlogComments ul li .body .title {
  color: #666666;
  font-size: 9pt;
}
.BlogComments ul li .body .title a.user {
  text-decoration: none;
  color: #666666;
  font-weight: bold;
}
.BlogComments ul li .body .post {
  margin: 8px 0 0 0;
  color: #00A;
  font-size: 12px;
}
.BlogComments ul li .body .post div.ref {
  border: 1px solid #999;
  color: #333;
  margin: 0 0 10px 0;
  padding: 3px;
  background: #ffe;
  font-size: 9pt;
}
.BlogComments ul li .body .post div.ref h4 {
  margin: 0;
  padding: 2px 0px 3px 0px;
  color: #1E50A2;
  font-weight: normal;
  font-size: 10pt;
}
.BlogComments ul li .body .post div.ref p {
  margin: 0;
  padding: 2px;
  line-height: 20px;
  color: color: #333;
  font-size: 9pt;
}
.BlogComments ul li .body .post img {
  width: 20px;
  vertical-align: middle;
  margin: 0px 2px;
}
.BlogComments .inline_reply {
  margin-top: 10px;
}
.BlogCommentForm {
  width: 650px;
}
.BlogCommentForm .comment_form {
  padding-left: 70px;
  width: 650px;
}
.blg_submit_btn {
  padding: 5px 10px;
  text-decoration: none;
  background: #5cc26f;
  font-size: 12px;
  color: #FFF;
  display: inline-block;
  border: none;
  font-family: '微软雅黑';
  cursor: pointer;
}
.blg_submit_btn:hover {
  background-color: #4dbc62;
}
.BlogCommentForm .comment_portrait {
  float: left;
  margin-left: 10px;
}
.BlogCommentForm .comment_portrait img {
  width: 40px;
  height: 40px;
  padding: 2px;
  border: #eee 1px solid;
}
.BlogCommentForm p {
  margin: 5px 0px;
  font-size: 12px;
}
.BlogCommentForm a.blog_emotion,
.BlogCommentForm a.blog_soft {
  text-decoration: none;
  padding: 1px 2px 1px 18px;
  color: #666;
  border: 1px #FFF solid;
}
.BlogCommentForm a.blog_emotion:hover,
.BlogCommentForm a.blog_soft:hover {
  border: 1px #F00 solid;
}
.BlogCommentForm a.blog_emotion {
  background: url('/img/space/emotion.gif') no-repeat left center;
}
.BlogCommentForm a.blog_soft {
  background: url('/img/space/app.gif') no-repeat left center;
}
.LMod {
  border: 1px solid #eee;
  background: #fff;
  padding: 10px 10px 5px 10px;
  overflow: hidden;
}
.LMod strong {
  display: block;
  font-size: 12pt;
  padding: 0 10px;
  color: #666666;
}
.LMod ul {
  margin: 15px 0 0 0;
}
.LMod ul li {
  margin: 0 0 10px 0;
}
.LMod ul li .d {
  color: #999999;
  font-size: 8pt;
  -webkit-text-size-adjust: none;
  margin-left: 5px;
}
.LMod ul li a {
  background: url('/img/a2.gif') no-repeat left 6px;
  padding-left: 15px;
  text-decoration: none;
}
.LMod .more {
  margin: 10px 0;
  text-align: right;
  padding: 0 5px 0 0 ;
}
.MMod {
  border: 1px solid #eee;
  background: #fff;
}
.RMod {
  border: 1px solid #eee;
  background: #fff;
  padding: 10px;
}
.RMod strong {
  color: #333333;
  display: block;
  font-size: 14pt;
  font-weight: normal;
  margin: 0 0 10px 0;
}
.RMod strong a {
  float: right;
  font-weight: normal;
  font-size: 10pt;
  margin: 5px 2px 0 0;
}
.RMod ul li a {
  color: #333333;
  text-decoration: none;
}
.RMod ul li a:hover {
  color: #000;
}
#Ad {
  margin: 20px 0 0 0;
}
#Ad strong {
  display: block;
  margin: 0 0 10px 0;
}
#AboutMe {
  padding: 20px;
}
#MyBlog {
  background: #5cc26f;
  padding: 10px;
  margin-bottom: 10px;
}
#MyBlog a {
  text-decoration: none;
  color: #fff;
  font-size: 16pt;
  float: left;
  margin-left: 10px;
}
#MyBlog .action {
  float: left;
  width: 30px;
  height: 30px;
  background: url('/img/2012/action-icons.png') no-repeat 0 0;
}
#MyBlog:hover {
  background: #40ab54;
}
#TopBlogs {
  margin: 10px 0 0 0;
  padding-bottom: 10px;
}
#TopBlogs strong {
  padding-left: 5px;
  padding-right: 0;
}
#TopBlogs strong a {
  font-weight: normal;
  float: right;
  text-decoration: none;
  color: #000;
}
#TopBlogs ul li {
  margin: 0 5px 3px 0;
}
#TopBlogs ul li .s {
  font-size: 9pt;
  color: #999;
  margin-left: 5px;
}
#TopBlogs ul li .d {
  float: right;
  font-size: 9pt;
}
#TopBlogs ul li a {
  background: none;
  padding-left: 10px;
}
#UserSkills #UserScore {
  border-bottom: 1px dashed #eee;
  overflow: hidden;
  padding-bottom: 10px;
}
#UserSkills #UserScore h1 {
  font-size: 12pt;
  font-weight: normal;
  float: left;
  text-align: center;
}
#UserSkills #UserScore h1 em {
  font-size: 20pt;
  color: red;
  font-style: normal;
  color: #F00;
  display: block;
  margin: 5px 0 0 0;
}
#UserSkills #UserScore h1 a {
  color: #999;
  text-decoration: none;
  display: block;
}
#UserSkills #UserScore h1 a:hover {
  color: #000;
}
#UserSkills #UserScore h1.best {
  width: 80px;
}
#UserSkills #UserScore h1.score {
  width: 90px;
  border-left: 1px solid #eee;
  padding-left: 10px;
}
#UserSkills h1.Title {
  color: #5cc26f;
  font-size: 16pt;
}
#UserSkills h1.Title a {
  font-weight: normal;
  font-size: 10pt;
  float: right;
  margin: 3px 2px 0 0;
}
#UserSkills ul li {
  margin: 10px 0 0 0;
}
#UserSkills ul li strong {
  font-size: 10.5pt;
  margin: 0px;
  font-weight: bold;
}
#UserSkills ul li p {
  color: #666;
}
#UserSkills ul li .more {
  display: block;
}
#UserSkills #OtherScore {
  border-bottom: 1px dashed #eee;
  padding: 5px 0 5px 20px;
  overflow: hidden;
}
#UserSkills #OtherScore h1 {
  font-size: 10pt;
  font-weight: normal;
  float: left;
}
#UserSkills #OtherScore h1 em {
  font-size: 10pt;
  color: red;
  font-style: normal;
  color: #F00;
  margin: 0 15px 0 0px;
  float: right;
  width: 50px;
  text-align: right;
}
#UserSkills #OtherScore h1 a {
  color: #999;
  text-decoration: none;
  display: block;
  text-align: left;
  width: 140px;
}
#UserSkills #OtherScore h1 a:hover {
  color: #000;
}
#Profile li {
  margin: 10px 0 0 0;
  font-size: 9pt;
  color: #666666;
}
#Profile li b {
  display: block;
  color: #333333;
  margin-bottom: 2px;
}
#Profile li b.inline {
  display: inline;
}
#Profile li a {
  color: #4466bb;
}
#Profile li a:hover {
  color: #0000aa;
}
#FavorBox {
  margin-top: 10px;
  padding-bottom: 20px;
}
#FavorBox ul {
  margin: 0 0 0 0;
}
#FavorBox ul li {
  float: left;
  width: 85px;
  height: 62px;
  text-align: center;
  margin: 30px 0 0 5px;
  overflow: hidden;
}
#FavorBox ul li .logo {
  display: block;
  margin: 0 0 3px 0;
}
#FavorBox ul li img {
  width: 40px;
  height: 40px;
}
#FavorBox ul li .name {
  font-weight: bold;
  font-size: 9pt;
  height: 20px;
  line-height: 20px;
}
#FavorUpdate {
  margin-top: 10px;
}
#FavorUpdate ul {
  margin: 20px 0 0 0;
}
#FavorUpdate ul li {
  margin: 0 0 10px 0;
  color: #999999;
  font-size: 9pt;
}
#FavorUpdate ul li a {
  font-weight: bold;
  font-size: 9pt;
  display: block;
  margin-bottom: 2px;
}
#FavorUpdate ul li .date {
  font-size: 8pt;
  -webkit-text-size-adjust: none;
}
.AdminNav {
  background: #5cc26f;
  padding: 10px;
  font-size: 14pt;
}
.AdminNav a.u {
  float: left;
  width: 40px;
}
.AdminNav a.u img {
  width: 36px;
  height: 36px;
}
.AdminNav a.h {
  float: left;
  color: #fff;
  margin: 5px 0 0 10px;
}
.AdminNav a.h:hover {
  color: #eee;
}
#AdminMenus {
  font-size: 10.5pt;
}
#AdminMenus li.caption {
  margin-bottom: 20px;
}
#AdminMenus li.caption ol {
  margin: 10px 0 0 0;
  line-height: 26px;
}
#AdminMenus li.caption ol li {
  padding-left: 10px;
}
#AdminMenus li.caption ol li.active {
  background: #f6f6f6;
  font-weight: bold;
}
#AdminMenus li.caption ol li.active a {
  color: #333333;
}
#AdminBody {
  min-height: 600px;
  color: #333333;
}
#AdminBody .AdminHead {
  border-bottom: 1px solid #cccccc;
  margin-bottom: 20px;
}
#AdminBody .AdminHead h1 {
  color: #666666;
  margin-bottom: 15px;
}
#AdminBody .AdminHead h1 a {
  text-decoration: none;
  color: #666666;
}
#AdminBody .AdminHead h1 .SubTitle {
  font-weight: normal;
  font-size: 10.5pt;
  margin-left: 10px;
}
#AdminBody .AdminHead h1 .SubTitle a {
  color: #666666;
}
#AdminBody .AdminHead h1 .SubTitle a:hover {
  color: #000;
  text-decoration: underline;
}
#AdminBody .AdminHead .RelativeLinks {
  float: right;
  margin: 10px 10px 0 0;
}
#AdminBody .AdminHead .RelativeLinks a {
  margin-left: 10px;
}
#AdminBody .AdminHead .Tabs {
  font-size: 16pt;
  padding-left: 20px;
  height: 37px;
  height: 37px;
}
#AdminBody .AdminHead .Tabs li {
  float: left;
  margin-right: 10px;
}
#AdminBody .AdminHead .Tabs li a {
  display: block;
  padding: 5px 10px;
  color: #666666;
  text-decoration: none;
}
#AdminBody .AdminHead .Tabs li a:hover {
  color: #000;
}
#AdminBody .AdminHead .Tabs li a.active {
  background: #7798cb;
  color: #fff;
}
#AdminBody .AdminHead .Tabs li a.active:hover {
  color: #fff;
}
#ProfileForms .Langs strong {
  display: block;
}
#ProfileForms .Langs ul li {
  float: left;
  width: 160px;
  height: 25px;
}
#ProfileForms .Fields ul li {
  float: left;
  width: 220px;
  height: 25px;
}
.Drafts ul li {
  margin: 0 0 20px 0;
  border-bottom: 1px dashed #cccccc;
  padding-bottom: 10px;
}
.Drafts ul li h2 {
  color: #999999;
}
.Drafts ul li h2 a.title {
  font-size: 12pt;
  color: #333333;
  text-decoration: none;
}
.Drafts ul li h2 .opts {
  float: right;
  font-weight: normal;
  font-size: 10pt;
}
.Drafts ul li p {
  color: #999999;
  margin: 10px 10px 0 10px;
  line-height: 24px;
}
.BlogCommentList li {
  margin: 0 0 10px 0;
  border-bottom: 1px dashed #666666;
  padding-bottom: 10px;
}
.BlogCommentList li .user {
  width: 50px;
}
.BlogCommentList li .user img {
  width: 36px;
  height: 36px;
}
.BlogCommentList li .body {
  overflow: hidden;
}
.BlogCommentList li .body a {
  font-weight: bold;
}
.BlogCommentList li .body p {
  color: #666666;
  margin: 5px 0 0 0;
  line-height: 22px;
}
.BlogCommentList li .opts {
  width: 100px;
}
.BlogCommentList li .opts a {
  display: block;
  text-decoration: none;
}
.BlogCatalogManage form {
  margin: 20px 0 0 0;
}
.BlogCatalogManage form h3 {
  font-size: 10.5pt;
  margin: 0 0 10px 0;
}
.BlogCatalogManage form h3 span {
  font-weight: normal;
  margin: 0 0 0 10px;
  color: #666666;
}
.BlogCatalogManage form.BlogCatalogs table {
  background: #cccccc;
}
.BlogCatalogManage form.BlogCatalogs table th {
  background: #999999;
  color: #333333;
  padding: 3px 10px;
  text-align: center;
  font-weight: bold;
}
.BlogCatalogManage form.BlogCatalogs table td {
  background: #fff;
  padding: 3px 5px;
}
.BlogCatalogManage form.BlogCatalogs table td a {
  text-decoration: none;
}
.BlogCatalogManage form.BlogCatalogs table td.idx,
.BlogCatalogManage form.BlogCatalogs table td.num {
  text-align: center;
  font-size: 8pt;
  -webkit-text-size-adjust: none;
}
.BlogLinkManage form {
  margin: 20px 0 0 0;
}
.BlogLinkManage form h3 {
  font-size: 10.5pt;
  margin: 0 0 10px 0;
}
.BlogLinkManage form h3 span {
  font-weight: normal;
  margin: 0 0 0 10px;
  color: #666666;
}
.BlogLinkManage form li {
  list-style: none;
  margin-bottom: 10px;
}
.BlogLinkManage form li label {
  float: left;
  width: 80px;
  text-align: right;
}
.BlogLinkManage form .submit input.BUTTON {
  background: #5cc26f;
  border: none;
  color: #FFF;
  font-weight: normal;
  font-size: 11pt;
  cursor: pointer;
  padding: 2px 8px;
  margin-right: 5px;
}
.BlogLinkManage form .submit input.BUTTON:hover {
  background: #40ab54;
}
.BlogLinkManage form.BlogLinks table {
  background: #cccccc;
}
.BlogLinkManage form.BlogLinks table th {
  background: #5cc26f;
  color: #FFF;
  padding: 3px 10px;
  text-align: center;
  font-weight: bold;
}
.BlogLinkManage form.BlogLinks table td {
  background: #fff;
  padding: 3px 5px;
}
.BlogLinkManage form.BlogLinks table td a {
  text-decoration: none;
}
.BlogLinkManage form.BlogLinks table td.idx,
.BlogLinkManage form.BlogLinks table td.num {
  text-align: center;
  font-size: 8pt;
  -webkit-text-size-adjust: none;
}
#Logs {
  margin: 10px 0 0 0;
  padding: 10px;
}
#Logs .UserLogs {
  margin: 20px 10px;
}
ul.LogTabs {
  border-bottom: 1px solid #7798cb;
  padding-left: 10px;
  height: 28px;
  line-height: 28px;
}
ul.LogTabs li {
  float: left;
  margin-right: 5px;
}
ul.LogTabs li a {
  display: block;
  background: #f6f6f6;
  text-decoration: none;
  font-size: 10.5pt;
  padding: 0 10px;
  color: #999999;
}
ul.LogTabs li a:hover {
  color: #666666;
}
ul.LogTabs li.active a {
  background: #7798cb;
  color: #fff;
}
ul.LogFilter {
  padding: 0 0 0 10px;
  margin-top: 10px;
  height: 20px;
  line-height: 20px;
}
ul.LogFilter li {
  float: left;
  margin-right: 15px;
}
ul.LogFilter li a {
  text-decoration: none;
  display: block;
  padding: 0 5px;
}
ul.LogFilter li a.active {
  border: 1px solid #7798cb;
}
#do_batch_btn {
  text-decoration: none;
}
#FavoriteList {
  padding-right: 30px;
}
#FavoriteTags {
  width: 170px;
}
#FavoriteTags strong {
  display: block;
  margin: 0 0 20px 0;
}
#FavoriteList ul.FavList {
  margin: 20px 0 20px 10px;
}
#FavoriteList ul.FavList li {
  padding: 10px 0;
  border-bottom: 1px dashed #FFF;
}
#FavoriteList ul.FavList li.even {
  background-color: #FFF;
}
#FavoriteList ul.FavList li .opts {
  float: right;
  font-size: 9pt;
}
#FavoriteList ul.FavList li .opts a {
  color: #666666;
}
#FavoriteList ul.FavList li .opts a:hover {
  color: #000;
}
#FavoriteList ul.FavList li a.title {
  text-decoration: none;
  font-size: 10.5pt;
  padding-left: 25px;
}
a.tag.success {
  background-color: #5cc26f;
}
#FavoriteList ul.FavList li .tags {
  margin-left: 25px;
}
#FavoriteList ul.FavList li .tags a {
  padding: 1px 3px;
  font-size: 8pt;
  -webkit-text-size-adjust: none;
}
#FavoriteList ul.FavList li .tags input[type='text'] {
  padding: 0 3px;
}
#FavoriteList ul.FavList li .tags input[type='checkbox'] {
  float: right;
  display: none;
}
#FavoriteList ul.FavList li .tags form {
  margin-top: 5px;
  color: #666666;
}
#FavoriteTags .tag span.count {
  margin-left: 3px;
}
#FavoriteTags .tag:hover span.count {
  display: none;
}
#FavoriteTags .tag span.delete {
  color: #A00;
  margin-left: 3px;
  display: none;
}
#FavoriteTags .tag:hover span.delete {
  display: inline;
  margin-left: 3px;
}
ul#TagSetting {
  margin-top: 20px;
}
ul#TagSetting li input {
  display: none;
  height: 18px;
  line-height: 20px;
}
ul#TagSetting li {
  height: 20px;
  float: left;
  width: 47%;
  padding: 2px;
  margin: 3px 5px;
}
ul#TagSetting li span.tagname {
  margin-right: 5px;
  padding: 0 5px;
  height: 20px;
}
ul#TagSetting li:hover {
  background-color: #CCC;
}
ul#TagSetting li:hover a {
  display: inline;
}
ul#TagSetting li a {
  text-decoration: none;
  float: right;
  font-size: 12px;
  display: none;
}
ul#TagSetting li a.remove {
  margin: 0 10px;
}
ul#TagSetting li img {
  vertical-align: middle;
}
.NewsList {
  margin: 0 0 20px 0;
}
.NewsList li {
  margin-bottom: 5px;
}
.NewsList li .title a {
  text-decoration: none;
}
.NewsList li .stat {
  width: 110px;
  font-size: 9pt;
  color: #666666;
}
.NewsList li .date {
  width: 70px;
  color: #666666;
  font-size: 9pt;
}
.NewsList li .opts {
  width: 110px;
  text-align: right;
  color: #666666;
}
.ProjectList li {
  margin: 0 0 10px 0;
}
.ProjectList .head {
  font-weight: bold;
  color: #000;
  border-bottom: 1px solid #cccccc;
  padding-bottom: 10px;
}
.ProjectList li .date {
  width: 150px;
  color: #666666;
  font-size: 9pt;
}
.ProjectList li .status {
  width: 100px;
}
.ProjectList li .opts {
  width: 80px;
  text-align: right;
}
.UserList h1 {
  border-bottom: 1px solid #cccccc;
  margin: 0 0 10px 0;
  padding-bottom: 15px;
  color: #666666;
}
.UserList h1 .SubTitle {
  font-size: 10pt;
  font-weight: normal;
  color: #666666;
  margin-left: 10px;
}
.UserList .SortBar {
  background: #eee;
  margin-bottom: 20px;
  padding: 3px 10px;
}
.UserList .SortBar a {
  margin-left: 10px;
}
.UserList .SortBar a.active {
  font-weight: bold;
}
.UserList a {
  text-decoration: none;
}
.UserList li {
  margin: 0 0 10px 0;
  border-bottom: 1px dashed #cccccc;
  padding-bottom: 10px;
}
.UserList li td {
  vertical-align: top;
  padding: 0;
}
.UserList li .avatar {
  width: 45px;
}
.UserList li .avatar img {
  width: 32px;
  height: 32px;
  margin-top: 5px;
}
.UserList li .update .name {
  font-weight: bold;
}
.UserList li .update .nickname {
  margin-left: 10px;
  color: #666666;
}
.UserList li .update .set_memo {
  display: none;
}
.UserList li .update .log {
  color: #666666;
  margin: 5px 0 0 0;
  font-size: 9pt;
}
.UserList li .update .log .user {
  display: none;
}
.UserList li .update .log .rpost {
  margin-left: 10px;
}
.UserList li .opts {
  text-align: right;
  width: 80px;
}
.UserList li .opts a {
  display: block;
}
.Msgs a {
  text-decoration: none;
}
.Msgs li {
  margin: 0 0 10px 0;
  border-bottom: 1px dashed #cccccc;
}
.Msgs li .user {
  width: 48px;
}
.Msgs li .user img {
  width: 32px;
  height: 32px;
  margin-top: 5px;
}
.Msgs li .msg {
  color: #333333;
  margin-bottom: 10px;
  line-height: 22px;
}
.Msgs li .bottom {
  height: 20px;
}
.Msgs li .date {
  float: left;
  width: 120px;
  font-size: 9pt;
  color: #666666;
}
.Msgs li .opts {
  float: right;
  text-align: right;
  color: #999999;
}
.MsgForm {
  margin: 0 0 20px 48px;
}
.MsgForm strong {
  display: block;
  margin-bottom: 5px;
}
.MsgForm strong span {
  font-weight: normal;
  margin-left: 10px;
}
.MsgForm textarea {
  width: 500px;
  height: 60px;
  padding: 3px;
}
#MyTweetForm {
  padding: 10px 15px;
  border: 1px solid #eee;
  background: #fff;
}
#TForm #TFormEditor {
  border: 2px solid #5cc26f;
  padding: 2px;
  margin: 2px 0 0 0;
  background: #fff;
}
#TForm textarea {
  border: 0;
  width: 98%;
  height: 50px;
  padding: 5px;
  font-size: 10pt;
  overflow: auto;
  scroll: none;
  background: #fff;
}
#TFormTitle {
  color: #888;
  position: relative;
}
#TFormTitle .r {
  float: right;
  margin: 0px 10px 0 0;
  font-size: 9pt;
}
#TFormTitle .r em {
  font-style: normal;
  font-weight: bold;
  font-size: 10.5pt;
  color: #A00;
  margin: 0 3px 0 0;
}
#TForm #TFormOpts {
  margin: 0 0 0 5px;
}
#TForm #TFormOpts ul {
  float: left;
  margin: 2px 0 0 0;
  padding: 1px;
}
#TForm #TFormOpts ul li {
  display: inline;
  margin-right: 5px;
}
#TForm #TFormOpts ul li a {
  font-size: 9pt;
  text-decoration: none;
  color: #666666;
  border: 1px solid #fff;
  padding: 1px 2px 1px 18px;
}
#TForm #TFormOpts ul li a:hover {
  border: 1px solid #5cc26f;
}
#TForm #TFormOpts ul li.t {
  color: #666666;
  margin-right: 0;
}
#TForm #TFormOpts ul li.emotion a {
  background: url('/img/space/emotion.gif') no-repeat left center;
}
#TForm #TFormOpts ul li.img a {
  background: url('/img/space/img.gif') no-repeat 2px center;
  padding-left: 20px;
}
#TForm #TFormOpts ul li.app a {
  background: url('/img/space/app.gif') no-repeat left center;
}
#TForm #TFormOpts ul li.code a {
  background: url('/img/code.gif') no-repeat left center;
}
#TForm #TFormOpts input.B {
  cursor: pointer;
  border: 0;
  float: right;
  font-size: 12pt;
  padding: 3px 20px 5px 20px;
  margin-right: 10px;
  color: #fff;
  background: #5cc26f;
}
#TweetFormPopupWraper {
  display: none;
  position: absolute;
  z-index: 9999;
}
#TweetFormPopupArrow {
  background-image: url('/img/space/up_arrow.gif');
  background-repeat: no-repeat;
  padding-top: 5px;
}
#TweetFormPopupWraper .emotions {
  background-position: 51px 0px;
}
#TweetFormPopupWraper .images {
  background-position: 107px 0px;
}
#TweetFormPopupWraper .code {
  background-position: 165px 0px;
}
#TweetFormPopup {
  width: 392px;
  border: 2px solid #cccccc;
  background: #ffc;
  padding: 5px;
}
#TweetFormPopup a.close {
  float: right;
  font-size: 8pt;
  font-weight: bold;
  -webkit-text-size-adjust: none;
}
#TweetFormPopup a.emotion {
  float: left;
  width: 24px;
  height: 24px;
  background-image: url('/js/ke/plugins/emoticons/qq.gif');
  background-repeat: no-repeat;
  margin: 0 2px 4px 0;
  border: 1px solid #f6f6f6;
}
#TweetFormPopup a.emotion:hover {
  border: 1px solid #5cc26f;
}
#TweetFormPopup .TweetPopupTitle {
  background: #666666;
  color: #fff;
  padding: 3px 5px;
  margin: 0 0 10px 0;
  font-weight: bold;
}
#TweetFormPopup .TweetPopupTitle a {
  float: right;
  color: #FFF;
}
#TweetImages .l {
  margin: 0 0 10px 0;
}
#TweetImages .tip {
  color: #666666;
}
#TweetCode {
  padding: 5px;
}
#TweetCode textarea {
  width: 100%;
  height: 250px;
  display: block;
  margin: 10px 0;
}
#TweetCode pre {
  font-size: 9pt;
  font-family: Courier New,Arial;
  border: 1px solid #ddd;
  border-left: 5px solid #6CE26C;
  background: #f6f6f6;
  padding: 5px;
  margin: 0 0 10px 0;
}
.Tweet {
  border-bottom: 1px dashed #cccccc;
  padding: 0 0 5px 0;
  margin: 0 0 10px 0;
}
.Tweet a {
  text-decoration: none;
}
.Tweet .TweetUser {
  width: 48px;
}
.Tweet .TweetUser img {
  width: 32px;
  height: 32px;
  margin-top: 5px;
}
.Tweet .TweetContent {
  color: #333333;
}
.Tweet .TweetContent h5 {
  font-weight: normal;
  font-size: 10pt;
  color: #999999;
}
.Tweet .TweetContent .post {
  font-size: 10.5pt;
  line-height: 22px;
  margin: 5px 0 0 0;
  overflow: hidden;
}
.Tweet .TweetContent .ref {
  font-size: 9pt;
  margin: 3px 0 0 0;
  background: url('/img/space/up_arrow.gif') no-repeat 15px 0;
  padding-top: 5px;
}
.Tweet .TweetContent .ref .p {
  border: 1px solid #cccccc;
  background: #f6f6f6;
  padding: 5px;
  color: #999999;
}
.Tweet .TweetContent .ref .rpost {
  display: block;
  margin: 3px 0;
}
.Tweet .TweetContent .photo {
  margin: 10px 0;
}
.Tweet .TweetContent .photo a[class^="rotate-"] {
  width: 14px;
  height: 14px;
  display: inline-block;
}
.Tweet .TweetContent .photo .rotate-clockwise {
  background: url("/img/rotate-clockwise.png") no-repeat;
  background-size: 14px 14px;
}
.Tweet .TweetContent .photo .rotate-anticlockwise {
  background: url("/img/rotate-anticlockwise.png") no-repeat;
  background-size: 14px 14px;
}
.Tweet .TweetContent .photo img {
  border: 1px solid #f6f6f6;
  padding: 1px;
  max-width: 450px;
  cursor: pointer;
}
.Tweet .TweetContent .photo img:hover {
  border: 1px solid #5cc26f;
}
.Tweet .TweetContent .photo .ImgMenu a {
  margin: 0 5px 0 0;
}
.Tweet .TweetContent embed {
  margin: 3px 0 0 0;
}
.Tweet .TweetContent .video {
  margin: 10px 0;
}
.tweet_video_operation {
  display: none;
}
.tweet_video_description {
  margin: 0 0 5px 0;
  font-size: 12px;
}
.tweet_thumb_wrapper {
  display: inline-block;
  border: 1px solid #D2D2D2;
  background: white;
  overflow: hidden;
  padding: 3px;
  position: relative;
  cursor: pointer;
}
.tweet_play_video {
  opacity: 0.7;
  display: inline-block;
  width: 37px;
  height: 37px;
  background: url('/img/play_video.png') no-repeat;
  position: absolute;
  top: 50%;
  left: 50%;
  margin-top: -18px;
  margin-left: -18px;
}
.Tweet .TweetContent pre {
  margin: 5px 0 10px 0;
}
.Tweet .TweetContent .bottom {
  margin: 10px 0 0 0;
  height: 18px;
}
.Tweet .TweetContent .opts {
  font-size: 8pt;
  float: right;
}
.Tweet .TweetContent .time {
  font-size: x-small;
  margin: 0;
  color: #888;
  -webkit-text-size-adjust: none;
}
.Tweet .LogReplyList {
  margin: 0px 0 5px 0;
  display: none;
  padding: 5px 5px 5px 0;
}
.Tweet .LogReplyList .TweetRplsWrapper {
  background: #f9f9f9;
  padding: 10px 10px 20px 10px;
  border: 1px solid #cccccc;
}
.Tweet .LogReplyList .TweetRplsWrapper .loading {
  background: url('/img/loading.gif') no-repeat left center;
  padding-left: 22px;
}
.Tweet .LogReplyList #closeTweetRpls {
  float: right;
  font-weight: bold;
  line-height: 8px;
  height: 8px;
}
.Tweet .LogReplyList form {
  margin: 5px 0 0 5px;
}
.Tweet .LogReplyList form label {
  font-size: 9pt;
}
.Tweet .LogReplyList .TweetReplyOptions {
  margin: 3px 0 0 0;
}
.Tweet .LogReplyList .TweetReplyOptions input {
  float: left;
  margin: 2px 0 0 0;
}
.Tweet .LogReplyList .TweetReplyOptions label {
  float: left;
}
.Tweet .pager {
  margin: 20px 0 0 2px;
}
.TweetRpls h6 {
  font-size: 10pt;
  margin: 10px 0 5px 0;
  border-bottom: 1px solid #cccccc;
  padding-bottom: 5px;
}
.TweetRpls ul {
  font-size: 9pt;
}
.TweetRpls li {
  border-bottom: 1px dashed #cccccc;
  padding: 10px 0 5px 0;
}
.TweetRpls li .portrait {
  width: 30px;
}
.TweetRpls li .portrait img {
  width: 24px;
  height: 24px;
  margin: 5px 0 0 0;
}
.TweetRpls li .TweetReplyBody {
  overflow: hidden;
}
.TweetRpls li .TweetReplyBody .post {
  line-height: 20px;
}
.TweetRpls li .TweetReplyBody .opts {
  float: none;
  font-size: 8pt;
  -webkit-text-size-adjust: none;
  color: #999999;
  margin: 10px 0 0 0;
  height: 18px;
}
.TweetRpls li .TweetReplyBody .opts .links {
  float: right;
}
.TweetRpls li .TweetReplyBody .opts a {
  font-size: 9pt;
}
.TweetRpls .all {
  display: block;
  margin: 10px 0 0 0 ;
}
#TweetReplyPage {
  width: 600px;
}
#TweetReplyPage h1 {
  font-size: 16pt;
  margin-bottom: 20px;
}
#TweetReplyPage h1 a {
  text-decoration: none;
}
#TweetReplyForm {
  margin: 0 0 20px 0px;
}
#TweetReplyForm textarea {
  display: block;
  width: 98%;
  height: 40px;
  font-size: 9pt;
  padding: 2px;
  margin: 10px 0 5px 0;
}
#TweetReplyForm .TweetReplyOptions {
  float: right;
}
#TweetReplyForm #btn_submit {
  padding: 2px 3px;
  font-weight: bold;
  margin-right: 5px;
}
#TweetReplyPage #TweetReplies li .TweetReplyBody {
  width: 450px;
}
.gotop {
  background: url(/img/gotop.gif) no-repeat;
  display: block;
  width: 31px;
  height: 31px;
}
#SpaceHomeLayoutSelector {
  height: 350px;
}
#SpaceHomeLayoutSelector a {
  float: left;
  width: 48%;
  text-align: center;
}
#SpaceHomeLayoutSelector a em {
  display: block;
  font-style: normal;
  font-weight: bold;
  margin: 0 0 10px 0;
}
#SpaceHomeLayoutSelector a img {
  border: 3px solid #fff;
  padding: 5px;
}
#SpaceHomeLayoutSelector a.active img {
  border: 3px solid #7798CB;
}
#LayoutSelectorMsg {
  text-align: center;
  font-size: 14pt;
  margin: 20px 0 0 0;
  color: #000;
  display: none;
}
/* 通用的表单 */
.error_msg {
  height: 22px;
  color: #A00;
  margin: 10px 0 10px 0;
  background: url('/img/warning.gif') no-repeat left center;
  padding-left: 24px;
}
.error_msg a {
  padding: 0 5px 0 5px;
  font-weight: bold;
}
.ok_msg {
  height: 22px;
  color: #060;
  margin: 10px 0 10px 0;
  background: url('/img/space/tick.png') no-repeat left center;
  padding-left: 24px;
}
.ok_msg a {
  padding: 0 5px 0 5px;
  font-weight: bold;
}
.MainForm {
  font-size: 10.5pt;
}
.MainForm .Tip {
  margin: 0 0 10px 0;
  border: 1px solid #cccccc;
  background: #ffc;
  font-size: 9pt;
  padding: 10px;
  color: #00A;
}
.MainForm .Tip ul {
  margin: 10px 0 0 10px;
  line-height: 22px;
  list-style-type: disc;
  list-style-position: inside;
}
.MainForm form th {
  text-align: right;
  padding: 10px;
  font-weight: normal;
  color: #666666;
}
.MainForm form th.required {
  font-weight: bold;
}
.MainForm form td.t {
  color: #333333;
}
.MainForm form td .tip {
  color: #5cc26f;
  font-size: 9pt;
}
.MainForm form input.TEXT {
  padding: 3px;
}
.MainForm form select {
  padding: 3px;
}
.MainForm form textarea {
  padding: 3px;
  font-size: 12pt;
}
.MainForm form textarea#txt_abstracts {
  width: 600px;
  height: 80px;
  font-size: 10.5pt;
}
.MainForm form input.BUTTON {
  font-size: 12pt;
  padding: 2px 5px;
}
.MainForm form input.SUBMIT {
  font-weight: bold;
  padding: 2px 10px;
}
.MainForm form .submit #error_msg {
  margin-left: 10px;
}
.MainForm .FormSection {
  margin: 20px 0;
}
.MainForm .FormSection ul {
  margin: 20px 0 0 20px;
}
.MainForm .Btn_Save {
  margin: 20px 0;
}
.MainForm .btn_save {
  background: #5cc26f;
  color: #fff;
  text-decoration: none;
  height: 30px;
  margin-right: 10px;
  border: 0px solid #000;
  font-weight: bold;
  cursor: pointer;
  padding: 5px 10px;
}
.MainForm .btn_save:hover {
  background: #40ab54;
}
.MainForm .btn_save:hover span {
  background: #40ab54;
  color: #fff;
}
.write-blog .section {
  margin: 10px 0px;
  padding: 5px 0px;
  font-size: 12.5px;
}
.write-blog .b-input {
  background-color: #fff;
  border: 1px solid #D9D9D9;
  border-top-color: #C0C0C0;
  border-left-color: #d0d0d0;
  -webkit-transition: border linear .2s;
  -moz-transition: border linear .2s;
  transition: border linear .2s;
}
.write-blog .c-input {
  display: inline-block;
  height: 22px;
  padding: 5px 1% 3px 1%;
  margin-bottom: 10px;
  font-size: 12px;
  line-height: 20px;
  color: #111;
  border-radius: 0;
  vertical-align: middle;
  margin-top: 5px;
}
.write-blog .d-input {
  display: inline-block;
  height: 22px;
  padding: 5px 0px 3px 0px;
  margin-bottom: 10px;
  font-size: 12px;
  line-height: 20px;
  color: #111;
  border-radius: 0;
  vertical-align: middle;
  margin-top: 5px;
}
.write-blog .f-input {
  width: 98%;
}
.write-blog .o-input {
  height: 18px;
  margin: 0px;
  padding: 3px 5px;
}
.write-blog .t-input {
  width: 98%;
  height: 65px;
}
.write-blog .m-input {
  width: 100%;
  min-height: 450px;
  height: auto;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
.write-blog .s-button {
  width: 200px;
  background: #428BD1;
  height: 32px;
  border: none;
  color: #FFF;
  margin-right: 10px;
  font-size: 14px;
  font-family: '微软雅黑', 'Verdana', 'sans-serif', '宋体';
  cursor: pointer;
}
.write-blog .s-button:hover {
  background: #3270AC;
}
.write-blog .blog-title {
  position: relative;
}
.write-blog .blog-title .catalog {
  position: absolute;
  right: 10px;
  top: 10px;
  display: inline-block;
  height: 22px;
  line-height: 22px;
  overflow: hidden;
  cursor: pointer;
  color: #FFF;
  z-index: 1000;
}
.write-blog .blog-title .catalog ul {
  border: 1px solid #FFF;
  background: #428BD1;
}
.write-blog .blog-title .catalog li {
  height: 22px;
  line-height: 22px;
  text-align: center;
  padding: 0px 5px;
  background: #428BD1;
}
.write-blog .blog-title .catalog li:hover {
  background: #4BA1F3;
}
.write-blog .section strong i {
  display: inline-block;
  width: 15px;
  height: 8px;
  margin-right: 8px;
}
.write-blog .section strong {
  vertical-align: middle;
}
.write-blog .check-ico {
  background: url("/img/selg.jpg") no-repeat right bottom;
  white-space: nowrap;
  line-height: 30px;
  color: #999;
  border: 2px solid #999;
  font-size: 9pt;
  padding: 3px 15px;
  cursor: pointer;
  margin: 0px 10px 1px 10px;
}
.write-blog .checked,
.multi-check:hover {
  background: url("/img/sel-b-type.gif") no-repeat right bottom;
  border: 2px solid #F00;
  color: #F00;
}
.write-blog .single-check:hover {
  color: #999;
}
.write-blog .checked:hover {
  color: #F00;
}
.write-blog .section .setting-title {
  color: #777;
  font-size: 12px;
  display: inline-block;
  margin-right: 10px;
  width: 120px;
}
.write-blog .sel-editor span.sel-box {
  float: right;
}
.write-blog .sel-editor .sel-box span {
  color: #FFF;
  padding: 2px 8px;
  background: #E7A940;
  cursor: pointer;
  font-size: 12px;
  float: left;
}
.write-blog .sel-editor span.sel-title {
  background: #FFF;
  color: #777;
}
.write-blog .sel-editor span.editor-item:hover {
  background: #CF932E;
}
.write-blog .sel-editor span.selected-editor {
  background: #40AA53;
}
.write-blog .err-msg {
  padding: 5px 15px;
  color: #F00;
  font-size: 12px;
}
.write-blog .ke-container {
  margin-top: 8px;
}
.write-blog .wmd-button .wmd-blog-prev {
  width: 60px;
  display: inline-block;
  background: #FFF;
  text-align: center;
}
.write-blog .wmd-button .wmd-blog-prev:hover {
  background: #99c0fa;
}
.edui-default {
  text-align: left;
}
/*博客分类下拉框*/
.write-blog .select_box {
  white-space: nowrap;
  line-height: 30px;
  color: #999;
  border: 2px solid #999;
  font-size: 9pt;
  padding: 3px 1px;
  cursor: pointer;
  margin: 0px 10px 1px 10px;
}
/* end 通用的表单 */
/* paging */
.pager {
  height: 28px;
  line-height: 28px;
  margin: 2px 0;
}
.pager li {
  font-size: 14px;
  text-align: center;
  margin: 0 2px 0 0;
  display: inline;
}
.pager li a {
  font-family: Courier New,Arial;
  color: #58595b;
  background-color: #f0f0f0;
  padding: 3px 5px;
  text-decoration: none;
}
.pager li a:hover {
  color: #000;
}
.pager li.prev a {
  background-color: #cccccc;
  color: #666666;
}
.pager li.next a {
  background-color: #cccccc;
  color: #666666;
}
.pager li.current a {
  color: #fff;
  background: #7798cb;
}
/*顶部导航条下拉框*/
#OSC_Banner .control_select ul.cs_content {
  border: 1px solid #40aa53;
}
#OSC_Banner .control_select ul li a {
  color: #40aa53;
}
/* end pager css */
/*主站显示team的git推送头像大小限制*/
span.commit_img img {
  width: 15px;
  height: 15px;
}
/*点赞的样式设置*/
.love {
  padding-left: 15px;
}
/*点赞链接演示*/
.love a {
  font-size: 14px;
  color: #9A9A9A;
}
.love a:hover {
  color: #6cabe1;
}
/*
.love a.loved{
	background-image:url("../../../img/person_space_love.png");
	background-repeat: no-repeat;
}
*/
.TweetUserPic img {
  width: 25px;
  border-radius: 30px;
}
.more {
  padding-left: 5px;
  padding-right: 5px;
}
/*嵌入招聘职位样式*/
.recruitment-blog .more .link {
  color: #5cc26f;
}
</style>
  <script type="text/javascript" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/scrolltopcontrol.js"></script>
  <script type="text/javascript" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/jquery.atwho.js"></script>
  <script type="text/javascript" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/angular.min.js"></script>
  <script type="text/javascript" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/angular-sanitize.min.js"></script>
  <script type="text/javascript" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/angular-resource.min.js"></script>
  <link rel="stylesheet" href="./博客 - Snaiper的个人空间 - 开源中国社区_files/font-awesome.css" type="text/css">
  <link rel="stylesheet" type="text/css" href="./博客 - Snaiper的个人空间 - 开源中国社区_files/jquery.atwho.css">
  <link rel="alternate" type="application/rss+xml" title="最新博客" href="http://my.oschina.net/u/1244672/rss">
  <link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://my.oschina.net/action/xmlrpc/rsd?space=1244672">
  <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://my.oschina.net/action/xmlrpc/wlwmanifest?space=1244672"> 
  <style type="text/css">
    body,table,input,textarea,select {font-family:Verdana,sans-serif,宋体;}

      emoji[data-emoji~=emoji] {
          display: inline-block;
          width: 24px;
          height: 24px;
          line-height: 24px;
          vertical-align: top;
          text-align: center;
      }
  </style>
  <script type="text/javascript">
  	scrolltotop.offset(100,165);
	scrolltotop.init();
  </script>
<style id="poshytip-css-tip-yellowsimple-medal" type="text/css">div.tip-yellowsimple-medal{visibility:hidden;position:absolute;top:0;left:0;}div.tip-yellowsimple-medal table, div.tip-yellowsimple-medal td{margin:0;font-family:inherit;font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;}div.tip-yellowsimple-medal td.tip-bg-image span{display:block;font:1px/1px sans-serif;height:10px;width:10px;overflow:hidden;}div.tip-yellowsimple-medal td.tip-right{background-position:100% 0;}div.tip-yellowsimple-medal td.tip-bottom{background-position:100% 100%;}div.tip-yellowsimple-medal td.tip-left{background-position:0 100%;}div.tip-yellowsimple-medal div.tip-inner{background-position:-10px -10px;}div.tip-yellowsimple-medal div.tip-arrow{visibility:hidden;position:absolute;overflow:hidden;font:1px/1px sans-serif;}</style></head>
<body>
<div id="OSC_Screen">
	<style type="text/css">
    #OSC_Banner {margin: 0 auto;text-align: left;margin-bottom: 5px;height:30px;border-top:0px;}
    #OSC_Banner a {text-decoration: none;color: #fff;}
    #OSC_Banner .cs_content a {color: #080;}
    #OSC_Banner a:hover {color: #eee;}
	#OSC_Banner a.project{background-color:transparent;}
    #OSC_Banner #OSC_Channel {float: left;height:30px;}
    #OSC_Banner #OSC_Channel ul {line-height: 18px;}
    #OSC_Banner #OSC_Channel ul li.item {float: left;margin: 0 16px 0 0;line-height: 30px;}
    #OSC_Banner #OSC_Channel ul li a.hl {font-weight: bold;}
    #OSC_Banner #OSC_Userbar {float: right;	color: #ddd;line-height:30px;margin-right:10px;}
    #OSC_Banner #OSC_Userbar em {font-style: normal;color: #fff;margin-right: 2px;}
	/*下拉菜单*/
	#OSC_Banner .control_select {position: relative;background: url('/img/down3.gif') no-repeat right 14px;padding-right: 8px;cursor: pointer;height: 25px;display: inline-block;z-index: 1001;}
	#OSC_Banner .control_select a {position: relative;}
	#OSC_Banner .control_select ul.cs_content {display: none;text-align: left;position: absolute;left: 0px;top: 25px;width: 110px;z-index: 9999;background: white;padding: 5px 0 2px 5px;font-size: 9pt;list-style-type: none;}
	#OSC_Banner .control_select ul.cs_content li {border: 0;height: 16px;line-height: 16px;margin-bottom: 8px;}
	#OSC_Banner .control_select ul.cs_content li a:hover {font-weight: bold;background: #fff;color: #A00}
	#OSC_Banner .group_msg_count {display: inline-block;	padding: 2px;border-radius: 3px;background-color: RGB(255, 113, 112);color: white;font-size: 12px;height: 10px;text-align: center;
		line-height: 10px;min-width: 15px;box-shadow: 1px 1px 1px RGBA(0, 0, 0, 0.2);-webkit-box-shadow: 1px 1px 1px RGBA(0, 0, 0, 0.2);-moz-box-shadow: 1px 1px 1px RGBA(0, 0, 0, 0.2);}
	.tip-yellowsimple .tip-arrow-top{left:80%;}
</style>
<script type="text/javascript">
  	g_user = {
	id:0,
	name:'',
	login:false};</script>
<script type="text/javascript" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/utils.js"></script>
<script type="text/javascript" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/channel.js"></script>
<div id="OSC_Banner">
        <div id="OSC_Channel" style="float:left;margin-left:10px;">
        	<ul>
        	<li class="item"><a href="http://www.oschina.net/" class="home">首页</a></li>        	<li class="item control_select"><a href="http://www.oschina.net/project" class="project">开源项目</a>
				<ul class="cs_content">					
                	                	<li><a href="http://www.oschina.net/project/lang/19/java">Java 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/194/csharp">C# 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/22/php">PHP 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/21/c">C/C++ 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/26/ruby">Ruby 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/25/python">Python 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/358/go">Go开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/28/javascript">JS开源软件</a></li>
				</ul>
			</li>
        	<li class="item control_select">
				<a href="http://www.oschina.net/question" class="question">问答</a>				
				<ul class="cs_content">					
                	<li><a href="http://www.oschina.net/question?catalog=1"> 技术问答 » </a></li>
                	<li><a href="http://www.oschina.net/question?catalog=2"> 技术分享 » </a></li>
                	<li><a href="http://www.oschina.net/question?catalog=3"> IT大杂烩 » </a></li>
                	<li><a href="http://www.oschina.net/question?catalog=100"> 职业生涯 » </a></li>
                	<li><a href="http://www.oschina.net/question?catalog=4"> 站务/建议 » </a></li>
                	<li><a href="http://www.oschina.net/alipay"> 支付宝专区 » </a></li>
                	<li><a href="http://www.oschina.net/hardware"> 开源硬件专区 » </a></li>
				</ul>
			</li>
        	<li class="item"><a href="http://www.oschina.net/code/list" class="code">代码</a></li>
        	        	<li class="item"><a href="http://www.oschina.net/blog" class="blog">博客</a></li>
        	<li class="item"><a href="http://www.oschina.net/translate" class="tran">翻译</a></li>
            <li class="item"><a href="http://www.oschina.net/news" class="news">资讯</a></li>
        	<li class="item control_select">
				<a href="http://www.oschina.net/android" class="mobile">移动开发</a>
				<ul class="cs_content cs_mobile">
                	<li class="android_"><a href="http://www.oschina.net/android">Android开发专区</a></li>
                	<li class="ios_"><a href="http://www.oschina.net/ios/home">iOS开发专区</a></li>
                	<li class="ios_"><a href="http://www.oschina.net/ios/codingList">iOS代码库</a></li>
                	<li class="wp7_"><a href="http://www.oschina.net/wp">Windows Phone</a></li>
				</ul>
			</li>
        	<li class="item t_job"><a href="http://www.oschina.net/job" class="job">招聘</a></li>
									            <li class="item control_select">
                <a href="http://city.oschina.net/" id="MyCities" title="城市圈">城市圈</a>
							</li>
        	</ul>
        </div>
		<div id="OSC_Userbar">
                		    		当前访客身份：游客 [ <a href="http://www.oschina.net/home/login?goto_page=http%3A%2F%2Fmy.oschina.net%2Fu%2F1244672%2Fblog">登录</a> | <a href="http://www.oschina.net/home/reg">加入开源中国</a> ]
    				</div>
		<div class="clear"></div>
</div>	<div id="OSC_Topbar">
		<div id="VisitorInfo">
		当前访客身份：
				游客 [ <a href="http://www.oschina.net/home/login?goto_page=http%3A%2F%2Fmy.oschina.net%2Fu%2F1244672">登录</a> | <a href="http://www.oschina.net/home/reg">加入开源中国</a> ]
				
		</div>
		<div id="SearchBar">
    		<form action="http://www.oschina.net/search">
				<input type="hidden" name="user" value="1244672">
																<span class="ipt f_l">
    			<input type="text" id="txt_q" name="q" class="SERACH" value="在 39889 款开源软件中搜索" onblur="(this.value==&#39;&#39;)?this.value=&#39;在 39889 款开源软件中搜索&#39;:this.value" onfocus="if(this.value==&#39;在 39889 款开源软件中搜索&#39;){this.value=&#39;&#39;;};this.select();">
				</span>
				                <div class="search-by selectbox">
    				<span class="hide">
    				<select name="scope">					
                        <option value="project" selected="">软件</option>
                        <option value="code">代码</option>
                        <option value="bbs">讨论区</option>
                        <option value="news">新闻</option>
                        <option value="blog">博客</option>
    				</select>
    				</span>
                  <div class="search_on" id="search-item"><span class="text">软件</span></div>
                  <ul class="search_list" style="display: none;">
                     <li class="search-item"><a href="http://my.oschina.net/u/1244672/blog?disp=2&amp;p=1&amp;catalog=0#1">软件</a></li>
                     <li><a href="http://my.oschina.net/u/1244672/blog?disp=2&amp;p=1&amp;catalog=0#2">代码</a></li>
                     <li><a href="http://my.oschina.net/u/1244672/blog?disp=2&amp;p=1&amp;catalog=0#3">讨论区</a></li>
                     <li><a href="http://my.oschina.net/u/1244672/blog?disp=2&amp;p=1&amp;catalog=0#4">新闻</a></li>
                     <li><a href="http://my.oschina.net/u/1244672/blog?disp=2&amp;p=1&amp;catalog=0#5">博客</a></li>
                  </ul>
                </div>
				<input type="submit" value="搜索" class="bnt f_r">			
    		</form>
		</div>
		<div class="clear"></div>
	</div>
	<div id="OSC_Content">					    
<style>
.BlogList .Blog h2 a {vertical-align: middle;}
.BlogContent{font-size:12.5px;color:#333;}
.icon{width:20px;height:20px;vertical-align: middle;display:inline-block;font-size:14px;text-align:center;color:#FFF;}
.catalogs{padding:0px;margin:0px;position:relative;display:inline-block;}
.catalogs ul{padding:0px;margin:0px;position:absolute;left:-8px;top: -21px;clear:left;width:120px;height:14px;overflow:hidden;background:#FFF;z-index:1000;padding:5px;border:1px solid #FFF;}
.catalogs ul:hover{height:auto;background:#fff;border:1px solid #4466bb;}
.catalogs ul li a:hover{color:#A00;font-weight: bold;}
.BlogList .outline .stat{vertical-align: middle;}
.BlogTitle{border-bottom:none;}
</style>
<div id="SpaceLeft">
<div class="Owner">
	    <a href="http://my.oschina.net/u/1244672" class="Img"><img src="./博客 - Snaiper的个人空间 - 开源中国社区_files/portrait.gif" align="absmiddle" alt="Snaiper" title="Snaiper" class="LargePortrait"></a>
    <span class="U">
                    <a href="http://my.oschina.net/u/1244672" class="Name" title="男">Snaiper</a>
        		<span class="opts">
			<img src="./博客 - Snaiper的个人空间 - 开源中国社区_files/men.png" align="absmiddle" title="男">
        			<script type="text/javascript">
var nologin = "<a href='javascript:_follow_nologin()' title='成为TA的粉丝'>关注此人</a>"
var follow0 = "<a href='javascript:_follow_user(1244672,true)' title='成为TA的粉丝'>关注此人</a>";
var follow1 = "已关注 | <a href='javascript:_follow_user(1244672,false)' title='取消关注后，此人的更新信息将不会出现在你的首页'>取消</a>";
var follow2 = "互相关注 | <a href='javascript:_follow_user(1244672,false)' title='取消关注后，此人的更新信息将不会出现在你的首页'>取消</a>";
var follow4 = "<a href='javascript:_follow_user(1244672,true)' title='成为TA的粉丝'>+关注此人</a>";

document.write("<span id='_follow_1244672_action_'>");
	document.write(nologin);
document.write("</span>");

function _follow_nologin(){
	if(confirm('必须登录后才能关注，是否现在登录？')){
		location.href="http://www.oschina.net/home/login?goto_page="+location.href;
	}
}

function _follow_user(uid, follow){
	var action = follow?"/action/user/follow":"/action/user/unfollow";
	ajax_post(action,"id="+uid+"&user=${g_user.id}",function(result){
		var act = $('#_follow_1244672_action_');
		if(result == '0')
			_follow_nologin();
		else if(result == '1')
			act.html(follow0);
		else if(result == '2')
			act.html(follow1);
		else if(result == '3')
			act.html(follow2);
		else if(result == '4')
			act.html(follow4);
	});
}
</script><span id="_follow_1244672_action_"><a href="javascript:_follow_nologin()" title="成为TA的粉丝">关注此人</a></span>				</span>
    </span>
    <div class="clear"></div>
    <div class="stat">
    	<a href="http://my.oschina.net/u/1244672/fellow">关注<span>(1)</span></a>
    	<a href="http://my.oschina.net/u/1244672/fans">粉丝<span>(5)</span></a>
    	<a href="http://www.oschina.net/question/3307_20931" title="查看OSCHINA积分规则">积分<span>(4)</span></a>
                       
    </div>
</div>    <style type="text/css">
    #Medals {margin-left: 3px; height: 28px;}
    #Medals li {float: left;margin: 3px 5px;line-height: 24px;}
    .tip-yellowsimple-medal {
        z-index: 1000;
        text-align: left;
        border: 1px solid #E6DEB6;
        border-radius: 4px;
        -moz-border-radius: 4px;
        -webkit-border-radius: 4px;
        padding: 6px 8px;
        min-width: 50px;
        max-width: 300px;
        color: #000;
        background-color: #FFFEF2;
    }
	.tip-yellowsimple-medal .tip-arrow-left {
		visibility: inherit;
        margin-top: -4px;
        margin-left: -6px;
        top: 15px;
        left: 0;
        width: 6px;
        height: 9px;
        background: url(/js/2012/poshytip/tip-yellowsimple/tip-yellowsimple_arrows.gif?t=1451964198000) no-repeat -27px 0;
	}
	div.tip-yellowsimple-medal div.tip-arrow {
        visibility: hidden;
        position: absolute;
        overflow: hidden;
        font: 1px/1px sans-serif;
	}
</style>
<script type="text/javascript">
    $(function(){
        $('#Medals a').poshytip({
            className: 'tip-yellowsimple-medal',
            alignTo: 'target',
            alignX: 'right',
            alignY: 'bottom',
            offsetX: 10,
            offsetY: -30,
            fade: false,
            slide: false,
            content: function(updateCallback) {
                ajax_get("/action/ajax/get_medal_detail?owner=1244672&medalId="+$(this).attr('medalId')+"&time="+new Date().getTime(),false,function(html){
                    updateCallback(html);
                    if($('.tip-arrow.tip-arrow-left').last().offset().top >= temp.offset().top) {
                        $('.tip-arrow.tip-arrow-left').last().css({top : "15px"});
                    }
                    else {
                        $('.tip-arrow.tip-arrow-left').last().css({top : "135px"});
                    }
                });
                temp = $(this);
                return "<div style='height:100px;'>Loading...</div>";
            }
        });
    });
</script>
<style>
#MyResume textarea {width:170px;height:60px;font-size:9pt;}
</style>
<div class="Resume" id="MyResume">
这个人很懒，啥也没写</div>

<div class="Opts clearfix">
	<a href="javascript:sendmsg(1244672, 0)" class="a1 sendmsg"><i>.</i><span>发送私信</span></a>
	<a href="http://www.oschina.net/question/ask?user=1244672" class="a2 ask"><i>.</i><span>请教问题</span></a>
</div><div class="Mod" id="BlogCatalogs">
  <strong> 博客分类</strong>
  <ul>
	    	<li><a href="http://my.oschina.net/u/1244672/blog?catalog=3369076">第三方库</a><span>(13)</span></li>
		<li><a href="http://my.oschina.net/u/1244672/blog?catalog=3367042">ProtocolBuffer</a><span>(1)</span></li>
		<li><a href="http://my.oschina.net/u/1244672/blog?catalog=3369355">涨姿势</a><span>(17)</span></li>
		<li><a href="http://my.oschina.net/u/1244672/blog?catalog=423197">工作日志</a><span>(1)</span></li>
		<li><a href="http://my.oschina.net/u/1244672/blog?catalog=385272">日常记录</a><span>(2)</span></li>
		<li><a href="http://my.oschina.net/u/1244672/blog?catalog=385273">转贴的文章</a><span>(0)</span></li>
		<li><a href="http://my.oschina.net/u/1244672/blog?catalog=385271">数据存储</a><span>(1)</span></li>
		<li><a href="http://my.oschina.net/u/1244672/blog?catalog=425003">debug</a><span>(1)</span></li>
		<li><a href="http://my.oschina.net/u/1244672/blog?catalog=425336">压缩</a><span>(1)</span></li>
		<li><a href="http://my.oschina.net/u/1244672/blog?catalog=425368">工作备注</a><span>(1)</span></li>
		<li><a href="http://my.oschina.net/u/1244672/blog?catalog=425382">缓存</a><span>(1)</span></li>
		<li><a href="http://my.oschina.net/u/1244672/blog?catalog=427126">网络</a><span>(4)</span></li>
		<li><a href="http://my.oschina.net/u/1244672/blog?catalog=3369077">能遇见的问题</a><span>(8)</span></li>
		<li><a href="http://my.oschina.net/u/1244672/blog?catalog=3378085">xcode插件</a><span>(1)</span></li>
		<li><a href="http://my.oschina.net/u/1244672/blog?catalog=3415434">自定义</a><span>(1)</span></li>
		<li><a href="http://my.oschina.net/u/1244672/blog?catalog=3418146">呕心沥血</a><span>(2)</span></li>
		<li><a href="http://my.oschina.net/u/1244672/blog?catalog=3461964">paint_code</a><span>(2)</span></li>
	  </ul>
</div><div class="Mod" id="HotBlogs">
  <strong>阅读排行</strong>
  <ol>
			<li><a href="http://my.oschina.net/u/1244672/blog/510377">1. 知名应用背后的第三方开源项目 </a></li>
				<li><a href="http://my.oschina.net/u/1244672/blog/512210">2. 适配iOS9遇到的一些问题_Scheme白名单_ Bitcode及解决办法</a></li>
				<li><a href="http://my.oschina.net/u/1244672/blog/201091">3. No Architectures to Compile for (ONLY_ACTIVE_ARCH=</a></li>
				<li><a href="http://my.oschina.net/u/1244672/blog/185249">4. iOS开发本地缓存（数据离线缓存、读取、释放）</a></li>
				<li><a href="http://my.oschina.net/u/1244672/blog/185175">5. object-c 内存里面压缩与解压缩的函数</a></li>
				<li><a href="http://my.oschina.net/u/1244672/blog/510379">6. 解决MWPhotoBrowser中的SDWebImage加载大图导致的内存警告问题</a></li>
				<li><a href="http://my.oschina.net/u/1244672/blog/512230">7. 整理iOS9适配中出现的坑（图文）</a></li>
				<li><a href="http://my.oschina.net/u/1244672/blog/517187">8. AVPlayer的基本使用</a></li>
		  </ol>
</div>
<div class="Mod" id="BlogReplies">
  <strong> 最新评论</strong>  
      <ul>
		<li>
		<a href="http://my.oschina.net/u/1244672">@Snaiper</a>：https://github.com/danielgindi/ios-charts git...
		<a href="http://my.oschina.net/action/tweet/go?obj=289843487&amp;type=18&amp;user=1244672">查看»</a>
	</li>
		<li>
		<a href="http://my.oschina.net/u/1244672">@Snaiper</a>：引用来自“弗丁”的评论 作者你好，你这文章怎么...
		<a href="http://my.oschina.net/action/tweet/go?obj=288924386&amp;type=18&amp;user=1244672">查看»</a>
	</li>
		<li>
		<a href="http://my.oschina.net/ww2s">@弗丁</a>：作者你好，你这文章怎么显示了两遍啊？12345678 ...
		<a href="http://my.oschina.net/action/tweet/go?obj=288857997&amp;type=18&amp;user=2267429">查看»</a>
	</li>
		<li>
		<a href="http://my.oschina.net/u/1244672">@Snaiper</a>：引用来自“月影又无痕”的评论 HTML是没有状态这...
		<a href="http://my.oschina.net/action/tweet/go?obj=277954205&amp;type=18&amp;user=1244672">查看»</a>
	</li>
		<li>
		<a href="http://my.oschina.net/zxu">@月影又无痕</a>：HTML是没有状态这一说法的，是叫http响应状态码。...
		<a href="http://my.oschina.net/action/tweet/go?obj=277675128&amp;type=18&amp;user=1168437">查看»</a>
	</li>
	  </ul>
  </div>
<div class="Mod" id="Stat">
<strong>访客统计</strong>
<ul>
	<li><label>今日访问：</label>93</li>
    <li><label>昨日访问：</label>98</li>
    <li><label>本周访问：</label>349</li>
    <li><label>本月访问：</label>867</li>
    <li><label>所有访问：</label>7775</li>
</ul>
</div></div>
<div class="SpaceList BlogList">
	<div class="TopBar">
    	<div class="NavPath">		
    		<a href="http://my.oschina.net/u/1244672">空间</a> » <a href="http://my.oschina.net/u/1244672/blog">博客</a>&nbsp;»&nbsp; 
						<div class="catalogs">
    			<ul>
    										<li><a href="http://my.oschina.net/u/1244672/blog">所有分类</a></li>
    				        			        				<li><a href="http://my.oschina.net/u/1244672/blog?catalog=3369076">第三方库</a></li>    				        				<li><a href="http://my.oschina.net/u/1244672/blog?catalog=3367042">ProtocolBuffer</a></li>    				        				<li><a href="http://my.oschina.net/u/1244672/blog?catalog=3369355">涨姿势</a></li>    				        				<li><a href="http://my.oschina.net/u/1244672/blog?catalog=423197">工作日志</a></li>    				        				<li><a href="http://my.oschina.net/u/1244672/blog?catalog=385272">日常记录</a></li>    				        				<li><a href="http://my.oschina.net/u/1244672/blog?catalog=385273">转贴的文章</a></li>    				        				<li><a href="http://my.oschina.net/u/1244672/blog?catalog=385271">数据存储</a></li>    				        				<li><a href="http://my.oschina.net/u/1244672/blog?catalog=425003">debug</a></li>    				        				<li><a href="http://my.oschina.net/u/1244672/blog?catalog=425336">压缩</a></li>    				        				<li><a href="http://my.oschina.net/u/1244672/blog?catalog=425368">工作备注</a></li>    				        				<li><a href="http://my.oschina.net/u/1244672/blog?catalog=425382">缓存</a></li>    				        				<li><a href="http://my.oschina.net/u/1244672/blog?catalog=427126">网络</a></li>    				        				<li><a href="http://my.oschina.net/u/1244672/blog?catalog=3369077">能遇见的问题</a></li>    				        				<li><a href="http://my.oschina.net/u/1244672/blog?catalog=3378085">xcode插件</a></li>    				        				<li><a href="http://my.oschina.net/u/1244672/blog?catalog=3415434">自定义</a></li>    				        				<li><a href="http://my.oschina.net/u/1244672/blog?catalog=3418146">呕心沥血</a></li>    				        				<li><a href="http://my.oschina.net/u/1244672/blog?catalog=3461964">paint_code</a></li>    				    				    			</ul>
			</div>
    	</div>
		<div class="PreviewMod" style="margin-left:10px;">
			排序：
			<a href="http://my.oschina.net/u/1244672/blog?disp=1&amp;p=1&amp;catalog=0&amp;sort=hot">按热度</a>					</div>
		<div class="PreviewMod">
			列表模式：<a href="http://my.oschina.net/u/1244672/blog?disp=1&amp;p=1&amp;catalog=0">标题+预览</a> | <a href="./博客 - Snaiper的个人空间 - 开源中国社区_files/博客 - Snaiper的个人空间 - 开源中国社区.html" class="active">标题+全文</a> | <a href="http://my.oschina.net/u/1244672/blog?disp=3&amp;p=1&amp;catalog=0">仅标题</a>
		</div>
	</div>
    <ul>
          <li class="Blog" id="blog_602365">      
		<div class="BlogTitle">
    		<div class="title">
            	<h2>
					<span class="icon" style="background:#44ac57;" title="原创博客">原</span>																									<a href="http://my.oschina.net/u/1244672/blog/602365">PaintCode 教程1：动态绘制按钮</a></h2>        		<div class="outline">
            	  <span class="catalog">
										分类: 
						<a href="http://my.oschina.net/u/1244672/blog?catalog=3461964">paint_code</a>										  </span>		  
        		              	              	</div>
    		</div>		
		</div>
        <span class="date"><em>14</em>2016-01</span>
    	    	<div class="BlogContent" id="blog_content_602365">
    		    		<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
<a target="_blank" href="http://paintcodeapp.com/" rel="nofollow"><br>
PaintCode</a>&nbsp;是一个能够让你像Photoshop一样去设计你的用户界面的软件 – 但是它并不是仅仅保存一张图片当作资源让你来使用，它能够为你生成 CoreGraphic 源码直接使用到View的绘制中.<br>
可以简单地说，我们看重的是下面几点：
</p>
<ul>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>节省了开发时间</strong></span>。&nbsp;如果一行一行的去写 Core Graphics 代码，绝对会比用 PaintCode多很多时间。 而时间就是金钱！
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>减少了程序包大小。</strong></span>&nbsp;用代码去绘制各种view，可以让你不再去添加图片资源，减少了资源包大小。
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>让它能做更动态的改变。.</strong></span>&nbsp;最后，我们可以做更多相比于使用图片做不到的事情，比如：可以在程序运行时轻松的改变控件的颜色。
</li>
</ul>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
深入： 这篇教程实际基于我们收到的一些 PaintCode 的使用反馈来写的。 但是， 教程里的的所有意见和建议绝对没有一点瞎掰，绝对原创。<br>
想要尽可能的利用学习这篇教程，大家至少知道一点iOS开发。 并且，懂一些 Core Graphics知识会更好（不是100%要求）。 如果大家从来没听说过 Core Graphics，真心推荐去看看&nbsp;<a target="_blank" href="http://www.raywenderlich.com/32283/core-graphics-tutorial-lines-rectangles-and-gradients" rel="nofollow">Core Graphics系列教程&nbsp;</a>。<br>
废话不多说，切入正题吧！
</p>
<h2>
<a name="t0" rel="nofollow"></a><a name="t0" rel="nofollow"></a>准备开始
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2013/11/PaintCodeIcon.175x175-75.png" rel="nofollow"><img alt="PaintCodeIcon.175x175-75" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145503_5yo4.png" width="175" height="175"></a>要学习这一系列的PaintCode 教程， 首先我们需要有个 PaintCode 软件。大家可以在这里下载&nbsp;<a target="_blank" href="http://www.paintcodeapp.com/try" rel="nofollow">试用版</a>，&nbsp;或者从&nbsp;<a target="_blank" href="https://itunes.apple.com/us/app/paintcode/id507897570" rel="nofollow">Mac App Store</a>购买完整版。
</p>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
尽管这个app还是算比较贵的，但是就我看来，他在生产中的能发挥的价值完全能物超所值。 如果大家还不确定， 下载一个试用版在这个教程里试试吧！
</p>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
<br>
</p>
<h2>
<a name="t1" rel="nofollow"></a><a name="t1" rel="nofollow"></a>创建第一个动态按钮
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
在敲任何代码之前，我们将会使用 PaintCode 来设计一个全新的按钮。<br>
打开 PaintCode，选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>FileSave，</strong></span>然后把这个项目命名为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>DynamicButton</strong></span>.。这样的话我们就可以在进行这个教程的时候时时的保存了。<br>
点击屏幕右下的<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Canvas</strong></span>&nbsp;按钮， 然后把画布大小设置为宽&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>480</strong></span>&nbsp;高&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>150</strong></span>&nbsp;pixels，如下图所示：<br>
<a target="_blank" href="http://cdn3.raywenderlich.com/wp-content/uploads/2013/11/DynamicButton-Canvas-Size.png" rel="nofollow"><img alt="PaintCode canvas size in new document" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145504_NQGZ.png" width="700" height="431"></a><br>
然后通过设置&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Underlay color</strong></span>&nbsp;的RGB值为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>50 50 50</strong></span>来吧画布的颜色改为浅灰色，如下：<br>
<a target="_blank" href="http://cdn2.raywenderlich.com/wp-content/uploads/2013/05/DynamicButton-Canvas-Color.png" rel="nofollow"><img alt="Canvas color in PaintCode" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145505_kysh.png" width="354" height="320"></a> 
</p>
<div>
<p style="font-family:inherit;font-size:1em;font-style:inherit;vertical-align:baseline;">
<span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>注意:</strong></span>&nbsp;我们默认是在非高清画布上工作，如果大家想看高清的效果，点击Canvas按钮边上的&nbsp;<span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Retina</strong></span>按钮。这个按钮可以让你在高清和非高清之间切换。
</p>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
现在选中工具栏里的<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Round Rect</strong></span>&nbsp;按钮，然后在画布里拖出一个方形来。<br>
我们能看到，当我们在画布里选中一个形状的时候，左边会出现这个形状的所有属性。确保选中了刚才的这个方形，然后把它的属性修改为如下：
</p>
<ul>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>X</strong></span>: 4
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Y</strong></span>: 4
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Width</strong></span>: 473
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Height</strong></span>: 41
</li>
</ul>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
<a target="_blank" href="http://cdn2.raywenderlich.com/wp-content/uploads/2013/11/Creating-First-Round-Rect.png" rel="nofollow"><img alt="draw a rectangle in PaintCode" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145505_79gd.png" width="560" height="500"></a><br>
接下来，为了改变按钮的颜色，我们需要设置它的Fill值。<br>
在左边的属性栏里， 点击&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Fill</strong></span>,，在弹出的选项里选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Add New Gradient</strong></span>，然后命名为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonGradient</strong></span>。现在， 点击&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>左下的 color stop。</strong></span>&nbsp;这些在颜色区域底部圆形的颜色选取点是用来给渐变提供所需参数的。<br>
接着，选着右下方的调色盘，然后RGB输入<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>255 0 0，</strong></span>如下所示：<br>
<a target="_blank" href="http://cdn3.raywenderlich.com/wp-content/uploads/2013/11/Button-Gradient-First-Stop.png" rel="nofollow"><img alt="Setting the button gradient colors" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145507_4D75.png" width="700" height="398"></a><br>
再次点击调色盘按钮来关掉它。<br>
现在， 用同样的办法把右边的颜色选取点的 RGB 改为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>112 1 0</strong></span>&nbsp;，如下：<br>
<a target="_blank" href="http://cdn4.raywenderlich.com/wp-content/uploads/2013/11/Button-Gradient-Second-Stop.png" rel="nofollow"><img alt="Setting the button gradient colors" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145508_x3kn.png" width="700" height="402"></a><br>
PaintCode 让你能够去给每个使用在形状上的颜色命名，因为它们以同样的名字出现在代码里。 如果界面下方没有代码窗口，选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>View &gt; Code</strong></span>&nbsp;来打开它。 下面图片里高亮的那两行应该就是刚才我们创建的2个颜色。<br>
<a target="_blank" href="http://www.raywenderlich.com/36341/paintcode-tutorial-dynamic-buttons/01-paintcode-color-names" rel="nofollow"><img alt="Color variable in PaintCode Code view" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145510_n3eT.png" width="700" height="149"></a><br>
为了更好的找到这些颜色，我们最好给他们一个描述性较高的名字。<br>
选中&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Colors</strong></span>&nbsp;选择栏，在左边栏下面找到并双击&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Fill Color。</strong></span>在弹窗里把它的名字改为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonColorDark，</strong></span>如下所示：<br>
<a target="_blank" href="http://cdn3.raywenderlich.com/wp-content/uploads/2013/11/06_renamecolor.jpg" rel="nofollow"><img title="rename color in PaintCode" alt="rename color in PaintCode" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145511_wC58.jpg" width="597" height="248"></a><br>
同理把<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Stroke Color</strong></span>&nbsp;名字改为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonColorLight。</strong></span><br>
现在回到位于中间的形状属性栏，选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Stroke</strong></span>&nbsp;下来框里的&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>System Colors &gt; Common Colors &gt; BlackColor，</strong></span>如下图所示，把描边颜色改为黑色。<br>
<a target="_blank" href="http://cdn5.raywenderlich.com/wp-content/uploads/2013/11/08_strokecolor.png" rel="nofollow"><img title="add a stroke color in PaintCode" alt="add a stroke color in PaintCode" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145511_8gv3.png" width="508" height="283"></a><br>
Increase the&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Width</strong></span>&nbsp;parameter to&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>2</strong></span>&nbsp;under the&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Stroke</strong></span>&nbsp;sub-section, as so:<br>
<a target="_blank" href="http://cdn2.raywenderlich.com/wp-content/uploads/2013/11/09_strokewidth.png" rel="nofollow"><img title="stroke width in PaintCode" alt="stroke width in PaintCode" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145512_zq6r.png" width="286" height="65"></a><br>
现在，我们要给按钮加一个为发光 ，选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Add New Shadow…</strong></span>&nbsp;在<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Fill</strong></span>的下拉框里选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Outer Shadow</strong></span>,如下所示：<br>
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2013/11/10_addshadow.png" rel="nofollow"><img title="Add new shadow in PaintCode" alt="Add new shadow in PaintCode" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145513_CIxL.png" width="276" height="66"></a><br>
像上面的按钮一样给这个阴影一个好的名字，把它名字改为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>OuterGlow。</strong></span>&nbsp;接下来， 选中&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Color</strong></span>边上的下拉框，然后在颜色选取框里选着白色框，&nbsp;打开边上的那个颜色调整按钮<br>
把阴影偏移和阴影大小调整为下图一样：<br>
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2013/11/11_outerglow.png" rel="nofollow"><img title="Adding a glow in PaintCode" alt="Adding a glow in PaintCode" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145513_cn98.png" width="299" height="207"></a><br>
切换到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Colors</strong></span>&nbsp;选项卡下面然后把&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Glow</strong></span>&nbsp;改为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>InnerGlowColor。</strong></span><br>
接着，在<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Add New Shadow</strong></span>的下拉框里面给&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Inner Shadow&nbsp;</strong></span>加一个内高光。把这个高光命名为<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Highlight，</strong></span>&nbsp;颜色设置为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>白色</strong></span>，透明度为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>130，</strong></span>&nbsp;然后把<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>offsets</strong></span>&nbsp;和&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>blur radius</strong></span>设置为如下所示：<br>
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2013/11/12_innerhighlight.png" rel="nofollow"><img title="add an inner highlight in PaintCode" alt="" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145513_xUYh.png" width="302" height="209"></a><br>
根据前面的教程。这个颜色的名字可能已经是默认的&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Shadow Color 2</strong></span>&nbsp;，如果不一样，就把它改成这个名字。<br>
现在，我们的按钮应该和下面一样了：<br>
<a target="_blank" href="http://cdn4.raywenderlich.com/wp-content/uploads/2013/11/Final-Button.png" rel="nofollow"><img alt="Final Button" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145514_k84r.png" width="700" height="88"></a><br>
到这个时候，我们的按钮已经看起来挺不错的了，但是他的大小是定死了的。要让它可以随意的改变大小，我们需要给他加一个frame。 我们会在代码里改变它的大小，接下来我们会在PaintCode里面设置frame，这样可以让里面的所有东西都是可变大小的。
</p>
<h2>
<a name="t2" rel="nofollow"></a><a name="t2" rel="nofollow"></a>给按钮加Frame
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
在顶部工具栏里选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Frame</strong></span>&nbsp;，然后画一个框包住按钮。把这个frame的属性设置为如下：<br>
<a target="_blank" href="http://cdn5.raywenderlich.com/wp-content/uploads/2013/11/Frame-For-Button.png" rel="nofollow"><img alt="Adding a frame for the button" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145514_6yOK.png" width="700" height="249"></a><br>
同时选中<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Frame</strong></span>&nbsp;和&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Rounded Rectangle，</strong></span>&nbsp;按下&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Option-Command-G</strong></span>&nbsp;组合键来把它们放在一个group里。 或者， 我们可以选择去按菜单里的&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Selection &gt;</strong></span>&nbsp;Group来达到同样的效果。&nbsp;最后吧这个group米命名为<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Button。</strong></span><br>
我们现在可以看到在左边的边栏最顶上，可能看到button group 和它包括2个元素，如下所示：<br>
<a target="_blank" href="http://cdn5.raywenderlich.com/wp-content/uploads/2013/11/Grouping-Elements-e1369677705824.png" rel="nofollow"><img alt="Grouping elements" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145515_0w3R.png" width="300" height="243"></a><br>
在左边面板里选中&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Rounded Rectangle。</strong></span>&nbsp;找到设置这个形状大小限定的区域 – 它是在坐标设置左边的一个方框， 里面包含了几个杆状，弹簧状的横条。<br>
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2013/11/ResizeWindow.png" rel="nofollow"><img alt="ResizeWindow" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145516_yzTh.png" width="76" height="75"></a><br>
我们现在需要这个按钮能够水平的竖直的去改变大小，同时又能保持水平中心不变。 所以我们就要吧外部的约束设置为直的(固定了大小)， 然后底部应该设置为弹簧条(能够随意的改变大小)。 这样就能让按钮保持在水平中心对齐了。<br>
但是，为了能让按钮能随意的改变大小和frame一样，我们需要吧方框里面的杆都改成弹簧。<br>
我们仅仅需要点一下这些杆，就可以让他们在直杆和弹簧之间切换。<br>
当大家完成了修改约束，样子应该如下所示：<br>
<a target="_blank" href="http://cdn2.raywenderlich.com/wp-content/uploads/2013/11/Button-Constraints-e1369885750980.png" rel="nofollow"><img alt="Button constraints" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145516_xRIS.png" width="300" height="145"></a><br>
到这里，已经完成了大部分工作了！ 现在我们选中按钮边上的&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Frame，</strong></span>然后随便把这个按钮左右上下拖动试试，它的样子大概如下图：<br>
<a target="_blank" href="http://cdn2.raywenderlich.com/wp-content/uploads/2013/11/Final-Button1.png" rel="nofollow"><img alt="Final button" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145517_TD00.png" width="480" height="160"></a><br>
现在PaintCode里的画图这部分的工作已经完成 —我们接下来要开始把它加入xcode里了。
</p>
<h2>
<a name="t3" rel="nofollow"></a><a name="t3" rel="nofollow"></a>加入iOS项目里
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
在完成了我们项目所用到的按钮以后— 当然，我们没有写一行代码！别急，现在卷起袖口准备开始撸代码吧！<br>
我已经为大家准备了一个用开测试这个按钮的起始项目。<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2013/11/PaintCode.zip" rel="nofollow">下载</a>这个起始项目，&nbsp;解压，然后在xcode里打开。看看里面有什么吧。
</p>
<div>
<p style="font-family:inherit;font-size:1em;font-style:inherit;vertical-align:baseline;">
<span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>注意：</strong></span>&nbsp;这个项目里的storyboard是关掉了Autolayout的。并不是每个项目都需要这样，但是在这里，我们更偏向于使用springs和struts约束。
</p>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
这是一个Tabbar 应用，里面包含了3个view controller，他们分别是为这个系列教程每次创建的控件准备的。 在这次的 PaintCode 教程里，我们将会使用&nbsp;ButtonViewController&nbsp;来展示我们的按钮。<br>
在&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Classes &gt; Views</strong></span>下面有一个空文件夹。这次，&nbsp;我们在这里面创建自己的类。我们会继承一个现有的控件，然后去改变他的绘制代码，而不是完全的用一个空UIView来实现。<br>
而在这个教程里，我们继承UIButton。让我们开始吧！
</p>
<h2>
<a name="t4" rel="nofollow"></a><a name="t4" rel="nofollow"></a>创建按钮
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
在&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Classes</strong></span>&nbsp;组下面， 右键&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Views</strong></span>&nbsp;组。选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>NewFile…</strong></span>&nbsp;然后创建一个&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>iOSCocoa TouchObjective-C class</strong></span>模板，把这个类命名为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonView，</strong></span>然后继承自&nbsp;UIButton。<br>
这个类将会使用我们在 PaintCode里创建的绘制代码。<br>
现在我们做一些准备工作， 打开&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonView.m，</strong></span>删除&nbsp;initWithFrame:&nbsp;方法，然后反注释&nbsp;drawRect:。如下所示：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a> 
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">#import&nbsp;"ButtonView.h"</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@implementation</span><span style="background-color:inherit;">&nbsp;ButtonView&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">-&nbsp;(<span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)drawRect:(CGRect)rect&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">{&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;Drawing&nbsp;code</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;"><a href="http://my.oschina.net/u/567204" target="_blank" rel="nofollow">@end</a> </span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
drawRect:&nbsp;这里就是我们施展魔法的地方 – 这里我们会把PaintCode生成的代码加上。 如果你不熟悉&nbsp;drawRect:甚至不知道它是做什么的，最好先去看看我们的&nbsp;<a target="_blank" href="http://www.raywenderlich.com/32283/core-graphics-tutorial-lines-rectangles-and-gradients" rel="nofollow">Core Graphics 系列教程</a>吧。<br>
回到 PaintCode 然后找到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Code View。</strong></span>如果没有找到， 选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>View &gt; Code</strong></span>&nbsp;来打开这个面板。找到代码生成配置模块：<br>
<a target="_blank" href="http://cdn2.raywenderlich.com/wp-content/uploads/2013/11/PaintCode-Code-Settings.png" rel="nofollow"><img alt="PaintCode code settings" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145517_tvWS.png" width="480" height="31"></a><br>
把平台设置为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>iOS &gt; Objective-C</strong></span>，系统版本设置为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>iOS 5+，</strong></span>&nbsp;默认原点为<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Default Origin，</strong></span>内存管理为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ARC。</strong></span>如果这是你第一次使用 PaintCode — 或者你从来没弄过这些东西 — PaintCode已经帮你做了完好的内存管理了。<br>
复制并且把这些代码从 PaintCode里粘贴到&nbsp;drawRect:里面。这个方法应该和下图一样了：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a> 
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)drawRect:(CGRect)rect&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">{&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;General&nbsp;Declarations</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGColorSpaceRef&nbsp;colorSpace&nbsp;=&nbsp;CGColorSpaceCreateDeviceRGB();&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGContextRef&nbsp;context&nbsp;=&nbsp;UIGraphicsGetCurrentContext();&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;Color&nbsp;Declarations</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;UIColor*&nbsp;buttonColorDark&nbsp;=&nbsp;[UIColor<span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.439</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.004</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;1</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;UIColor*&nbsp;buttonColorLight&nbsp;=&nbsp;[UIColor<span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;1</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;UIColor*&nbsp;innerGlowColor&nbsp;=&nbsp;[UIColor<span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.502</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;UIColor*&nbsp;shadowColor<span style="background-color:inherit;">2</span><span style="background-color:inherit;">&nbsp;=&nbsp;[UIColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.51</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;Gradient&nbsp;Declarations</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;NSArray*&nbsp;buttonGradientColors&nbsp;=&nbsp;[NSArray<span style="color:#DD0000;background-color:inherit;">&nbsp;arrayWithObjects</span><span style="background-color:inherit;">:&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span style="color:#006699;font-weight:bold;background-color:inherit;">id</span><span style="background-color:inherit;">)buttonColorLight</span><span style="background-color:inherit;">.CGColor</span><span style="background-color:inherit;">,&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span style="color:#006699;font-weight:bold;background-color:inherit;">id</span><span style="background-color:inherit;">)buttonColorDark</span><span style="background-color:inherit;">.CGColor</span><span style="background-color:inherit;">,</span><span style="color:#006699;font-weight:bold;background-color:inherit;">&nbsp;nil</span><span style="color:#DD0000;background-color:inherit;">&nbsp;nil</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGFloat&nbsp;buttonGradientLocations[]&nbsp;=&nbsp;{<span style="background-color:inherit;">0</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">};&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGGradientRef&nbsp;buttonGradient&nbsp;=&nbsp;CGGradientCreateWithColors(colorSpace,&nbsp;(__bridge&nbsp;CFArrayRef)buttonGradientColors,&nbsp;buttonGradientLocations);&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;Shadow&nbsp;Declarations</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;UIColor*&nbsp;outerGlow&nbsp;=&nbsp;innerGlowColor;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGSize&nbsp;outerGlowOffset&nbsp;=&nbsp;CGSizeMake(<span style="background-color:inherit;">0</span><span style="background-color:inherit;">.1</span><span style="background-color:inherit;">,&nbsp;-</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.1</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGFloat&nbsp;outerGlowBlurRadius&nbsp;=&nbsp;<span style="background-color:inherit;">3</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;UIColor*&nbsp;highlight&nbsp;=&nbsp;shadowColor<span style="background-color:inherit;">2</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGSize&nbsp;highlightOffset&nbsp;=&nbsp;CGSizeMake(<span style="background-color:inherit;">0</span><span style="background-color:inherit;">.1</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">.1</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGFloat&nbsp;highlightBlurRadius&nbsp;=&nbsp;<span style="background-color:inherit;">2</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;Frames</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGRect&nbsp;frame&nbsp;=&nbsp;CGRectMake(<span style="background-color:inherit;">0</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">4</span><span style="background-color:inherit;">8</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">4</span><span style="background-color:inherit;">9</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;Button</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;Rounded&nbsp;Rectangle&nbsp;Drawing</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGRect&nbsp;roundedRectangleRect&nbsp;=&nbsp;CGRectMake(CGRectGetMinX(frame)&nbsp;+&nbsp;<span style="background-color:inherit;">4</span><span style="background-color:inherit;">,&nbsp;CGRectGetMinY(frame)&nbsp;+&nbsp;</span><span style="background-color:inherit;">4</span><span style="background-color:inherit;">,&nbsp;CGRectGetWidth(frame)&nbsp;-&nbsp;</span><span style="background-color:inherit;">7</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">4</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UIBezierPath*&nbsp;roundedRectanglePath&nbsp;=&nbsp;[UIBezierPath<span style="color:#DD0000;background-color:inherit;">&nbsp;bezierPathWithRoundedRect</span><span style="background-color:inherit;">:&nbsp;roundedRectangleRect</span><span style="color:#DD0000;background-color:inherit;">&nbsp;cornerRadius</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;6</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextSaveGState(context);&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextSetShadowWithColor(context,&nbsp;outerGlowOffset,&nbsp;outerGlowBlurRadius,&nbsp;outerGlow<span style="background-color:inherit;">.CGColor</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextBeginTransparencyLayer(context,&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">NULL</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[roundedRectanglePath<span style="color:#DD0000;background-color:inherit;">&nbsp;addClip</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextDrawLinearGradient(context,&nbsp;buttonGradient,&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGPointMake(CGRectGetMidX(roundedRectangleRect),&nbsp;CGRectGetMinY(roundedRectangleRect)),&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGPointMake(CGRectGetMidX(roundedRectangleRect),&nbsp;CGRectGetMaxY(roundedRectangleRect)),&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color:inherit;">0</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextEndTransparencyLayer(context);&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//////&nbsp;Rounded&nbsp;Rectangle&nbsp;Inner&nbsp;Shadow</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGRect&nbsp;roundedRectangleBorderRect&nbsp;=&nbsp;CGRectInset([roundedRectanglePath<span style="color:#DD0000;background-color:inherit;">&nbsp;bounds</span><span style="background-color:inherit;">],&nbsp;-highlightBlurRadius,&nbsp;-highlightBlurRadius);&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;roundedRectangleBorderRect&nbsp;=&nbsp;CGRectOffset(roundedRectangleBorderRect,&nbsp;-highlightOffset<span style="background-color:inherit;">.width</span><span style="background-color:inherit;">,&nbsp;-highlightOffset</span><span style="background-color:inherit;">.height</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;roundedRectangleBorderRect&nbsp;=&nbsp;CGRectInset(CGRectUnion(roundedRectangleBorderRect,&nbsp;[roundedRectanglePath<span style="color:#DD0000;background-color:inherit;">&nbsp;bounds</span><span style="background-color:inherit;">]),&nbsp;-</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">,&nbsp;-</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UIBezierPath*&nbsp;roundedRectangleNegativePath&nbsp;=&nbsp;[UIBezierPath<span style="color:#DD0000;background-color:inherit;">&nbsp;bezierPathWithRect</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;roundedRectangleBorderRect</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[roundedRectangleNegativePath<span style="color:#DD0000;background-color:inherit;">&nbsp;appendPath</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;roundedRectanglePath</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;roundedRectangleNegativePath<span style="background-color:inherit;">.usesEvenOddFillRule</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">YES</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextSaveGState(context);&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGFloat&nbsp;xOffset&nbsp;=&nbsp;highlightOffset<span style="background-color:inherit;">.width</span><span style="background-color:inherit;">&nbsp;+&nbsp;round(roundedRectangleBorderRect</span><span style="background-color:inherit;">.size</span><span style="background-color:inherit;">.width</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGFloat&nbsp;yOffset&nbsp;=&nbsp;highlightOffset<span style="background-color:inherit;">.height</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextSetShadowWithColor(context,&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGSizeMake(xOffset&nbsp;+&nbsp;copysign(<span style="background-color:inherit;">0</span><span style="background-color:inherit;">.1</span><span style="background-color:inherit;">,&nbsp;xOffset),&nbsp;yOffset&nbsp;+&nbsp;copysign(</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.1</span><span style="background-color:inherit;">,&nbsp;yOffset)),&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;highlightBlurRadius,&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;highlight<span style="background-color:inherit;">.CGColor</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[roundedRectanglePath<span style="color:#DD0000;background-color:inherit;">&nbsp;addClip</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGAffineTransform&nbsp;transform&nbsp;=&nbsp;CGAffineTransformMakeTranslation(-round(roundedRectangleBorderRect<span style="background-color:inherit;">.size</span><span style="background-color:inherit;">.width</span><span style="background-color:inherit;">),&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[roundedRectangleNegativePath<span style="color:#DD0000;background-color:inherit;">&nbsp;applyTransform</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;transform</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[UIColor<span style="color:#DD0000;background-color:inherit;">&nbsp;grayColor</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setFill</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[roundedRectangleNegativePath<span style="color:#DD0000;background-color:inherit;">&nbsp;fill</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextRestoreGState(context);&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextRestoreGState(context);&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[UIColor<span style="color:#DD0000;background-color:inherit;">&nbsp;blackColor</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setStroke</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;roundedRectanglePath<span style="background-color:inherit;">.lineWidth</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[roundedRectanglePath<span style="color:#DD0000;background-color:inherit;">&nbsp;stroke</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;Cleanup</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGGradientRelease(buttonGradient);&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGColorSpaceRelease(colorSpace);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> 
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
如果大家仔细的浏览了代码，会发现它是用Core Graphics来绘制的。 或多或少的方法大家可能都没见过，但是它们并不难于去理解。 并且，这也是我们使用 PaintCode 的原因之一；为了省掉学习 Core Graphics并且花更少的时间去在那里慢慢的调试绘制代码！ :]
</p>
<div>
<p style="font-family:inherit;font-size:1em;font-style:inherit;vertical-align:baseline;">
<span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>注意：</strong></span>&nbsp;大家暂时不用去太担心&nbsp;drawRect:&nbsp;里面代码的缩进和语法。我们等会儿会再回来，并且做一些修改 ，包括把语法改为 moden Objective-C。
</p>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
现在该来测试我们的按钮了。<br>
在 Project Navigator 找到我们的storyboard 然后选中&nbsp;ButtonViewController。在Object<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>&nbsp;Library</strong></span>里拖出来一个<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>View</strong></span>&nbsp;然后把它的&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>X</strong></span>&nbsp;和&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Y坐标为</strong></span>&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>20，</strong></span>&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>35</strong></span>。然后， 把它的&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Width</strong></span>&nbsp;和&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Height</strong></span>&nbsp;设置为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>280，</strong></span><span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>41。</strong></span><br>
最后， 把它的&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Autosizing</strong></span>&nbsp;设置 修改为只能水平扩张，如下所示：<br>
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2013/11/Button-View-Autosizing-e1369884863217.png" rel="nofollow"><img alt="Button view autosizing" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145517_P4wG.png" width="280" height="290"></a><br>
切换到Identity<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>&nbsp;Inspector</strong></span>&nbsp;然后把它的类名设置为&nbsp;ButtonView。
</p>
<div>
<p style="font-family:inherit;font-size:1em;font-style:inherit;vertical-align:baseline;">
<span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>注意：</strong></span>大家可能有疑问为什么在storyboard里面是一个&nbsp;UIView&nbsp;， 但是&nbsp;ButtonView又继承与UIButton。&nbsp;原因很简单&nbsp;UIButton&nbsp;它继承于&nbsp;UIView因此一个按钮任然是一个&nbsp;view。
</p>
<p style="font-family:inherit;font-size:1em;font-style:inherit;vertical-align:baseline;">
在这次 PaintCode 教程的后部分 ，我们会让它和真正的按钮一样起作用。毕竟 —他继承了UIButton。
</p>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
<a target="_blank" href="http://cdn2.raywenderlich.com/wp-content/uploads/2013/11/Subclass-Watch-Out.png" rel="nofollow"><img alt="Subclass watch out" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145518_zmlE.png" width="423" height="320"></a><br>
是时候检测我们漂亮的新按钮了！<br>
点击&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Run</strong></span>&nbsp;看看我们的按钮什么样的吧：<br>
<a target="_blank" href="http://cdn5.raywenderlich.com/wp-content/uploads/2013/11/First-Button-Test.png" rel="nofollow"><img alt="First button test" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145519_f6ii.png" width="213" height="320"></a><br>
额…按钮貌似被砍掉了一块，怎么回事儿？<br>
现在找到<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonView.m</strong></span>里的&nbsp;drawRect:：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a> 
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)drawRect:(CGRect)rect&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">{&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;Frames</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGRect&nbsp;frame&nbsp;=&nbsp;CGRectMake(<span style="background-color:inherit;">0</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">4</span><span style="background-color:inherit;">8</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">4</span><span style="background-color:inherit;">9</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> 
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
原来！！！！这个按钮的frame是定死了的。我们想要的是一个可以动态改变大小的按钮 — 并且能够适应我们给它设置的大小。<br>
这个问题很简单，修改设置&nbsp;frame的那行代码为如下：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a> 
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)drawRect:(CGRect)rect&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">{&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;Frames</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGRect&nbsp;frame&nbsp;=&nbsp;rect;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> 
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
上面那段代码是把view的frame设置为绘制的frame的大小。<br>
点击Run，让我们再来一发！<br>
<a target="_blank" href="http://cdn3.raywenderlich.com/wp-content/uploads/2013/11/First-Button-Test-Fixed.png" rel="nofollow"><img alt="First button test fixed" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145519_KXyz.png" width="213" height="320"></a><br>
耶！按钮的绘制终于和我们想要的一样了。旋转模拟器(或者设备) 我们会看到按钮和我们期望的一样保持水平位置，改变着宽。<br>
我们已经完成了大部分了 — 但是我们怎让才能让它变得更动态呢？
</p>
<h2>
<a name="t5" rel="nofollow"></a><a name="t5" rel="nofollow"></a>动态的设置按钮属性
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
动态的控制按钮大小是挺不错的 —但是现在，我们要做一件更神奇的事情；在&nbsp;ButtonViewController&nbsp;里面加一些滑动条来控制按钮的RGB值。<br>
回到storyboard，拖3个Slider 并且把它们放在按钮下面。 在&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Size Inspector</strong></span>里面，&nbsp;把3个slider的&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Autosizing</strong></span>widget 设置为如下所示：<br>
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2013/11/Slider-Autosizing-e1369887059877.png" rel="nofollow"><img alt="Slider Autosizing" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145519_fiiW.png" width="300" height="123"></a><br>
大家还可以把按钮往下移一点，然后放一个label 写着&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>“Tap Me”</strong></span>，这样的话可以让你的用户知道按钮是可以点击的。Storyboard应该如下图一样的：<br>
<a target="_blank" href="http://cdn5.raywenderlich.com/wp-content/uploads/2013/11/Scene-With-Sliders.png" rel="nofollow"><img alt="Scene with sliders" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145520_gKIG.png" width="282" height="500"></a><br>
找到Attributes<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>&nbsp;Inspector，</strong></span>把slider的&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Min Track Tint</strong></span>&nbsp;的颜色设置为如下的RGB值：
</p>
<ul>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Top slider:</strong></span>&nbsp;R:255 G:0 B:0
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Middle slider:</strong></span>&nbsp;R:0 G:255 B:0
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Bottom slider:</strong></span>&nbsp;R:0 G:0 B:255
</li>
</ul>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
我们的slider应该和下面的差不多了：<br>
<a target="_blank" href="http://cdn4.raywenderlich.com/wp-content/uploads/2013/11/Slider-Colors.png" rel="nofollow"><img alt="Slider colors" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145520_J4wp.png" width="281" height="500"></a> 
</p>
<div>
<p style="font-family:inherit;font-size:1em;font-style:inherit;vertical-align:baseline;">
<span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>注意:</strong></span>&nbsp;有的时候slider的背景色也会随着Min Tint color 的改变而改变。这是一个xcode的bug，我们可以直接吧slider的背景色设置为默认的。
</p>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
然后找到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonViewController.m，</strong></span>在顶部加入下面的代码：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a> 
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">#import&nbsp;"ButtonView.h"</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;"><a href="http://my.oschina.net/u/996807" target="_blank" rel="nofollow">@interface</a> </span><span style="background-color:inherit;">&nbsp;ButtonViewController&nbsp;()&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@property</span><span style="background-color:inherit;">&nbsp;(weak,&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">nonatomic</span><span style="background-color:inherit;">)&nbsp;IBOutlet&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">UISlider</span><span style="background-color:inherit;">&nbsp;*blueSlider;&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@property</span><span style="background-color:inherit;">&nbsp;(weak,&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">nonatomic</span><span style="background-color:inherit;">)&nbsp;IBOutlet&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">ButtonView</span><span style="background-color:inherit;">&nbsp;*buttonView;&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@property</span><span style="background-color:inherit;">&nbsp;(weak,&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">nonatomic</span><span style="background-color:inherit;">)&nbsp;IBOutlet&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">UISlider</span><span style="background-color:inherit;">&nbsp;*greenSlider;&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@property</span><span style="background-color:inherit;">&nbsp;(weak,&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">nonatomic</span><span style="background-color:inherit;">)&nbsp;IBOutlet&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">UISlider</span><span style="background-color:inherit;">&nbsp;*redSlider;&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@end</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
把&nbsp;buttonView&nbsp;连接到我们设置的那个&nbsp;UIView&nbsp;上，然后把3个&nbsp;UISlider&nbsp;和storyboard里面各自对应的连接上。如果大家还不知道怎么连接view和outlet，可以去看看我们的&nbsp;<a target="_blank" href="http://www.raywenderlich.com/zh-hans/18166/ios%ef%bc%95%e7%a4%ba%e8%8c%83%e7%a8%8b%e5%ba%8f%e6%95%99%e7%a8%8b%ef%bc%88%e7%ac%ac%e4%b8%80%e9%83%a8%ef%bc%89x" rel="nofollow">How To Create a Simple iPhone App</a>&nbsp;系列教程。<br>
为了能让按钮的颜色随着slider的拖动而改变， 我们的&nbsp;ButtonView&nbsp;需要随着slider 去更新。<br>
找到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonView.h</strong></span>&nbsp;然后把下面3行加入 @interface 和 @end 之间：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a> 
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@property</span><span style="background-color:inherit;">&nbsp;(assign,&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">nonatomic</span><span style="background-color:inherit;">)&nbsp;CGFloat&nbsp;blueColor;&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@property</span><span style="background-color:inherit;">&nbsp;(assign,&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">nonatomic</span><span style="background-color:inherit;">)&nbsp;CGFloat&nbsp;greenColor;&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@property</span><span style="background-color:inherit;">&nbsp;(assign,&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">nonatomic</span><span style="background-color:inherit;">)&nbsp;CGFloat&nbsp;redColor;&nbsp;&nbsp;</span></span> 
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
这些是储存按钮RGB值的变量。<br>
然后切换到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonView.m</strong></span>&nbsp;，找到&nbsp;drawRect:。我们会注意到这段&nbsp;Gradient Declarations&nbsp;用的是旧的NSArray代码。为了保持良好的代码风格，把&nbsp;Gradient Declarations&nbsp;那行替换成如下：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a> 
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">NSArray</span><span style="background-color:inherit;">&nbsp;*buttonGradientColors&nbsp;=&nbsp;@[(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">id</span><span style="background-color:inherit;">)buttonColorLight</span><span style="background-color:inherit;">.CGColor</span><span style="background-color:inherit;">,&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">id</span><span style="background-color:inherit;">)buttonColorDark</span><span style="background-color:inherit;">.CGColor</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
然后，把所有带 “Color Declarations” 注释的代码替换成如下：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a> 
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)drawRect:(CGRect)rect&nbsp;{&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;1</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">UIColor</span><span style="background-color:inherit;">&nbsp;*buttonColorLight&nbsp;=&nbsp;[UIColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.redColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.greenColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.blueColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;1</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;2</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.state</span><span style="background-color:inherit;">&nbsp;==&nbsp;UIControlStateHighlighted)&nbsp;{&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buttonColorLight&nbsp;=&nbsp;[UIColor<span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.redColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.greenColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.blueColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.5</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;3</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGFloat&nbsp;buttonColorLightRGBA[<span style="background-color:inherit;">4</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[buttonColorLight<span style="color:#DD0000;background-color:inherit;">&nbsp;getRed</span><span style="background-color:inherit;">:&amp;buttonColorLightRGBA[</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">]&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:&amp;buttonColorLightRGBA[</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">]&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:&amp;buttonColorLightRGBA[</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">]&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:&amp;buttonColorLightRGBA[</span><span style="background-color:inherit;">3</span><span style="background-color:inherit;">]];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;4</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">UIColor</span><span style="background-color:inherit;">&nbsp;*buttonColorDark&nbsp;=&nbsp;[UIColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:(buttonColorLightRGBA[</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">]&nbsp;*&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.5</span><span style="background-color:inherit;">)&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:(buttonColorLightRGBA[</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">]&nbsp;*&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.5</span><span style="background-color:inherit;">)&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:(buttonColorLightRGBA[</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">]&nbsp;*&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.5</span><span style="background-color:inherit;">)&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:(buttonColorLightRGBA[</span><span style="background-color:inherit;">3</span><span style="background-color:inherit;">]&nbsp;*&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.5</span><span style="background-color:inherit;">&nbsp;+&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.5</span><span style="background-color:inherit;">)];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;5</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">UIColor</span><span style="background-color:inherit;">&nbsp;*innerGlowColor&nbsp;=&nbsp;[UIColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.53</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">UIColor</span><span style="background-color:inherit;">&nbsp;*shadowColor</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">&nbsp;=&nbsp;[UIColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.51</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> 
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
我们在这里具体做了：
</p>
<ol>
<li>
申明一个局部&nbsp;UIColor&nbsp;变量作为按钮的浅色 (记住，我们在渐变编辑器里设置的那个)，但是现在我们使用的是来自slider的RGB值。
</li>
<li>
如果用户安下了按钮，把按钮的颜色的alpha降低50%， 这时候按钮的状态是&nbsp;UIControlStateHighlighted。这能在按下按钮时提供用户一些视觉上的反馈。
</li>
<li>
把按钮的rgb值储存到一个CGFloat的数组里。
</li>
<li>
基于浅色创建按钮的深色 (记住，我们在渐变编辑器里设置的那个) 。
</li>
<li>
基于一些固定值创建内发光和阴影。
</li>
</ol>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
在这里我们最好给按钮一个初始颜色。 因为我们用的是Storyboard，所以我们需要重载&nbsp;initWithCoder:&nbsp;(在<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonView.m</strong></span>) 来实现：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a> 
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">id</span><span style="background-color:inherit;">)initWithCoder:(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">NSCoder</span><span style="background-color:inherit;">&nbsp;*)coder&nbsp;{&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">&nbsp;=&nbsp;[</span><span style="color:#006699;font-weight:bold;background-color:inherit;">super</span><span style="color:#DD0000;background-color:inherit;">&nbsp;initWithCoder</span><span style="background-color:inherit;">:coder])&nbsp;{&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.redColor</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">.0f</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.greenColor</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.0f</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.blueColor</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.0f</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.contentMode</span><span style="background-color:inherit;">&nbsp;=&nbsp;UIViewContentModeRedraw;&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">return</span><span style="background-color:inherit;">&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> 
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
<span style="color:#110000;">这个设置把view的内容模式设置为了&nbsp;</span>UIViewContentModeRedraw，并且让按钮初始的时候是红色的。
</p>
<div>
<p style="font-family:inherit;font-size:1em;font-style:inherit;vertical-align:baseline;">
<span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>注意：</strong></span>&nbsp;如果大家好奇为什么重载&nbsp;initWithCoder:&nbsp;而不是&nbsp;initWithFrame:，&nbsp;这是因为initWithFrame:是用来在代码里手动生成view的， 然而&nbsp;initWithCoder:&nbsp;是用来初始化一个从Nib或者Storyboard里面生成的view的。
</p>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
在我们开始测试之前，还有最后一件事做。找到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonViewController.m</strong></span>&nbsp;然后吧&nbsp;viewDidLoad&nbsp;替换成如下：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a> 
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)viewDidLoad&nbsp;{&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">super</span><span style="color:#DD0000;background-color:inherit;">&nbsp;viewDidLoad</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.redSlider</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setValue</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.buttonView</span><span style="background-color:inherit;">.redColor</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.greenSlider</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setValue</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.buttonView</span><span style="background-color:inherit;">.greenColor</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.blueSlider</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setValue</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.buttonView</span><span style="background-color:inherit;">.blueColor</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> 
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
上面的代码把每个slider的颜色设置为按钮各个RGB通道的值。<br>
编译运行， 试试滑动这些slider，如下所示：<br>
<a target="_blank" href="http://cdn3.raywenderlich.com/wp-content/uploads/2013/11/Testing-The-Sliders.png" rel="nofollow"><img alt="Testing the sliders" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145521_TI24.png" width="213" height="320"></a><br>
等下！！为什么没有反应！<br>
我们确实连接了slider， 但是现在在&nbsp;ButtonViewController&nbsp;没有任何方法去响应slider值的改变。我们需要加一些&nbsp;IBAction&nbsp;代码来处理这些值。
</p>
<h2>
<a name="t6" rel="nofollow"></a><a name="t6" rel="nofollow"></a>响应事件
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
响应按钮和slider的事件其实很简单。<br>
在<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonViewController.m</strong></span>里加入如下代码：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a> 
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-(IBAction)sliderValueChanged:(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">UISlider</span><span style="background-color:inherit;">&nbsp;*)slider&nbsp;{&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;(slider&nbsp;==&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.redSlider</span><span style="background-color:inherit;">)&nbsp;{&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.buttonView</span><span style="background-color:inherit;">.redColor</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.redSlider</span><span style="background-color:inherit;">.value</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">else</span><span style="background-color:inherit;">&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;(slider&nbsp;==&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.greenSlider</span><span style="background-color:inherit;">)&nbsp;{&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.buttonView</span><span style="background-color:inherit;">.greenColor</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.greenSlider</span><span style="background-color:inherit;">.value</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">else</span><span style="background-color:inherit;">&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;(slider&nbsp;==&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.blueSlider</span><span style="background-color:inherit;">)&nbsp;{&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.buttonView</span><span style="background-color:inherit;">.blueColor</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.blueSlider</span><span style="background-color:inherit;">.value</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.buttonView</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setNeedsDisplay</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> 
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
上面的能收到一个值改变了的slider的指针。 我们通过和属性里声明的slider比较来确定具体修改哪个slider的值。<br>
我们可以注意到，在代码的最后我们调用了setNeedsDisplay&nbsp;来让按钮能够更新到最新的颜色。<br>
现在回到Storyboard， 依次把slider的&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Value Changed</strong></span>&nbsp;event 和ButtonViewController里的&nbsp;sliderValueChanged:&nbsp;连接起来，如下所示：<br>
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2013/11/Connecting-The-Sliders.png" rel="nofollow"><img alt="Connecting the sliders" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145521_zFwo.png" width="570" height="500"></a><br>
Build and run your project again, and try once more to move the sliders around to change the button’s color, as below:<br>
<a target="_blank" href="http://cdn5.raywenderlich.com/wp-content/uploads/2013/11/Working-Sliders.png" rel="nofollow"><img alt="Working sliders" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145522_FHwL.png" width="213" height="320"></a><br>
叼炫酷！现在我们的按钮，不经能任意改变大小！还能随便的改变颜色了！<br>
现在我们来试试按钮按下有啥反应。<br>
额~~~ 啥都没发生！ 按钮并没有高亮来表示按下，也没有任何提示你的信用卡刚被划掉了99.99$. (开个玩笑！ :])<br>
我们还没有给按钮连接事件 — 接下来我们就开始吧！
</p>
<h2>
<a name="t7" rel="nofollow"></a><a name="t7" rel="nofollow"></a>最后的点击
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
回到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonView.m</strong></span>&nbsp;然后加入下面的方法：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a> 
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)setEnabled:(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">BOOL</span><span style="background-color:inherit;">)enabled&nbsp;{&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">super</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setEnabled</span><span style="background-color:inherit;">:enabled];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setNeedsDisplay</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">-(<span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)setHighlighted:(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">BOOL</span><span style="background-color:inherit;">)value&nbsp;{&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">super</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setHighlighted</span><span style="background-color:inherit;">:value];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setNeedsDisplay</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">-(<span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)setSelected:(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">BOOL</span><span style="background-color:inherit;">)value&nbsp;{&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">super</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setSelected</span><span style="background-color:inherit;">:value];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setNeedsDisplay</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> 
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
上面的代码是让按钮在 enabled 和 disabled，selected 和 unselected，highlighted 或者 unhighlighted&nbsp;的时候能够重新绘制一次。 这是为了让我们能看到具体的改变，当我们按下按钮时候。<br>
接着，把下面的代码加进<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonViewController.m：</strong></span> 
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a> 
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-(IBAction)buttonTapped:(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">UIButton</span><span style="background-color:inherit;">&nbsp;*)button&nbsp;{&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">ButtonView</span><span style="background-color:inherit;">&nbsp;*buttonView&nbsp;=&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">ButtonView</span><span style="background-color:inherit;">&nbsp;*)button;&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">NSString</span><span style="background-color:inherit;">&nbsp;*messageString&nbsp;=&nbsp;[NSString</span><span style="color:#DD0000;background-color:inherit;">&nbsp;stringWithFormat</span><span style="background-color:inherit;">:</span><span style="color:blue;background-color:inherit;">@"Red:&nbsp;%fnGreen:&nbsp;%fnBlue:&nbsp;%fn&nbsp;Alpha:&nbsp;%f"</span><span style="background-color:inherit;">,&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buttonView<span style="background-color:inherit;">.redColor</span><span style="background-color:inherit;">,&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buttonView<span style="background-color:inherit;">.greenColor</span><span style="background-color:inherit;">,&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buttonView<span style="background-color:inherit;">.blueColor</span><span style="background-color:inherit;">,&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buttonView<span style="background-color:inherit;">.alpha</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">UIAlertView</span><span style="background-color:inherit;">&nbsp;*alertView&nbsp;=&nbsp;[[UIAlertView</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alloc</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;initWithTitle</span><span style="background-color:inherit;">:</span><span style="color:blue;background-color:inherit;">@"Button&nbsp;Colors"</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;message</span><span style="background-color:inherit;">:messageString&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;delegate</span><span style="color:#006699;font-weight:bold;background-color:inherit;">:nil</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;cancelButtonTitle</span><span style="background-color:inherit;">:</span><span style="color:blue;background-color:inherit;">@"Dismiss"</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;otherButtonTitles</span><span style="color:#006699;font-weight:bold;background-color:inherit;">:nil</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[alertView<span style="color:#DD0000;background-color:inherit;">&nbsp;show</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> 
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> 
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
这个方法的作用是在按钮按下以后，弹出一个提醒框，显示当前的RGB和Alpha值。<br>
在Storyboard里，把&nbsp;Touch Up Inside&nbsp;和这个方法联系在一起。<br>
最后在运行一次程序，按下按钮看看结果吧！ 应该出现和下面一样的画面：<br>
<a target="_blank" href="http://cdn4.raywenderlich.com/wp-content/uploads/2013/11/Final-Project.png" rel="nofollow"><img alt="Final project" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145523_7RaU.png" width="480" height="320"></a><br>
太棒了！ -一切都正常工作。
</p>
<h2>
<a name="t8" rel="nofollow"></a><a name="t8" rel="nofollow"></a>何去何从？
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
大家可以<a target="_blank" href="http://cdn3.raywenderlich.com/wp-content/uploads/2013/11/PaintCode-Part-1-Final.zip" rel="nofollow">在这里下载</a>所需的PaintCode文件，和相关的Xcode项目。<br>
恭喜大家现在已经掌握了大部分的PaintCode功能了。它能极大的缩短设计app调试UI的时间。<br>
这个系列教程还剩下2部分；第二部分是教大家如何去创建一个自定义进度条，第三部分是使用贝塞尔曲线绘制箭头。<br>
现在，我们还可以再给这个项目增加一下功能让锦上添花：
</p>
<ul>
<li>
自己慢慢的熟悉 PaintCode 的其他功能和特性。
</li>
<li>
增加字符串，阴影，以及更多的其他特效。
</li>
<li>
重写ButtonView里的&nbsp;initWithFrame:&nbsp;，这样能让你使用代码生成动态按钮。
</li>
<li>
给&nbsp;ButtonView&nbsp;创建自己的初始化方法，让我们能初始按钮的颜色参数。
</li>
</ul>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
希望大家能喜欢这个 PaintCode 教程，并且希望大家能继续关注我们接下来的2部。接下来的加成将会越来越深入，并且会有一点的难度 — 但是我知道这对大家来说是小菜一碟。
</p>
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;">
<br>
</p>
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;">
http://www.raywenderlich.com/36341/paintcode-tutorial-dynamic-buttons
</p>
    		    	</div>
						<div class="bottom">
			发布于 4小时前，
						阅读(4) | 评论(0) |  投票(0) | 收藏(0) 
    		<a href="http://my.oschina.net/u/1244672/blog/602365" class="fullcontent">阅读全文...</a>
    	</div>
		      </li>
          <li class="Blog" id="blog_602364">      
		<div class="BlogTitle">
    		<div class="title">
            	<h2>
					<span class="icon" style="background:#44ac57;" title="原创博客">原</span>																									<a href="http://my.oschina.net/u/1244672/blog/602364">PaintCode 教程1：动态绘制按钮</a></h2>        		<div class="outline">
            	  <span class="catalog">
										分类: 
						<a href="http://my.oschina.net/u/1244672/blog?catalog=3369076">第三方库</a>										  </span>		  
        		              	              	</div>
    		</div>		
		</div>
        <span class="date"><em>14</em>2016-01</span>
    	    	<div class="BlogContent" id="blog_content_602364">
    		    		<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
<a target="_blank" href="http://paintcodeapp.com/" rel="nofollow"><br>
PaintCode</a>&nbsp;是一个能够让你像Photoshop一样去设计你的用户界面的软件 – 但是它并不是仅仅保存一张图片当作资源让你来使用，它能够为你生成 CoreGraphic 源码直接使用到View的绘制中.<br>
可以简单地说，我们看重的是下面几点：
</p>
<ul>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>节省了开发时间</strong></span>。&nbsp;如果一行一行的去写 Core Graphics 代码，绝对会比用 PaintCode多很多时间。 而时间就是金钱！
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>减少了程序包大小。</strong></span>&nbsp;用代码去绘制各种view，可以让你不再去添加图片资源，减少了资源包大小。
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>让它能做更动态的改变。.</strong></span>&nbsp;最后，我们可以做更多相比于使用图片做不到的事情，比如：可以在程序运行时轻松的改变控件的颜色。
</li>
</ul>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
深入： 这篇教程实际基于我们收到的一些 PaintCode 的使用反馈来写的。 但是， 教程里的的所有意见和建议绝对没有一点瞎掰，绝对原创。<br>
想要尽可能的利用学习这篇教程，大家至少知道一点iOS开发。 并且，懂一些 Core Graphics知识会更好（不是100%要求）。 如果大家从来没听说过 Core Graphics，真心推荐去看看&nbsp;<a target="_blank" href="http://www.raywenderlich.com/32283/core-graphics-tutorial-lines-rectangles-and-gradients" rel="nofollow">Core Graphics系列教程&nbsp;</a>。<br>
废话不多说，切入正题吧！
</p>
<h2>
<a name="t0" rel="nofollow"></a><a name="t0" rel="nofollow"></a>准备开始
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2013/11/PaintCodeIcon.175x175-75.png" rel="nofollow"><img alt="PaintCodeIcon.175x175-75" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145513_iIx2.png" width="175" height="175"></a>要学习这一系列的PaintCode 教程， 首先我们需要有个 PaintCode 软件。大家可以在这里下载&nbsp;<a target="_blank" href="http://www.paintcodeapp.com/try" rel="nofollow">试用版</a>，&nbsp;或者从&nbsp;<a target="_blank" href="https://itunes.apple.com/us/app/paintcode/id507897570" rel="nofollow">Mac App Store</a>购买完整版。
</p>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
尽管这个app还是算比较贵的，但是就我看来，他在生产中的能发挥的价值完全能物超所值。 如果大家还不确定， 下载一个试用版在这个教程里试试吧！
</p>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
<br>
</p>
<h2>
<a name="t1" rel="nofollow"></a><a name="t1" rel="nofollow"></a>创建第一个动态按钮
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
在敲任何代码之前，我们将会使用 PaintCode 来设计一个全新的按钮。<br>
打开 PaintCode，选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>FileSave，</strong></span>然后把这个项目命名为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>DynamicButton</strong></span>.。这样的话我们就可以在进行这个教程的时候时时的保存了。<br>
点击屏幕右下的<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Canvas</strong></span>&nbsp;按钮， 然后把画布大小设置为宽&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>480</strong></span>&nbsp;高&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>150</strong></span>&nbsp;pixels，如下图所示：<br>
<a target="_blank" href="http://cdn3.raywenderlich.com/wp-content/uploads/2013/11/DynamicButton-Canvas-Size.png" rel="nofollow"><img alt="PaintCode canvas size in new document" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145513_mfs9.png" width="700" height="431"></a><br>
然后通过设置&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Underlay color</strong></span>&nbsp;的RGB值为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>50 50 50</strong></span>来吧画布的颜色改为浅灰色，如下：<br>
<a target="_blank" href="http://cdn2.raywenderlich.com/wp-content/uploads/2013/05/DynamicButton-Canvas-Color.png" rel="nofollow"><img alt="Canvas color in PaintCode" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145513_sRxD.png" width="354" height="320"></a>
</p>
<div>
<p style="font-family:inherit;font-size:1em;font-style:inherit;vertical-align:baseline;">
<span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>注意:</strong></span>&nbsp;我们默认是在非高清画布上工作，如果大家想看高清的效果，点击Canvas按钮边上的&nbsp;<span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Retina</strong></span>按钮。这个按钮可以让你在高清和非高清之间切换。
</p>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
现在选中工具栏里的<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Round Rect</strong></span>&nbsp;按钮，然后在画布里拖出一个方形来。<br>
我们能看到，当我们在画布里选中一个形状的时候，左边会出现这个形状的所有属性。确保选中了刚才的这个方形，然后把它的属性修改为如下：
</p>
<ul>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>X</strong></span>: 4
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Y</strong></span>: 4
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Width</strong></span>: 473
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Height</strong></span>: 41
</li>
</ul>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
<a target="_blank" href="http://cdn2.raywenderlich.com/wp-content/uploads/2013/11/Creating-First-Round-Rect.png" rel="nofollow"><img alt="draw a rectangle in PaintCode" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145513_YXDi.png" width="560" height="500"></a><br>
接下来，为了改变按钮的颜色，我们需要设置它的Fill值。<br>
在左边的属性栏里， 点击&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Fill</strong></span>,，在弹出的选项里选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Add New Gradient</strong></span>，然后命名为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonGradient</strong></span>。现在， 点击&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>左下的 color stop。</strong></span>&nbsp;这些在颜色区域底部圆形的颜色选取点是用来给渐变提供所需参数的。<br>
接着，选着右下方的调色盘，然后RGB输入<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>255 0 0，</strong></span>如下所示：<br>
<a target="_blank" href="http://cdn3.raywenderlich.com/wp-content/uploads/2013/11/Button-Gradient-First-Stop.png" rel="nofollow"><img alt="Setting the button gradient colors" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145514_5axG.png" width="700" height="398"></a><br>
再次点击调色盘按钮来关掉它。<br>
现在， 用同样的办法把右边的颜色选取点的 RGB 改为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>112 1 0</strong></span>&nbsp;，如下：<br>
<a target="_blank" href="http://cdn4.raywenderlich.com/wp-content/uploads/2013/11/Button-Gradient-Second-Stop.png" rel="nofollow"><img alt="Setting the button gradient colors" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145514_USdb.png" width="700" height="402"></a><br>
PaintCode 让你能够去给每个使用在形状上的颜色命名，因为它们以同样的名字出现在代码里。 如果界面下方没有代码窗口，选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>View &gt; Code</strong></span>&nbsp;来打开它。 下面图片里高亮的那两行应该就是刚才我们创建的2个颜色。<br>
<a target="_blank" href="http://www.raywenderlich.com/36341/paintcode-tutorial-dynamic-buttons/01-paintcode-color-names" rel="nofollow"><img alt="Color variable in PaintCode Code view" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145515_T9wO.png" width="700" height="149"></a><br>
为了更好的找到这些颜色，我们最好给他们一个描述性较高的名字。<br>
选中&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Colors</strong></span>&nbsp;选择栏，在左边栏下面找到并双击&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Fill Color。</strong></span>在弹窗里把它的名字改为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonColorDark，</strong></span>如下所示：<br>
<a target="_blank" href="http://cdn3.raywenderlich.com/wp-content/uploads/2013/11/06_renamecolor.jpg" rel="nofollow"><img title="rename color in PaintCode" alt="rename color in PaintCode" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145515_55m4.jpg" width="597" height="248"></a><br>
同理把<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Stroke Color</strong></span>&nbsp;名字改为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonColorLight。</strong></span><br>
现在回到位于中间的形状属性栏，选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Stroke</strong></span>&nbsp;下来框里的&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>System Colors &gt; Common Colors &gt; BlackColor，</strong></span>如下图所示，把描边颜色改为黑色。<br>
<a target="_blank" href="http://cdn5.raywenderlich.com/wp-content/uploads/2013/11/08_strokecolor.png" rel="nofollow"><img title="add a stroke color in PaintCode" alt="add a stroke color in PaintCode" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145515_IJNF.png" width="508" height="283"></a><br>
Increase the&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Width</strong></span>&nbsp;parameter to&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>2</strong></span>&nbsp;under the&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Stroke</strong></span>&nbsp;sub-section, as so:<br>
<a target="_blank" href="http://cdn2.raywenderlich.com/wp-content/uploads/2013/11/09_strokewidth.png" rel="nofollow"><img title="stroke width in PaintCode" alt="stroke width in PaintCode" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145516_4FlH.png" width="286" height="65"></a><br>
现在，我们要给按钮加一个为发光 ，选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Add New Shadow…</strong></span>&nbsp;在<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Fill</strong></span>的下拉框里选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Outer Shadow</strong></span>,如下所示：<br>
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2013/11/10_addshadow.png" rel="nofollow"><img title="Add new shadow in PaintCode" alt="Add new shadow in PaintCode" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145516_xkcq.png" width="276" height="66"></a><br>
像上面的按钮一样给这个阴影一个好的名字，把它名字改为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>OuterGlow。</strong></span>&nbsp;接下来， 选中&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Color</strong></span>边上的下拉框，然后在颜色选取框里选着白色框，&nbsp;打开边上的那个颜色调整按钮<br>
把阴影偏移和阴影大小调整为下图一样：<br>
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2013/11/11_outerglow.png" rel="nofollow"><img title="Adding a glow in PaintCode" alt="Adding a glow in PaintCode" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145516_ss1B.png" width="299" height="207"></a><br>
切换到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Colors</strong></span>&nbsp;选项卡下面然后把&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Glow</strong></span>&nbsp;改为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>InnerGlowColor。</strong></span><br>
接着，在<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Add New Shadow</strong></span>的下拉框里面给&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Inner Shadow&nbsp;</strong></span>加一个内高光。把这个高光命名为<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Highlight，</strong></span>&nbsp;颜色设置为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>白色</strong></span>，透明度为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>130，</strong></span>&nbsp;然后把<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>offsets</strong></span>&nbsp;和&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>blur radius</strong></span>设置为如下所示：<br>
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2013/11/12_innerhighlight.png" rel="nofollow"><img title="add an inner highlight in PaintCode" alt="" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145516_LaFc.png" width="302" height="209"></a><br>
根据前面的教程。这个颜色的名字可能已经是默认的&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Shadow Color 2</strong></span>&nbsp;，如果不一样，就把它改成这个名字。<br>
现在，我们的按钮应该和下面一样了：<br>
<a target="_blank" href="http://cdn4.raywenderlich.com/wp-content/uploads/2013/11/Final-Button.png" rel="nofollow"><img alt="Final Button" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145517_sLrJ.png" width="700" height="88"></a><br>
到这个时候，我们的按钮已经看起来挺不错的了，但是他的大小是定死了的。要让它可以随意的改变大小，我们需要给他加一个frame。 我们会在代码里改变它的大小，接下来我们会在PaintCode里面设置frame，这样可以让里面的所有东西都是可变大小的。
</p>
<h2>
<a name="t2" rel="nofollow"></a><a name="t2" rel="nofollow"></a>给按钮加Frame
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
在顶部工具栏里选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Frame</strong></span>&nbsp;，然后画一个框包住按钮。把这个frame的属性设置为如下：<br>
<a target="_blank" href="http://cdn5.raywenderlich.com/wp-content/uploads/2013/11/Frame-For-Button.png" rel="nofollow"><img alt="Adding a frame for the button" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145517_4pxJ.png" width="700" height="249"></a><br>
同时选中<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Frame</strong></span>&nbsp;和&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Rounded Rectangle，</strong></span>&nbsp;按下&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Option-Command-G</strong></span>&nbsp;组合键来把它们放在一个group里。 或者， 我们可以选择去按菜单里的&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Selection &gt;</strong></span>&nbsp;Group来达到同样的效果。&nbsp;最后吧这个group米命名为<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Button。</strong></span><br>
我们现在可以看到在左边的边栏最顶上，可能看到button group 和它包括2个元素，如下所示：<br>
<a target="_blank" href="http://cdn5.raywenderlich.com/wp-content/uploads/2013/11/Grouping-Elements-e1369677705824.png" rel="nofollow"><img alt="Grouping elements" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145517_v1yD.png" width="300" height="243"></a><br>
在左边面板里选中&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Rounded Rectangle。</strong></span>&nbsp;找到设置这个形状大小限定的区域 – 它是在坐标设置左边的一个方框， 里面包含了几个杆状，弹簧状的横条。<br>
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2013/11/ResizeWindow.png" rel="nofollow"><img alt="ResizeWindow" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145517_SfqC.png" width="76" height="75"></a><br>
我们现在需要这个按钮能够水平的竖直的去改变大小，同时又能保持水平中心不变。 所以我们就要吧外部的约束设置为直的(固定了大小)， 然后底部应该设置为弹簧条(能够随意的改变大小)。 这样就能让按钮保持在水平中心对齐了。<br>
但是，为了能让按钮能随意的改变大小和frame一样，我们需要吧方框里面的杆都改成弹簧。<br>
我们仅仅需要点一下这些杆，就可以让他们在直杆和弹簧之间切换。<br>
当大家完成了修改约束，样子应该如下所示：<br>
<a target="_blank" href="http://cdn2.raywenderlich.com/wp-content/uploads/2013/11/Button-Constraints-e1369885750980.png" rel="nofollow"><img alt="Button constraints" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145517_4E3Z.png" width="300" height="145"></a><br>
到这里，已经完成了大部分工作了！ 现在我们选中按钮边上的&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Frame，</strong></span>然后随便把这个按钮左右上下拖动试试，它的样子大概如下图：<br>
<a target="_blank" href="http://cdn2.raywenderlich.com/wp-content/uploads/2013/11/Final-Button1.png" rel="nofollow"><img alt="Final button" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145518_0VCZ.png" width="480" height="160"></a><br>
现在PaintCode里的画图这部分的工作已经完成 —我们接下来要开始把它加入xcode里了。
</p>
<h2>
<a name="t3" rel="nofollow"></a><a name="t3" rel="nofollow"></a>加入iOS项目里
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
在完成了我们项目所用到的按钮以后— 当然，我们没有写一行代码！别急，现在卷起袖口准备开始撸代码吧！<br>
我已经为大家准备了一个用开测试这个按钮的起始项目。<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2013/11/PaintCode.zip" rel="nofollow">下载</a>这个起始项目，&nbsp;解压，然后在xcode里打开。看看里面有什么吧。
</p>
<div>
<p style="font-family:inherit;font-size:1em;font-style:inherit;vertical-align:baseline;">
<span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>注意：</strong></span>&nbsp;这个项目里的storyboard是关掉了Autolayout的。并不是每个项目都需要这样，但是在这里，我们更偏向于使用springs和struts约束。
</p>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
这是一个Tabbar 应用，里面包含了3个view controller，他们分别是为这个系列教程每次创建的控件准备的。 在这次的 PaintCode 教程里，我们将会使用&nbsp;ButtonViewController&nbsp;来展示我们的按钮。<br>
在&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Classes &gt; Views</strong></span>下面有一个空文件夹。这次，&nbsp;我们在这里面创建自己的类。我们会继承一个现有的控件，然后去改变他的绘制代码，而不是完全的用一个空UIView来实现。<br>
而在这个教程里，我们继承UIButton。让我们开始吧！
</p>
<h2>
<a name="t4" rel="nofollow"></a><a name="t4" rel="nofollow"></a>创建按钮
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
在&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Classes</strong></span>&nbsp;组下面， 右键&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Views</strong></span>&nbsp;组。选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>NewFile…</strong></span>&nbsp;然后创建一个&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>iOSCocoa TouchObjective-C class</strong></span>模板，把这个类命名为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonView，</strong></span>然后继承自&nbsp;UIButton。<br>
这个类将会使用我们在 PaintCode里创建的绘制代码。<br>
现在我们做一些准备工作， 打开&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonView.m，</strong></span>删除&nbsp;initWithFrame:&nbsp;方法，然后反注释&nbsp;drawRect:。如下所示：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">#import&nbsp;"ButtonView.h"</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@implementation</span><span style="background-color:inherit;">&nbsp;ButtonView&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">-&nbsp;(<span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)drawRect:(CGRect)rect&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">{&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;Drawing&nbsp;code</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;"><a href="http://my.oschina.net/u/567204" class="referer" target="_blank">@end</a> </span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
drawRect:&nbsp;这里就是我们施展魔法的地方 – 这里我们会把PaintCode生成的代码加上。 如果你不熟悉&nbsp;drawRect:甚至不知道它是做什么的，最好先去看看我们的&nbsp;<a target="_blank" href="http://www.raywenderlich.com/32283/core-graphics-tutorial-lines-rectangles-and-gradients" rel="nofollow">Core Graphics 系列教程</a>吧。<br>
回到 PaintCode 然后找到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Code View。</strong></span>如果没有找到， 选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>View &gt; Code</strong></span>&nbsp;来打开这个面板。找到代码生成配置模块：<br>
<a target="_blank" href="http://cdn2.raywenderlich.com/wp-content/uploads/2013/11/PaintCode-Code-Settings.png" rel="nofollow"><img alt="PaintCode code settings" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145518_tH2W.png" width="480" height="31"></a><br>
把平台设置为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>iOS &gt; Objective-C</strong></span>，系统版本设置为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>iOS 5+，</strong></span>&nbsp;默认原点为<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Default Origin，</strong></span>内存管理为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ARC。</strong></span>如果这是你第一次使用 PaintCode — 或者你从来没弄过这些东西 — PaintCode已经帮你做了完好的内存管理了。<br>
复制并且把这些代码从 PaintCode里粘贴到&nbsp;drawRect:里面。这个方法应该和下图一样了：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)drawRect:(CGRect)rect&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">{&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;General&nbsp;Declarations</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGColorSpaceRef&nbsp;colorSpace&nbsp;=&nbsp;CGColorSpaceCreateDeviceRGB();&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGContextRef&nbsp;context&nbsp;=&nbsp;UIGraphicsGetCurrentContext();&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;Color&nbsp;Declarations</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;UIColor*&nbsp;buttonColorDark&nbsp;=&nbsp;[UIColor<span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.439</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.004</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;1</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;UIColor*&nbsp;buttonColorLight&nbsp;=&nbsp;[UIColor<span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;1</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;UIColor*&nbsp;innerGlowColor&nbsp;=&nbsp;[UIColor<span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.502</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;UIColor*&nbsp;shadowColor<span style="background-color:inherit;">2</span><span style="background-color:inherit;">&nbsp;=&nbsp;[UIColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.51</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;Gradient&nbsp;Declarations</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;NSArray*&nbsp;buttonGradientColors&nbsp;=&nbsp;[NSArray<span style="color:#DD0000;background-color:inherit;">&nbsp;arrayWithObjects</span><span style="background-color:inherit;">:&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span style="color:#006699;font-weight:bold;background-color:inherit;">id</span><span style="background-color:inherit;">)buttonColorLight</span><span style="background-color:inherit;">.CGColor</span><span style="background-color:inherit;">,&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span style="color:#006699;font-weight:bold;background-color:inherit;">id</span><span style="background-color:inherit;">)buttonColorDark</span><span style="background-color:inherit;">.CGColor</span><span style="background-color:inherit;">,</span><span style="color:#006699;font-weight:bold;background-color:inherit;">&nbsp;nil</span><span style="color:#DD0000;background-color:inherit;">&nbsp;nil</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGFloat&nbsp;buttonGradientLocations[]&nbsp;=&nbsp;{<span style="background-color:inherit;">0</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">};&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGGradientRef&nbsp;buttonGradient&nbsp;=&nbsp;CGGradientCreateWithColors(colorSpace,&nbsp;(__bridge&nbsp;CFArrayRef)buttonGradientColors,&nbsp;buttonGradientLocations);&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;Shadow&nbsp;Declarations</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;UIColor*&nbsp;outerGlow&nbsp;=&nbsp;innerGlowColor;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGSize&nbsp;outerGlowOffset&nbsp;=&nbsp;CGSizeMake(<span style="background-color:inherit;">0</span><span style="background-color:inherit;">.1</span><span style="background-color:inherit;">,&nbsp;-</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.1</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGFloat&nbsp;outerGlowBlurRadius&nbsp;=&nbsp;<span style="background-color:inherit;">3</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;UIColor*&nbsp;highlight&nbsp;=&nbsp;shadowColor<span style="background-color:inherit;">2</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGSize&nbsp;highlightOffset&nbsp;=&nbsp;CGSizeMake(<span style="background-color:inherit;">0</span><span style="background-color:inherit;">.1</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">.1</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGFloat&nbsp;highlightBlurRadius&nbsp;=&nbsp;<span style="background-color:inherit;">2</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;Frames</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGRect&nbsp;frame&nbsp;=&nbsp;CGRectMake(<span style="background-color:inherit;">0</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">4</span><span style="background-color:inherit;">8</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">4</span><span style="background-color:inherit;">9</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;Button</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;Rounded&nbsp;Rectangle&nbsp;Drawing</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGRect&nbsp;roundedRectangleRect&nbsp;=&nbsp;CGRectMake(CGRectGetMinX(frame)&nbsp;+&nbsp;<span style="background-color:inherit;">4</span><span style="background-color:inherit;">,&nbsp;CGRectGetMinY(frame)&nbsp;+&nbsp;</span><span style="background-color:inherit;">4</span><span style="background-color:inherit;">,&nbsp;CGRectGetWidth(frame)&nbsp;-&nbsp;</span><span style="background-color:inherit;">7</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">4</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UIBezierPath*&nbsp;roundedRectanglePath&nbsp;=&nbsp;[UIBezierPath<span style="color:#DD0000;background-color:inherit;">&nbsp;bezierPathWithRoundedRect</span><span style="background-color:inherit;">:&nbsp;roundedRectangleRect</span><span style="color:#DD0000;background-color:inherit;">&nbsp;cornerRadius</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;6</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextSaveGState(context);&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextSetShadowWithColor(context,&nbsp;outerGlowOffset,&nbsp;outerGlowBlurRadius,&nbsp;outerGlow<span style="background-color:inherit;">.CGColor</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextBeginTransparencyLayer(context,&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">NULL</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[roundedRectanglePath<span style="color:#DD0000;background-color:inherit;">&nbsp;addClip</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextDrawLinearGradient(context,&nbsp;buttonGradient,&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGPointMake(CGRectGetMidX(roundedRectangleRect),&nbsp;CGRectGetMinY(roundedRectangleRect)),&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGPointMake(CGRectGetMidX(roundedRectangleRect),&nbsp;CGRectGetMaxY(roundedRectangleRect)),&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color:inherit;">0</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextEndTransparencyLayer(context);&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//////&nbsp;Rounded&nbsp;Rectangle&nbsp;Inner&nbsp;Shadow</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGRect&nbsp;roundedRectangleBorderRect&nbsp;=&nbsp;CGRectInset([roundedRectanglePath<span style="color:#DD0000;background-color:inherit;">&nbsp;bounds</span><span style="background-color:inherit;">],&nbsp;-highlightBlurRadius,&nbsp;-highlightBlurRadius);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;roundedRectangleBorderRect&nbsp;=&nbsp;CGRectOffset(roundedRectangleBorderRect,&nbsp;-highlightOffset<span style="background-color:inherit;">.width</span><span style="background-color:inherit;">,&nbsp;-highlightOffset</span><span style="background-color:inherit;">.height</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;roundedRectangleBorderRect&nbsp;=&nbsp;CGRectInset(CGRectUnion(roundedRectangleBorderRect,&nbsp;[roundedRectanglePath<span style="color:#DD0000;background-color:inherit;">&nbsp;bounds</span><span style="background-color:inherit;">]),&nbsp;-</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">,&nbsp;-</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UIBezierPath*&nbsp;roundedRectangleNegativePath&nbsp;=&nbsp;[UIBezierPath<span style="color:#DD0000;background-color:inherit;">&nbsp;bezierPathWithRect</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;roundedRectangleBorderRect</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[roundedRectangleNegativePath<span style="color:#DD0000;background-color:inherit;">&nbsp;appendPath</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;roundedRectanglePath</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;roundedRectangleNegativePath<span style="background-color:inherit;">.usesEvenOddFillRule</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">YES</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextSaveGState(context);&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGFloat&nbsp;xOffset&nbsp;=&nbsp;highlightOffset<span style="background-color:inherit;">.width</span><span style="background-color:inherit;">&nbsp;+&nbsp;round(roundedRectangleBorderRect</span><span style="background-color:inherit;">.size</span><span style="background-color:inherit;">.width</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGFloat&nbsp;yOffset&nbsp;=&nbsp;highlightOffset<span style="background-color:inherit;">.height</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextSetShadowWithColor(context,&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGSizeMake(xOffset&nbsp;+&nbsp;copysign(<span style="background-color:inherit;">0</span><span style="background-color:inherit;">.1</span><span style="background-color:inherit;">,&nbsp;xOffset),&nbsp;yOffset&nbsp;+&nbsp;copysign(</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.1</span><span style="background-color:inherit;">,&nbsp;yOffset)),&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;highlightBlurRadius,&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;highlight<span style="background-color:inherit;">.CGColor</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[roundedRectanglePath<span style="color:#DD0000;background-color:inherit;">&nbsp;addClip</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGAffineTransform&nbsp;transform&nbsp;=&nbsp;CGAffineTransformMakeTranslation(-round(roundedRectangleBorderRect<span style="background-color:inherit;">.size</span><span style="background-color:inherit;">.width</span><span style="background-color:inherit;">),&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[roundedRectangleNegativePath<span style="color:#DD0000;background-color:inherit;">&nbsp;applyTransform</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;transform</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[UIColor<span style="color:#DD0000;background-color:inherit;">&nbsp;grayColor</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setFill</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[roundedRectangleNegativePath<span style="color:#DD0000;background-color:inherit;">&nbsp;fill</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextRestoreGState(context);&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextRestoreGState(context);&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[UIColor<span style="color:#DD0000;background-color:inherit;">&nbsp;blackColor</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setStroke</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;roundedRectanglePath<span style="background-color:inherit;">.lineWidth</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[roundedRectanglePath<span style="color:#DD0000;background-color:inherit;">&nbsp;stroke</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;Cleanup</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGGradientRelease(buttonGradient);&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGColorSpaceRelease(colorSpace);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
如果大家仔细的浏览了代码，会发现它是用Core Graphics来绘制的。 或多或少的方法大家可能都没见过，但是它们并不难于去理解。 并且，这也是我们使用 PaintCode 的原因之一；为了省掉学习 Core Graphics并且花更少的时间去在那里慢慢的调试绘制代码！ :]
</p>
<div>
<p style="font-family:inherit;font-size:1em;font-style:inherit;vertical-align:baseline;">
<span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>注意：</strong></span>&nbsp;大家暂时不用去太担心&nbsp;drawRect:&nbsp;里面代码的缩进和语法。我们等会儿会再回来，并且做一些修改 ，包括把语法改为 moden Objective-C。
</p>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
现在该来测试我们的按钮了。<br>
在 Project Navigator 找到我们的storyboard 然后选中&nbsp;ButtonViewController。在Object<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>&nbsp;Library</strong></span>里拖出来一个<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>View</strong></span>&nbsp;然后把它的&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>X</strong></span>&nbsp;和&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Y坐标为</strong></span>&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>20，</strong></span>&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>35</strong></span>。然后， 把它的&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Width</strong></span>&nbsp;和&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Height</strong></span>&nbsp;设置为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>280，</strong></span><span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>41。</strong></span><br>
最后， 把它的&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Autosizing</strong></span>&nbsp;设置 修改为只能水平扩张，如下所示：<br>
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2013/11/Button-View-Autosizing-e1369884863217.png" rel="nofollow"><img alt="Button view autosizing" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145518_3WKz.png" width="280" height="290"></a><br>
切换到Identity<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>&nbsp;Inspector</strong></span>&nbsp;然后把它的类名设置为&nbsp;ButtonView。
</p>
<div>
<p style="font-family:inherit;font-size:1em;font-style:inherit;vertical-align:baseline;">
<span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>注意：</strong></span>大家可能有疑问为什么在storyboard里面是一个&nbsp;UIView&nbsp;， 但是&nbsp;ButtonView又继承与UIButton。&nbsp;原因很简单&nbsp;UIButton&nbsp;它继承于&nbsp;UIView因此一个按钮任然是一个&nbsp;view。
</p>
<p style="font-family:inherit;font-size:1em;font-style:inherit;vertical-align:baseline;">
在这次 PaintCode 教程的后部分 ，我们会让它和真正的按钮一样起作用。毕竟 —他继承了UIButton。
</p>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
<a target="_blank" href="http://cdn2.raywenderlich.com/wp-content/uploads/2013/11/Subclass-Watch-Out.png" rel="nofollow"><img alt="Subclass watch out" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145518_Gqdc.png" width="423" height="320"></a><br>
是时候检测我们漂亮的新按钮了！<br>
点击&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Run</strong></span>&nbsp;看看我们的按钮什么样的吧：<br>
<a target="_blank" href="http://cdn5.raywenderlich.com/wp-content/uploads/2013/11/First-Button-Test.png" rel="nofollow"><img alt="First button test" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145519_CCL7.png" width="213" height="320"></a><br>
额…按钮貌似被砍掉了一块，怎么回事儿？<br>
现在找到<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonView.m</strong></span>里的&nbsp;drawRect:：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)drawRect:(CGRect)rect&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">{&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;Frames</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGRect&nbsp;frame&nbsp;=&nbsp;CGRectMake(<span style="background-color:inherit;">0</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">4</span><span style="background-color:inherit;">8</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">4</span><span style="background-color:inherit;">9</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
原来！！！！这个按钮的frame是定死了的。我们想要的是一个可以动态改变大小的按钮 — 并且能够适应我们给它设置的大小。<br>
这个问题很简单，修改设置&nbsp;frame的那行代码为如下：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)drawRect:(CGRect)rect&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">{&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;Frames</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGRect&nbsp;frame&nbsp;=&nbsp;rect;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
上面那段代码是把view的frame设置为绘制的frame的大小。<br>
点击Run，让我们再来一发！<br>
<a target="_blank" href="http://cdn3.raywenderlich.com/wp-content/uploads/2013/11/First-Button-Test-Fixed.png" rel="nofollow"><img alt="First button test fixed" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145519_ikcn.png" width="213" height="320"></a><br>
耶！按钮的绘制终于和我们想要的一样了。旋转模拟器(或者设备) 我们会看到按钮和我们期望的一样保持水平位置，改变着宽。<br>
我们已经完成了大部分了 — 但是我们怎让才能让它变得更动态呢？
</p>
<h2>
<a name="t5" rel="nofollow"></a><a name="t5" rel="nofollow"></a>动态的设置按钮属性
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
动态的控制按钮大小是挺不错的 —但是现在，我们要做一件更神奇的事情；在&nbsp;ButtonViewController&nbsp;里面加一些滑动条来控制按钮的RGB值。<br>
回到storyboard，拖3个Slider 并且把它们放在按钮下面。 在&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Size Inspector</strong></span>里面，&nbsp;把3个slider的&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Autosizing</strong></span>widget 设置为如下所示：<br>
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2013/11/Slider-Autosizing-e1369887059877.png" rel="nofollow"><img alt="Slider Autosizing" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145519_CVMz.png" width="300" height="123"></a><br>
大家还可以把按钮往下移一点，然后放一个label 写着&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>“Tap Me”</strong></span>，这样的话可以让你的用户知道按钮是可以点击的。Storyboard应该如下图一样的：<br>
<a target="_blank" href="http://cdn5.raywenderlich.com/wp-content/uploads/2013/11/Scene-With-Sliders.png" rel="nofollow"><img alt="Scene with sliders" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145520_38Mg.png" width="282" height="500"></a><br>
找到Attributes<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>&nbsp;Inspector，</strong></span>把slider的&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Min Track Tint</strong></span>&nbsp;的颜色设置为如下的RGB值：
</p>
<ul>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Top slider:</strong></span>&nbsp;R:255 G:0 B:0
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Middle slider:</strong></span>&nbsp;R:0 G:255 B:0
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Bottom slider:</strong></span>&nbsp;R:0 G:0 B:255
</li>
</ul>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
我们的slider应该和下面的差不多了：<br>
<a target="_blank" href="http://cdn4.raywenderlich.com/wp-content/uploads/2013/11/Slider-Colors.png" rel="nofollow"><img alt="Slider colors" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145520_SM8T.png" width="281" height="500"></a>
</p>
<div>
<p style="font-family:inherit;font-size:1em;font-style:inherit;vertical-align:baseline;">
<span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>注意:</strong></span>&nbsp;有的时候slider的背景色也会随着Min Tint color 的改变而改变。这是一个xcode的bug，我们可以直接吧slider的背景色设置为默认的。
</p>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
然后找到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonViewController.m，</strong></span>在顶部加入下面的代码：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">#import&nbsp;"ButtonView.h"</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;"><a href="http://my.oschina.net/u/996807" class="referer" target="_blank">@interface</a> </span><span style="background-color:inherit;">&nbsp;ButtonViewController&nbsp;()&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@property</span><span style="background-color:inherit;">&nbsp;(weak,&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">nonatomic</span><span style="background-color:inherit;">)&nbsp;IBOutlet&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">UISlider</span><span style="background-color:inherit;">&nbsp;*blueSlider;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@property</span><span style="background-color:inherit;">&nbsp;(weak,&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">nonatomic</span><span style="background-color:inherit;">)&nbsp;IBOutlet&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">ButtonView</span><span style="background-color:inherit;">&nbsp;*buttonView;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@property</span><span style="background-color:inherit;">&nbsp;(weak,&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">nonatomic</span><span style="background-color:inherit;">)&nbsp;IBOutlet&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">UISlider</span><span style="background-color:inherit;">&nbsp;*greenSlider;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@property</span><span style="background-color:inherit;">&nbsp;(weak,&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">nonatomic</span><span style="background-color:inherit;">)&nbsp;IBOutlet&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">UISlider</span><span style="background-color:inherit;">&nbsp;*redSlider;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@end</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
把&nbsp;buttonView&nbsp;连接到我们设置的那个&nbsp;UIView&nbsp;上，然后把3个&nbsp;UISlider&nbsp;和storyboard里面各自对应的连接上。如果大家还不知道怎么连接view和outlet，可以去看看我们的&nbsp;<a target="_blank" href="http://www.raywenderlich.com/zh-hans/18166/ios%ef%bc%95%e7%a4%ba%e8%8c%83%e7%a8%8b%e5%ba%8f%e6%95%99%e7%a8%8b%ef%bc%88%e7%ac%ac%e4%b8%80%e9%83%a8%ef%bc%89x" rel="nofollow">How To Create a Simple iPhone App</a>&nbsp;系列教程。<br>
为了能让按钮的颜色随着slider的拖动而改变， 我们的&nbsp;ButtonView&nbsp;需要随着slider 去更新。<br>
找到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonView.h</strong></span>&nbsp;然后把下面3行加入 @interface 和 @end 之间：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@property</span><span style="background-color:inherit;">&nbsp;(assign,&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">nonatomic</span><span style="background-color:inherit;">)&nbsp;CGFloat&nbsp;blueColor;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@property</span><span style="background-color:inherit;">&nbsp;(assign,&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">nonatomic</span><span style="background-color:inherit;">)&nbsp;CGFloat&nbsp;greenColor;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@property</span><span style="background-color:inherit;">&nbsp;(assign,&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">nonatomic</span><span style="background-color:inherit;">)&nbsp;CGFloat&nbsp;redColor;&nbsp;&nbsp;</span></span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
这些是储存按钮RGB值的变量。<br>
然后切换到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonView.m</strong></span>&nbsp;，找到&nbsp;drawRect:。我们会注意到这段&nbsp;Gradient Declarations&nbsp;用的是旧的NSArray代码。为了保持良好的代码风格，把&nbsp;Gradient Declarations&nbsp;那行替换成如下：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">NSArray</span><span style="background-color:inherit;">&nbsp;*buttonGradientColors&nbsp;=&nbsp;@[(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">id</span><span style="background-color:inherit;">)buttonColorLight</span><span style="background-color:inherit;">.CGColor</span><span style="background-color:inherit;">,&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">id</span><span style="background-color:inherit;">)buttonColorDark</span><span style="background-color:inherit;">.CGColor</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
然后，把所有带 “Color Declarations” 注释的代码替换成如下：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)drawRect:(CGRect)rect&nbsp;{&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;1</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">UIColor</span><span style="background-color:inherit;">&nbsp;*buttonColorLight&nbsp;=&nbsp;[UIColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.redColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.greenColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.blueColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;1</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;2</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.state</span><span style="background-color:inherit;">&nbsp;==&nbsp;UIControlStateHighlighted)&nbsp;{&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buttonColorLight&nbsp;=&nbsp;[UIColor<span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.redColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.greenColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.blueColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.5</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;3</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGFloat&nbsp;buttonColorLightRGBA[<span style="background-color:inherit;">4</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[buttonColorLight<span style="color:#DD0000;background-color:inherit;">&nbsp;getRed</span><span style="background-color:inherit;">:&amp;buttonColorLightRGBA[</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">]&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:&amp;buttonColorLightRGBA[</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">]&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:&amp;buttonColorLightRGBA[</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">]&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:&amp;buttonColorLightRGBA[</span><span style="background-color:inherit;">3</span><span style="background-color:inherit;">]];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;4</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">UIColor</span><span style="background-color:inherit;">&nbsp;*buttonColorDark&nbsp;=&nbsp;[UIColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:(buttonColorLightRGBA[</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">]&nbsp;*&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.5</span><span style="background-color:inherit;">)&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:(buttonColorLightRGBA[</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">]&nbsp;*&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.5</span><span style="background-color:inherit;">)&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:(buttonColorLightRGBA[</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">]&nbsp;*&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.5</span><span style="background-color:inherit;">)&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:(buttonColorLightRGBA[</span><span style="background-color:inherit;">3</span><span style="background-color:inherit;">]&nbsp;*&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.5</span><span style="background-color:inherit;">&nbsp;+&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.5</span><span style="background-color:inherit;">)];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;5</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">UIColor</span><span style="background-color:inherit;">&nbsp;*innerGlowColor&nbsp;=&nbsp;[UIColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.53</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">UIColor</span><span style="background-color:inherit;">&nbsp;*shadowColor</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">&nbsp;=&nbsp;[UIColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:</span><span style="background-color:inherit;">1</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.51</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
我们在这里具体做了：
</p>
<ol>
<li>
申明一个局部&nbsp;UIColor&nbsp;变量作为按钮的浅色 (记住，我们在渐变编辑器里设置的那个)，但是现在我们使用的是来自slider的RGB值。
</li>
<li>
如果用户安下了按钮，把按钮的颜色的alpha降低50%， 这时候按钮的状态是&nbsp;UIControlStateHighlighted。这能在按下按钮时提供用户一些视觉上的反馈。
</li>
<li>
把按钮的rgb值储存到一个CGFloat的数组里。
</li>
<li>
基于浅色创建按钮的深色 (记住，我们在渐变编辑器里设置的那个) 。
</li>
<li>
基于一些固定值创建内发光和阴影。
</li>
</ol>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
在这里我们最好给按钮一个初始颜色。 因为我们用的是Storyboard，所以我们需要重载&nbsp;initWithCoder:&nbsp;(在<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonView.m</strong></span>) 来实现：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">id</span><span style="background-color:inherit;">)initWithCoder:(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">NSCoder</span><span style="background-color:inherit;">&nbsp;*)coder&nbsp;{&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">&nbsp;=&nbsp;[</span><span style="color:#006699;font-weight:bold;background-color:inherit;">super</span><span style="color:#DD0000;background-color:inherit;">&nbsp;initWithCoder</span><span style="background-color:inherit;">:coder])&nbsp;{&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.redColor</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">.0f</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.greenColor</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.0f</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.blueColor</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.0f</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.contentMode</span><span style="background-color:inherit;">&nbsp;=&nbsp;UIViewContentModeRedraw;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">return</span><span style="background-color:inherit;">&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
<span style="color:#110000;">这个设置把view的内容模式设置为了&nbsp;</span>UIViewContentModeRedraw，并且让按钮初始的时候是红色的。
</p>
<div>
<p style="font-family:inherit;font-size:1em;font-style:inherit;vertical-align:baseline;">
<span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>注意：</strong></span>&nbsp;如果大家好奇为什么重载&nbsp;initWithCoder:&nbsp;而不是&nbsp;initWithFrame:，&nbsp;这是因为initWithFrame:是用来在代码里手动生成view的， 然而&nbsp;initWithCoder:&nbsp;是用来初始化一个从Nib或者Storyboard里面生成的view的。
</p>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
在我们开始测试之前，还有最后一件事做。找到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonViewController.m</strong></span>&nbsp;然后吧&nbsp;viewDidLoad&nbsp;替换成如下：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)viewDidLoad&nbsp;{&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">super</span><span style="color:#DD0000;background-color:inherit;">&nbsp;viewDidLoad</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.redSlider</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setValue</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.buttonView</span><span style="background-color:inherit;">.redColor</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.greenSlider</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setValue</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.buttonView</span><span style="background-color:inherit;">.greenColor</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.blueSlider</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setValue</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.buttonView</span><span style="background-color:inherit;">.blueColor</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
上面的代码把每个slider的颜色设置为按钮各个RGB通道的值。<br>
编译运行， 试试滑动这些slider，如下所示：<br>
<a target="_blank" href="http://cdn3.raywenderlich.com/wp-content/uploads/2013/11/Testing-The-Sliders.png" rel="nofollow"><img alt="Testing the sliders" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145521_YIOs.png" width="213" height="320"></a><br>
等下！！为什么没有反应！<br>
我们确实连接了slider， 但是现在在&nbsp;ButtonViewController&nbsp;没有任何方法去响应slider值的改变。我们需要加一些&nbsp;IBAction&nbsp;代码来处理这些值。
</p>
<h2>
<a name="t6" rel="nofollow"></a><a name="t6" rel="nofollow"></a>响应事件
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
响应按钮和slider的事件其实很简单。<br>
在<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonViewController.m</strong></span>里加入如下代码：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-(IBAction)sliderValueChanged:(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">UISlider</span><span style="background-color:inherit;">&nbsp;*)slider&nbsp;{&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;(slider&nbsp;==&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.redSlider</span><span style="background-color:inherit;">)&nbsp;{&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.buttonView</span><span style="background-color:inherit;">.redColor</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.redSlider</span><span style="background-color:inherit;">.value</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">else</span><span style="background-color:inherit;">&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;(slider&nbsp;==&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.greenSlider</span><span style="background-color:inherit;">)&nbsp;{&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.buttonView</span><span style="background-color:inherit;">.greenColor</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.greenSlider</span><span style="background-color:inherit;">.value</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">else</span><span style="background-color:inherit;">&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;(slider&nbsp;==&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.blueSlider</span><span style="background-color:inherit;">)&nbsp;{&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.buttonView</span><span style="background-color:inherit;">.blueColor</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.blueSlider</span><span style="background-color:inherit;">.value</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.buttonView</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setNeedsDisplay</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
上面的能收到一个值改变了的slider的指针。 我们通过和属性里声明的slider比较来确定具体修改哪个slider的值。<br>
我们可以注意到，在代码的最后我们调用了setNeedsDisplay&nbsp;来让按钮能够更新到最新的颜色。<br>
现在回到Storyboard， 依次把slider的&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Value Changed</strong></span>&nbsp;event 和ButtonViewController里的&nbsp;sliderValueChanged:&nbsp;连接起来，如下所示：<br>
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2013/11/Connecting-The-Sliders.png" rel="nofollow"><img alt="Connecting the sliders" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145521_WqTe.png" width="570" height="500"></a><br>
Build and run your project again, and try once more to move the sliders around to change the button’s color, as below:<br>
<a target="_blank" href="http://cdn5.raywenderlich.com/wp-content/uploads/2013/11/Working-Sliders.png" rel="nofollow"><img alt="Working sliders" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145522_M49G.png" width="213" height="320"></a><br>
叼炫酷！现在我们的按钮，不经能任意改变大小！还能随便的改变颜色了！<br>
现在我们来试试按钮按下有啥反应。<br>
额~~~ 啥都没发生！ 按钮并没有高亮来表示按下，也没有任何提示你的信用卡刚被划掉了99.99$. (开个玩笑！ :])<br>
我们还没有给按钮连接事件 — 接下来我们就开始吧！
</p>
<h2>
<a name="t7" rel="nofollow"></a><a name="t7" rel="nofollow"></a>最后的点击
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
回到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonView.m</strong></span>&nbsp;然后加入下面的方法：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)setEnabled:(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">BOOL</span><span style="background-color:inherit;">)enabled&nbsp;{&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">super</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setEnabled</span><span style="background-color:inherit;">:enabled];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setNeedsDisplay</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">-(<span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)setHighlighted:(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">BOOL</span><span style="background-color:inherit;">)value&nbsp;{&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">super</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setHighlighted</span><span style="background-color:inherit;">:value];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setNeedsDisplay</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">-(<span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)setSelected:(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">BOOL</span><span style="background-color:inherit;">)value&nbsp;{&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">super</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setSelected</span><span style="background-color:inherit;">:value];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setNeedsDisplay</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
上面的代码是让按钮在 enabled 和 disabled，selected 和 unselected，highlighted 或者 unhighlighted&nbsp;的时候能够重新绘制一次。 这是为了让我们能看到具体的改变，当我们按下按钮时候。<br>
接着，把下面的代码加进<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ButtonViewController.m：</strong></span>
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821683#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-(IBAction)buttonTapped:(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">UIButton</span><span style="background-color:inherit;">&nbsp;*)button&nbsp;{&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">ButtonView</span><span style="background-color:inherit;">&nbsp;*buttonView&nbsp;=&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">ButtonView</span><span style="background-color:inherit;">&nbsp;*)button;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">NSString</span><span style="background-color:inherit;">&nbsp;*messageString&nbsp;=&nbsp;[NSString</span><span style="color:#DD0000;background-color:inherit;">&nbsp;stringWithFormat</span><span style="background-color:inherit;">:</span><span style="color:blue;background-color:inherit;">@"Red:&nbsp;%fnGreen:&nbsp;%fnBlue:&nbsp;%fn&nbsp;Alpha:&nbsp;%f"</span><span style="background-color:inherit;">,&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buttonView<span style="background-color:inherit;">.redColor</span><span style="background-color:inherit;">,&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buttonView<span style="background-color:inherit;">.greenColor</span><span style="background-color:inherit;">,&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buttonView<span style="background-color:inherit;">.blueColor</span><span style="background-color:inherit;">,&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buttonView<span style="background-color:inherit;">.alpha</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">UIAlertView</span><span style="background-color:inherit;">&nbsp;*alertView&nbsp;=&nbsp;[[UIAlertView</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alloc</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;initWithTitle</span><span style="background-color:inherit;">:</span><span style="color:blue;background-color:inherit;">@"Button&nbsp;Colors"</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;message</span><span style="background-color:inherit;">:messageString&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;delegate</span><span style="color:#006699;font-weight:bold;background-color:inherit;">:nil</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;cancelButtonTitle</span><span style="background-color:inherit;">:</span><span style="color:blue;background-color:inherit;">@"Dismiss"</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;otherButtonTitles</span><span style="color:#006699;font-weight:bold;background-color:inherit;">:nil</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[alertView<span style="color:#DD0000;background-color:inherit;">&nbsp;show</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
这个方法的作用是在按钮按下以后，弹出一个提醒框，显示当前的RGB和Alpha值。<br>
在Storyboard里，把&nbsp;Touch Up Inside&nbsp;和这个方法联系在一起。<br>
最后在运行一次程序，按下按钮看看结果吧！ 应该出现和下面一样的画面：<br>
<a target="_blank" href="http://cdn4.raywenderlich.com/wp-content/uploads/2013/11/Final-Project.png" rel="nofollow"><img alt="Final project" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14145522_84ZW.png" width="480" height="320"></a><br>
太棒了！ -一切都正常工作。
</p>
<h2>
<a name="t8" rel="nofollow"></a><a name="t8" rel="nofollow"></a>何去何从？
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
大家可以<a target="_blank" href="http://cdn3.raywenderlich.com/wp-content/uploads/2013/11/PaintCode-Part-1-Final.zip" rel="nofollow">在这里下载</a>所需的PaintCode文件，和相关的Xcode项目。<br>
恭喜大家现在已经掌握了大部分的PaintCode功能了。它能极大的缩短设计app调试UI的时间。<br>
这个系列教程还剩下2部分；第二部分是教大家如何去创建一个自定义进度条，第三部分是使用贝塞尔曲线绘制箭头。<br>
现在，我们还可以再给这个项目增加一下功能让锦上添花：
</p>
<ul>
<li>
自己慢慢的熟悉 PaintCode 的其他功能和特性。
</li>
<li>
增加字符串，阴影，以及更多的其他特效。
</li>
<li>
重写ButtonView里的&nbsp;initWithFrame:&nbsp;，这样能让你使用代码生成动态按钮。
</li>
<li>
给&nbsp;ButtonView&nbsp;创建自己的初始化方法，让我们能初始按钮的颜色参数。
</li>
</ul>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
希望大家能喜欢这个 PaintCode 教程，并且希望大家能继续关注我们接下来的2部。接下来的加成将会越来越深入，并且会有一点的难度 — 但是我知道这对大家来说是小菜一碟。
</p>
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;">
<br>
</p>
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;">
http://www.raywenderlich.com/36341/paintcode-tutorial-dynamic-buttons
</p>
    		    	</div>
						<div class="bottom">
			发布于 4小时前，
						阅读(0) | 评论(0) |  投票(0) | 收藏(0) 
    		<a href="http://my.oschina.net/u/1244672/blog/602364" class="fullcontent">阅读全文...</a>
    	</div>
		      </li>
          <li class="Blog" id="blog_602345">      
		<div class="BlogTitle">
    		<div class="title">
            	<h2>
					<span class="icon" style="background:#44ac57;" title="原创博客">原</span>																									<a href="http://my.oschina.net/u/1244672/blog/602345">PaintCode 教程2：自定义进度条</a></h2>        		<div class="outline">
            	  <span class="catalog">
										分类: 
						<a href="http://my.oschina.net/u/1244672/blog?catalog=3461964">paint_code</a>										  </span>		  
        		              	              	</div>
    		</div>		
		</div>
        <span class="date"><em>14</em>2016-01</span>
    	    	<div class="BlogContent" id="blog_content_602345">
    		    		<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
<a target="_blank" href="http://paintcodeapp.com/" rel="nofollow">PaintCode</a>&nbsp;是一个能够让你像Photoshop一样去设计你的用户界面的软件 – 但是它并不是仅仅保存一张图片当作资源让你来使用，它能够为你生成 CoreGraphic 源码直接使用到View的绘制中.<br>
在这个系列的<a target="_blank" href="http://www.raywenderlich.com/36341/paintcode-tutorial-dynamic-buttons" rel="nofollow">第一部分</a>教程中，&nbsp;我们已经告诉大家如何去用PaintCode去创造可以随时改变大小，随时改变颜色的自定义按钮.<br>
这次的教程将会教大家如何使用PaintCode去创造设计一个属于自己的进度条，并且将它集成到代码里.<br>
对于看了第一部分教程读者的来说这篇教程会相对更容易一些。当然，如果没有看过，并不要紧，因为这边教程仍然能够详细的带大家一步一步熟悉PaintCode。第一步一定是安装PaintCode，然后下载这个我已经为大家准备好了的<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2014/03/PaintCode-Part-2-Starter1.zip" rel="nofollow">初始项目</a>.<br>
话不多说，现在就打开PaintCode开始学习如何创建新的UI控件吧！
</p>
<h2>
<a name="t0" rel="nofollow"></a><a name="t0" rel="nofollow"></a>踏出第一步
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
在PaintCode中创建一个新的文件, 点击&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>FileRename…</strong></span>，将它命名为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>DynamicProgressIndicator</strong></span>, 然后确定.<br>
在这个教程中，我们做得控件并不是retina显示的。 任何时候如果你需要生成一个retina显示的控件, 在PaintCode窗口的右下角，先点击<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Retina</strong></span>&nbsp;按钮, 然后点击&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Canvas</strong></span>&nbsp;按钮就可以了。<br>
如果你打开实时的代码输出panel, 这些按钮将会在窗口最下面这个panel的顶端, 如下图所示:<br>
<a target="_blank" href="http://cdn4.raywenderlich.com/wp-content/uploads/2014/03/010_buttons.png" rel="nofollow"><img title="PaintCode canvas" alt="PaintCode canvas" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143618_Egyu.png" width="700" height="381"></a><br>
接下来，为了让canvas更加适合我们的进度条，我们将canvas稍微的调小一点, 然后把它的背景色换成一个暗一点的颜色，这样可以让看你空间看起来更舒适.<br>
具体步骤是： 点击&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Canvas</strong></span>&nbsp;按钮， 把 canvas 从&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>320</strong></span>&nbsp;pixels调整到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>70</strong></span>&nbsp;pixels.然后把<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Underlay color</strong></span>&nbsp;调整成如下图一样的灰色. 如果你想要设置成特定的颜色值, 使用&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>R</strong></span>=45,&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>G</strong></span>=45,&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>B</strong></span>=45,&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>A</strong></span>=255.<br>
<a target="_blank" href="http://cdn2.raywenderlich.com/wp-content/uploads/2014/03/Canvas-Color-Change.png" rel="nofollow"><img alt="Canvas color change" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143619_2uQa.png" width="350" height="320"></a><br>
在canvas 一切就绪之后, 我们可以开始着手为进度条创建基本的 shapes, gradients, 和 colors.<br>
在工具栏选择<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Round Rect</strong></span>&nbsp;工具，然后画一个圆角的长方形在canvas上做为我们控件的外边框. 完成之后选中画好的外边框, 设置这个 shape’s 的属性为如下：
</p>
<ul>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>X</strong></span>&nbsp;: 2
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Y</strong></span>&nbsp;: 1
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Width</strong></span>&nbsp;: 316
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Height</strong></span>&nbsp;: 34
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Radius</strong></span>&nbsp;: 4
</li>
</ul>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
你的 shape 属性栏应该和下图一样:<br>
<a target="_blank" href="http://cdn5.raywenderlich.com/wp-content/uploads/2014/03/Border-Rounded-Rectangle.png" rel="nofollow"><img alt="Border rounded rectangle" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143620_eOFx.png" width="700" height="148"></a><br>
保持外边框继续选中着, 在左边栏里找到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Stroke</strong></span>&nbsp;设置, 然后把它设置为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>No Stroke</strong></span>. 同样的, 找到并点击&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Fill&nbsp;</strong></span>设置, 选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Add New Gradient…</strong></span>, 然后点击渐变编辑框左下角的那个颜色选取点. 点击右下角的颜色选取按钮，把 RGB 值设置为 to&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>82 82 82</strong></span>.然后在点击渐变编辑框右下角那个颜色选取点，并且把他的 RGB 值设置为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>106 106 106</strong></span>. 最后将这个 gradient 命名为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Outer Rect Gradient</strong></span>.<br>
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2014/03/RenamingGradient.png" rel="nofollow"><img alt="Renaming the gradienet" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143621_n6VL.png" width="480" height="163"></a>
</p>
<div>
<p style="font-family:inherit;font-size:1em;font-style:inherit;vertical-align:baseline;">
<span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>注意:</strong></span>&nbsp;如果以后需要修改PaintCode里的 gradients, colors, 或者 shadows, 大家可以再左边栏下面的 panel 里点击对应的名字的 tab 去修改已命名的属性. 双击需要修改的属性的名字，然后在弹出的dialog里做修改就好了.
</p>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
现在我们先关掉dialog, 在外边框的属性栏里找到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Outer Shadow</strong></span>&nbsp;section. 然后添加一个RGB 值是&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>51 51 51 的</strong></span>&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Outer Shadow</strong></span>. 然后把它命名为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>DarkShadow</strong></span>, 如下图所示:<br>
<a target="_blank" href="http://cdn5.raywenderlich.com/wp-content/uploads/2014/03/04_outershadow.png" rel="nofollow"><img title="PaintCode outer shadow" alt="PaintCode outer shadow" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143621_R8zq.png" width="307" height="211"></a><br>
接着, 我们继续加一个浅色的RGB 值为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>171 171 171的</strong></span>&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Inner Shadow</strong></span>. 命名&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>LightShadow</strong></span>,如下图所示:<br>
<a target="_blank" href="http://cdn5.raywenderlich.com/wp-content/uploads/2014/03/05_innershadow.png" rel="nofollow"><img title="PaintCode inner shadow" alt="PaintCode inner shadow" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143622_gXYW.png" width="313" height="217"></a><br>
最后我们把这个Rounded Rectangle 的名字改为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Border</strong></span>.每当完成编辑一个元素立刻给他一个描述性的名字永远都是一个好的习惯，因为这可以让你更好的在你自己的应用里找到他们.<br>
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2014/03/RenameRect.png" rel="nofollow"><img alt="Renaming the Rectangle" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143623_4ey0.png" width="303" height="209"></a><br>
到此为止，进度条的基本外边已经完成, 我们接下来要开始做的是进度槽.
</p>
<h2>
<a name="t1" rel="nofollow"></a><a name="t1" rel="nofollow"></a>制作进度槽和背景
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
再找到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Round Rect</strong></span>&nbsp;工具，然后另外拖一个矩形在你的canvas上。 把它属性设置为如下:
</p>
<ul>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>X</strong></span>&nbsp;: 12
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Y</strong></span>&nbsp;: 10
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Width</strong></span>&nbsp;: 292
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Height</strong></span>&nbsp;: 14
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Radius</strong></span>&nbsp;: 7
</li>
</ul>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
<a target="_blank" href="http://cdn4.raywenderlich.com/wp-content/uploads/2014/03/Track-Rounded-Rectangle.png" rel="nofollow"><img alt="Track rounded rectangle" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143624_DaWR.png" width="700" height="139"></a><br>
然后给这个shape的<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Fill</strong></span>&nbsp;设置一个新的gradient，左边的颜色选取点的RGB设置为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>48 48 48，</strong></span>右边的设置为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>63 63 63</strong></span>, 如下图所示:<br>
<a target="_blank" href="http://cdn5.raywenderlich.com/wp-content/uploads/2014/03/07_rectgradient.png" rel="nofollow"><img title="PaintCode rectangle gradient" alt="PaintCode rectangle gradient" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143624_Y87C.png" width="480" height="159"></a><br>
设置&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Outer Shadow</strong></span>&nbsp;为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>LightShadow</strong></span>,&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Inner Shadow</strong></span>&nbsp;为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>DarkShadow</strong></span>, 然后把这个shape命名为<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ProgressTrack</strong></span>.<br>
教程到这里, 你的空间应该看起来像下图一样了:<br>
<a target="_blank" href="http://cdn4.raywenderlich.com/wp-content/uploads/2014/03/Indicator-Progress-1.png" rel="nofollow"><img alt="Indicator progress" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143625_E3g4.png" width="700" height="173"></a><br>
现在我们来加最后一个可见的元素.<br>
选择<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Round Rect</strong></span>工具,再拖一个矩形并且把它的属性设置为如下:
</p>
<ul>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>X</strong></span>&nbsp;: 14
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Y</strong></span>&nbsp;: 12
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Width</strong></span>&nbsp;: 288
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Height</strong></span>&nbsp;: 10
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Radius</strong></span>&nbsp;: 5
</li>
</ul>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
最后的这个shape将会在&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ProgressTrack</strong></span>&nbsp;左边缘靠右2像素的位置并且中心垂直对称.
</p>
<div>
<p style="font-family:inherit;font-size:1em;font-style:inherit;vertical-align:baseline;">
<span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>注意：</strong></span>你会发现如果不是去直接修改数值的话，自己手动去修改这个shape的大小和位置会很难，因为进度槽和它的背景太相似了.<br>
当然， 除了直接修改数值，你可以通过下面2种方法达到同样的效果： 1) 选中进度槽背景，复制粘贴，然后把它稍微的修改小一点, 或者 2) 如果你有一个trackpad，用手势把当前的shape放大，这样任然可以使制作更加容易。
</p>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
为了让进度条看起来更加的显眼一点，我们把进度条改成绿色的— RGB&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>0 226 0。</strong></span>&nbsp;大家也可以根据自己爱好去修改颜色。<br>
最后， 把这个shape的<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>&nbsp;Shadow</strong></span>&nbsp;和&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Inner Shadow</strong></span>&nbsp;都改成&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>No Shadow，</strong></span>&nbsp;取消&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Stroke</strong></span>&nbsp;然后把它改名为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ProgressTrackActive</strong></span>. 现在你的控件应该和下面的差不多了:<br>
<a target="_blank" href="http://www.raywenderlich.com/35720/paintcode-tutorial-custom-progress-bar/01-active-track" rel="nofollow"><img alt="Green indicator track" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143626_VJ7r.png" width="700" height="245"></a><br>
看起来很棒吧 — 但是如果想要它动起来，我们需要加一些组件来让它动态的响应事件.
</p>
<h2>
<a name="t2" rel="nofollow"></a><a name="t2" rel="nofollow"></a>加入 Control Frame
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
有一点需要大家注意的 – 如果大家想在PaintCode里随时的去调整一个元素的大小，那就应该把它放在一个frame里面,，并且去设置他的属性，这样PaintCode才知道如何去调整它的大小当它的parent frame改变的时候。<br>
下面是我们需要做的：
</p>
<ol>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Group:&nbsp;</strong></span>把所有你希望被同一个parent frame调整大小的元素放在一个group里。
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Frame:</strong></span>&nbsp;创建一个frame，然后把所有的元素都放在里面。 选中&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Apply only to entirely enclosed shapes</strong></span>来限定这个frame只能影响到在他里面的元素.
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Springs&nbsp;</strong></span>和<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>&nbsp;Struts:</strong></span>&nbsp;为每个让元素在frame改变的时候知道它们改如何改变自己的大写，你需要设置它们的springs 和 struts。
</li>
</ol>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
在上方工具栏选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Frame</strong></span>&nbsp;tool。在绿色的进度条周围拖出一个fame，如下图所示:<br>
<a target="_blank" href="http://www.raywenderlich.com/35720/paintcode-tutorial-custom-progress-bar/02-active-frame" rel="nofollow"><img alt="PaintCode dynamic frame" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143627_KALi.png" width="700" height="227"></a><br>
然后把这个fame命名<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ActiveProgressFrame</strong></span>&nbsp;然后把它和<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ProgressTrackActive</strong></span>方框group在一起 (同时选中2个然后点击工具栏里的<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Group</strong></span>)。然后把这个把这个group命名为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ProgressActiveGroup。</strong></span><br>
再次选中<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ActiveProgressFrame&nbsp;</strong></span>然后勾选<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Apply only to entirely enclosed shapes。</strong></span>&nbsp;这样能使这个frame只能影响<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ProgressTrackActive</strong></span>&nbsp;bar，因为<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ProgressTrackActive</strong></span>&nbsp;是这个group里唯一放在在<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ActiveProgressFrame</strong></span>范围内的元素.<br>
为了让进度条水平居中，进度条需要设置为固定高度以及可变的宽度。<br>
首先，我们需要选中&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ProgressTrackActive</strong></span>&nbsp;然后点击右边和下边的 springs 将他们设置为不可变的。然后点击中间的2个横条将他们变成spring, 如下图所示:<br>
<a target="_blank" href="http://cdn3.raywenderlich.com/wp-content/uploads/2014/03/Progress-Track-Resizing-e1369713038512.png" rel="nofollow"><img alt="Progress Track Resizing" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143627_XHC7.png" width="300" height="124"></a><br>
为了测试刚才做得改动，你可以尝试向右拖动<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ActiveProgressFrame&nbsp;</strong></span>的拖动点&nbsp;。 绿色的横条应该会随着你的拖动拉伸。 如果大家尝试将frame上下拖动，会发现绿色的方框只会水平的拉伸，竖直放假仅仅会跟着frame的边框移动。<br>
为了能让整个进度条随着frame的改动而调整，我们需要给整个进度条加一个frame。 首先，把所有元素都放在一个group里面 (包含已经创建了的group)，然后点击工具栏里的&nbsp;Group按钮。最后，命名把这个group为<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Progress Bar。</strong></span>&nbsp;新的group应该和下图一样：<br>
<a target="_blank" href="http://cdn4.raywenderlich.com/wp-content/uploads/2014/03/Progress-Bar-Group-e1369713309661.png" rel="nofollow"><img alt="Progress bar group" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143628_jYIF.png" width="300" height="153"></a><br>
接着，选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Frame</strong></span>&nbsp;工具，创建一个frame把整个进度条都包含进去。 然后把这个frame加入<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Progress Bar</strong></span>group，最后把它命名&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ProgressIndicatorFrame</strong></span>.。任然勾选&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Apply only to entirely closed</strong></span>&nbsp;shapes，如果你忘记了为什么要这样做，可以在看看教程的前几部。<br>
接下来选中<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>&nbsp;ProgressActiveGroup。</strong></span>&nbsp;为了让所有的元素都保持自己的位置，向前几步一样，我们需要设置这个frame只能水平改变大小。<br>
点击 springs/struts 里的水平横条将它变成一个spring。为了让进度槽的位置相对于上左右边框都不会改变, 所以确保只有下面的竖条是一个spring。 下面的图即是frame的具体设置:<br>
<a target="_blank" href="http://cdn2.raywenderlich.com/wp-content/uploads/2014/03/Progress-Active-Group-Sizing-e1369713760165.png" rel="nofollow"><img alt="Progress active group sizing" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143628_E0or.png" width="300" height="123"></a><br>
将ProgressTrack 和&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Border</strong></span>&nbsp;修改为同样的设置。<br>
现在让我们开始试试刚才的修改吧！选中<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ProgressIndicatorFrame</strong></span>然后随便的拖拽改变他的大小 — 进度条应该只会水平的改变大小，竖直方向保持不变。<br>
选中<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ProgressTrackActive</strong></span>&nbsp;shape 然后点击&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>variable width</strong></span>&nbsp;按钮， 这个按钮就在 Width 属性的右边，2个中括号包住一个小圆点的图标。<br>
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2014/03/Progress-Track-Active-Rect-Width.png" rel="nofollow"><img alt="Progress track active rect width" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143629_vOAA.png" width="261" height="320"></a><br>
记住！！！保存你所有的改动。 接下来我们要开始把进度条和代码联系起来了。
</p>
<h2>
<a name="t3" rel="nofollow"></a><a name="t3" rel="nofollow"></a>在项目里加入进度条
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
在 Xcode中，打开刚才下载的初始项目，或者继续你在第一部分教程创建的项目。打开项目之后，展开group&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Classes &gt; Views。</strong></span><br>
现在我们需要做的就是像教程1一样，创建一个进度条的subclass。这次我们继承的是&nbsp;UIProgressView&nbsp;，这样的话，大家用 PaintCode 创建的进度条就拥有和iOS进度条一样的表现了。<br>
右键点击&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Views</strong></span>&nbsp;group然后选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>NewFile…</strong></span>. 接着选择<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>iOSCocoa TouchObjective-C class</strong></span>&nbsp;模板。 把类命名为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ProgressView</strong></span>，然后设置它继承&nbsp;UIProgressView。<br>
打开&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ProgressView.m</strong></span>文件，删除方法&nbsp;initWithFrame:&nbsp;然后去掉&nbsp;drawRect:方法的注释。&nbsp;下面的这个文件这时候的样子：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821813#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821813#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">#import&nbsp;"ProgressView.h"</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@implementation</span><span style="background-color:inherit;">&nbsp;ProgressView&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">-&nbsp;(<span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)drawRect:(CGRect)rect&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">{&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;Drawing&nbsp;code</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;"><a href="http://my.oschina.net/u/567204" class="referer" target="_blank">@end</a> </span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
现在我们可以开始粘贴PaintCode给你的代码了。<br>
回到 PaintCode 然后确定代码窗口在下面打开着； 如果没有，在菜单里选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>View &gt; Code</strong></span>&nbsp;。 设置平台为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>iOS &gt; Objective-C，</strong></span>系统版本是&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>iOS 5+</strong></span>，orgin设置为<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Default Origin，</strong></span>内存管理设置为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ARC，</strong></span>&nbsp;如下图所示：<br>
<a target="_blank" href="http://cdn2.raywenderlich.com/wp-content/uploads/2013/11/PaintCode-Code-Settings.png" rel="nofollow"><img alt="PaintCode code settings" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143629_gZws.png" width="480" height="31"></a><br>
现在把所有代码复制粘贴到&nbsp;drawRect:方法里。&nbsp;这段代码可能很长，但是它是PaintCode早就为你准备好的了。
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821813#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821813#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#008200;background-color:inherit;">////&nbsp;General&nbsp;Declarations</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">CGColorSpaceRef&nbsp;colorSpace&nbsp;=&nbsp;CGColorSpaceCreateDeviceRGB();&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">CGContextRef&nbsp;context&nbsp;=&nbsp;UIGraphicsGetCurrentContext();&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#008200;background-color:inherit;">////&nbsp;Color&nbsp;Declarations</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">UIColor*&nbsp;fillColor&nbsp;=&nbsp;[UIColor<span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.416</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.416</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.416</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;1</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">UIColor*&nbsp;strokeColor&nbsp;=&nbsp;[UIColor<span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.322</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.322</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.322</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;1</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">UIColor*&nbsp;shadowColor<span style="background-color:inherit;">2</span><span style="background-color:inherit;">&nbsp;=&nbsp;[UIColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.2</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.2</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.2</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;1</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">UIColor*&nbsp;shadowColor<span style="background-color:inherit;">3</span><span style="background-color:inherit;">&nbsp;=&nbsp;[UIColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.671</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.671</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.671</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;1</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">UIColor*&nbsp;fillColor<span style="background-color:inherit;">2</span><span style="background-color:inherit;">&nbsp;=&nbsp;[UIColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.247</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.247</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.247</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;1</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">UIColor*&nbsp;strokeColor<span style="background-color:inherit;">2</span><span style="background-color:inherit;">&nbsp;=&nbsp;[UIColor</span><span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.188</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.188</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.188</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;1</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">UIColor*&nbsp;color&nbsp;=&nbsp;[UIColor<span style="color:#DD0000;background-color:inherit;">&nbsp;colorWithRed</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="color:#DD0000;background-color:inherit;">&nbsp;green</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.886</span><span style="color:#DD0000;background-color:inherit;">&nbsp;blue</span><span style="background-color:inherit;">:&nbsp;</span><span style="background-color:inherit;">0</span><span style="color:#DD0000;background-color:inherit;">&nbsp;alpha</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;1</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#008200;background-color:inherit;">////&nbsp;Gradient&nbsp;Declarations</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">NSArray*&nbsp;outerRectGradientColors&nbsp;=&nbsp;[NSArray<span style="color:#DD0000;background-color:inherit;">&nbsp;arrayWithObjects</span><span style="background-color:inherit;">:&nbsp;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;(<span style="color:#006699;font-weight:bold;background-color:inherit;">id</span><span style="background-color:inherit;">)strokeColor</span><span style="background-color:inherit;">.CGColor</span><span style="background-color:inherit;">,&nbsp;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;(<span style="color:#006699;font-weight:bold;background-color:inherit;">id</span><span style="background-color:inherit;">)fillColor</span><span style="background-color:inherit;">.CGColor</span><span style="background-color:inherit;">,</span><span style="color:#006699;font-weight:bold;background-color:inherit;">&nbsp;nil</span><span style="color:#DD0000;background-color:inherit;">&nbsp;nil</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">CGFloat&nbsp;outerRectGradientLocations[]&nbsp;=&nbsp;{<span style="background-color:inherit;">0</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">};&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">CGGradientRef&nbsp;outerRectGradient&nbsp;=&nbsp;CGGradientCreateWithColors(colorSpace,&nbsp;(__bridge&nbsp;CFArrayRef)outerRectGradientColors,&nbsp;outerRectGradientLocations);&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">NSArray*&nbsp;gradientColors&nbsp;=&nbsp;[NSArray<span style="color:#DD0000;background-color:inherit;">&nbsp;arrayWithObjects</span><span style="background-color:inherit;">:&nbsp;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;(<span style="color:#006699;font-weight:bold;background-color:inherit;">id</span><span style="background-color:inherit;">)strokeColor</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">.CGColor</span><span style="background-color:inherit;">,&nbsp;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;(<span style="color:#006699;font-weight:bold;background-color:inherit;">id</span><span style="background-color:inherit;">)fillColor</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">.CGColor</span><span style="background-color:inherit;">,</span><span style="color:#006699;font-weight:bold;background-color:inherit;">&nbsp;nil</span><span style="color:#DD0000;background-color:inherit;">&nbsp;nil</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">CGFloat&nbsp;gradientLocations[]&nbsp;=&nbsp;{<span style="background-color:inherit;">0</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">};&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">CGGradientRef&nbsp;gradient&nbsp;=&nbsp;CGGradientCreateWithColors(colorSpace,&nbsp;(__bridge&nbsp;CFArrayRef)gradientColors,&nbsp;gradientLocations);&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#008200;background-color:inherit;">////&nbsp;Shadow&nbsp;Declarations</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">UIColor*&nbsp;darkShadow&nbsp;=&nbsp;shadowColor<span style="background-color:inherit;">2</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">CGSize&nbsp;darkShadowOffset&nbsp;=&nbsp;CGSizeMake(<span style="background-color:inherit;">3</span><span style="background-color:inherit;">.1</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">3</span><span style="background-color:inherit;">.1</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">CGFloat&nbsp;darkShadowBlurRadius&nbsp;=&nbsp;<span style="background-color:inherit;">5</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">UIColor*&nbsp;lightShadow&nbsp;=&nbsp;shadowColor<span style="background-color:inherit;">3</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">CGSize&nbsp;lightShadowOffset&nbsp;=&nbsp;CGSizeMake(<span style="background-color:inherit;">3</span><span style="background-color:inherit;">.1</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">3</span><span style="background-color:inherit;">.1</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">CGFloat&nbsp;lightShadowBlurRadius&nbsp;=&nbsp;<span style="background-color:inherit;">5</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#008200;background-color:inherit;">////&nbsp;Frames</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">CGRect&nbsp;progressIndicatorFrame&nbsp;=&nbsp;CGRectMake(-<span style="background-color:inherit;">1</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">3</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">4</span><span style="background-color:inherit;">7</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#008200;background-color:inherit;">////&nbsp;Subframes</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">CGRect&nbsp;group&nbsp;=&nbsp;CGRectMake(CGRectGetMinX(progressIndicatorFrame)&nbsp;+&nbsp;<span style="background-color:inherit;">1</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">,&nbsp;CGRectGetMinY(progressIndicatorFrame)&nbsp;+&nbsp;</span><span style="background-color:inherit;">9</span><span style="background-color:inherit;">,&nbsp;CGRectGetWidth(progressIndicatorFrame)&nbsp;-&nbsp;</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">5</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">CGRect&nbsp;activeProgressFrame&nbsp;=&nbsp;CGRectMake(CGRectGetMinX(group)&nbsp;+&nbsp;floor(CGRectGetWidth(group)&nbsp;*&nbsp;<span style="background-color:inherit;">0</span><span style="background-color:inherit;">.00000</span><span style="background-color:inherit;">&nbsp;+&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.5</span><span style="background-color:inherit;">),&nbsp;CGRectGetMinY(group)&nbsp;+&nbsp;floor(CGRectGetHeight(group)&nbsp;*&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.00000</span><span style="background-color:inherit;">&nbsp;+&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.5</span><span style="background-color:inherit;">),&nbsp;floor(CGRectGetWidth(group)&nbsp;*&nbsp;</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">.00000</span><span style="background-color:inherit;">&nbsp;+&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.5</span><span style="background-color:inherit;">)&nbsp;-&nbsp;floor(CGRectGetWidth(group)&nbsp;*&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.00000</span><span style="background-color:inherit;">&nbsp;+&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.5</span><span style="background-color:inherit;">),&nbsp;floor(CGRectGetHeight(group)&nbsp;*&nbsp;</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">.00000</span><span style="background-color:inherit;">&nbsp;+&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.5</span><span style="background-color:inherit;">)&nbsp;-&nbsp;floor(CGRectGetHeight(group)&nbsp;*&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.00000</span><span style="background-color:inherit;">&nbsp;+&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.5</span><span style="background-color:inherit;">));&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#008200;background-color:inherit;">////&nbsp;Abstracted&nbsp;Attributes</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">CGRect&nbsp;progressTrackActiveRect&nbsp;=&nbsp;CGRectMake(CGRectGetMinX(activeProgressFrame)&nbsp;+&nbsp;<span style="background-color:inherit;">4</span><span style="background-color:inherit;">,&nbsp;CGRectGetMinY(activeProgressFrame)&nbsp;+&nbsp;</span><span style="background-color:inherit;">5</span><span style="background-color:inherit;">,&nbsp;CGRectGetWidth(activeProgressFrame)&nbsp;-&nbsp;</span><span style="background-color:inherit;">8</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#008200;background-color:inherit;">////&nbsp;Progress&nbsp;Bar</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">{&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;Border&nbsp;Drawing</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGRect&nbsp;borderRect&nbsp;=&nbsp;CGRectMake(CGRectGetMinX(progressIndicatorFrame)&nbsp;+&nbsp;<span style="background-color:inherit;">2</span><span style="background-color:inherit;">,&nbsp;CGRectGetMinY(progressIndicatorFrame)&nbsp;+&nbsp;</span><span style="background-color:inherit;">3</span><span style="background-color:inherit;">,&nbsp;CGRectGetWidth(progressIndicatorFrame)&nbsp;-&nbsp;</span><span style="background-color:inherit;">5</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">3</span><span style="background-color:inherit;">4</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;UIBezierPath*&nbsp;borderPath&nbsp;=&nbsp;[UIBezierPath<span style="color:#DD0000;background-color:inherit;">&nbsp;bezierPathWithRoundedRect</span><span style="background-color:inherit;">:&nbsp;borderRect</span><span style="color:#DD0000;background-color:inherit;">&nbsp;cornerRadius</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;4</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGContextSaveGState(context);&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGContextSetShadowWithColor(context,&nbsp;darkShadowOffset,&nbsp;darkShadowBlurRadius,&nbsp;darkShadow<span style="background-color:inherit;">.CGColor</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGContextBeginTransparencyLayer(context,&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">NULL</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[borderPath<span style="color:#DD0000;background-color:inherit;">&nbsp;addClip</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGContextDrawLinearGradient(context,&nbsp;outerRectGradient,&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGPointMake(CGRectGetMidX(borderRect),&nbsp;CGRectGetMinY(borderRect)),&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGPointMake(CGRectGetMidX(borderRect),&nbsp;CGRectGetMaxY(borderRect)),&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color:inherit;">0</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGContextEndTransparencyLayer(context);&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//////&nbsp;Border&nbsp;Inner&nbsp;Shadow</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGRect&nbsp;borderBorderRect&nbsp;=&nbsp;CGRectInset([borderPath<span style="color:#DD0000;background-color:inherit;">&nbsp;bounds</span><span style="background-color:inherit;">],&nbsp;-lightShadowBlurRadius,&nbsp;-lightShadowBlurRadius);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;borderBorderRect&nbsp;=&nbsp;CGRectOffset(borderBorderRect,&nbsp;-lightShadowOffset<span style="background-color:inherit;">.width</span><span style="background-color:inherit;">,&nbsp;-lightShadowOffset</span><span style="background-color:inherit;">.height</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;borderBorderRect&nbsp;=&nbsp;CGRectInset(CGRectUnion(borderBorderRect,&nbsp;[borderPath<span style="color:#DD0000;background-color:inherit;">&nbsp;bounds</span><span style="background-color:inherit;">]),&nbsp;-</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">,&nbsp;-</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;UIBezierPath*&nbsp;borderNegativePath&nbsp;=&nbsp;[UIBezierPath<span style="color:#DD0000;background-color:inherit;">&nbsp;bezierPathWithRect</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;borderBorderRect</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[borderNegativePath<span style="color:#DD0000;background-color:inherit;">&nbsp;appendPath</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;borderPath</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;borderNegativePath<span style="background-color:inherit;">.usesEvenOddFillRule</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">YES</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGContextSaveGState(context);&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGFloat&nbsp;xOffset&nbsp;=&nbsp;lightShadowOffset<span style="background-color:inherit;">.width</span><span style="background-color:inherit;">&nbsp;+&nbsp;round(borderBorderRect</span><span style="background-color:inherit;">.size</span><span style="background-color:inherit;">.width</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGFloat&nbsp;yOffset&nbsp;=&nbsp;lightShadowOffset<span style="background-color:inherit;">.height</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextSetShadowWithColor(context,&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGSizeMake(xOffset&nbsp;+&nbsp;copysign(<span style="background-color:inherit;">0</span><span style="background-color:inherit;">.1</span><span style="background-color:inherit;">,&nbsp;xOffset),&nbsp;yOffset&nbsp;+&nbsp;copysign(</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.1</span><span style="background-color:inherit;">,&nbsp;yOffset)),&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lightShadowBlurRadius,&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lightShadow<span style="background-color:inherit;">.CGColor</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[borderPath<span style="color:#DD0000;background-color:inherit;">&nbsp;addClip</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGAffineTransform&nbsp;transform&nbsp;=&nbsp;CGAffineTransformMakeTranslation(-round(borderBorderRect<span style="background-color:inherit;">.size</span><span style="background-color:inherit;">.width</span><span style="background-color:inherit;">),&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[borderNegativePath<span style="color:#DD0000;background-color:inherit;">&nbsp;applyTransform</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;transform</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[UIColor<span style="color:#DD0000;background-color:inherit;">&nbsp;grayColor</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setFill</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[borderNegativePath<span style="color:#DD0000;background-color:inherit;">&nbsp;fill</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGContextRestoreGState(context);&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGContextRestoreGState(context);&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;ProgressTrack&nbsp;Drawing</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGRect&nbsp;progressTrackRect&nbsp;=&nbsp;CGRectMake(CGRectGetMinX(progressIndicatorFrame)&nbsp;+&nbsp;<span style="background-color:inherit;">1</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">,&nbsp;CGRectGetMinY(progressIndicatorFrame)&nbsp;+&nbsp;</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">,&nbsp;CGRectGetWidth(progressIndicatorFrame)&nbsp;-&nbsp;</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">9</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">4</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;UIBezierPath*&nbsp;progressTrackPath&nbsp;=&nbsp;[UIBezierPath<span style="color:#DD0000;background-color:inherit;">&nbsp;bezierPathWithRoundedRect</span><span style="background-color:inherit;">:&nbsp;progressTrackRect</span><span style="color:#DD0000;background-color:inherit;">&nbsp;cornerRadius</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;7</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGContextSaveGState(context);&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGContextSetShadowWithColor(context,&nbsp;lightShadowOffset,&nbsp;lightShadowBlurRadius,&nbsp;lightShadow<span style="background-color:inherit;">.CGColor</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGContextBeginTransparencyLayer(context,&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">NULL</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[progressTrackPath<span style="color:#DD0000;background-color:inherit;">&nbsp;addClip</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGContextDrawLinearGradient(context,&nbsp;gradient,&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGPointMake(CGRectGetMidX(progressTrackRect),&nbsp;CGRectGetMinY(progressTrackRect)),&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGPointMake(CGRectGetMidX(progressTrackRect),&nbsp;CGRectGetMaxY(progressTrackRect)),&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color:inherit;">0</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGContextEndTransparencyLayer(context);&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//////&nbsp;ProgressTrack&nbsp;Inner&nbsp;Shadow</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGRect&nbsp;progressTrackBorderRect&nbsp;=&nbsp;CGRectInset([progressTrackPath<span style="color:#DD0000;background-color:inherit;">&nbsp;bounds</span><span style="background-color:inherit;">],&nbsp;-darkShadowBlurRadius,&nbsp;-darkShadowBlurRadius);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;progressTrackBorderRect&nbsp;=&nbsp;CGRectOffset(progressTrackBorderRect,&nbsp;-darkShadowOffset<span style="background-color:inherit;">.width</span><span style="background-color:inherit;">,&nbsp;-darkShadowOffset</span><span style="background-color:inherit;">.height</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;progressTrackBorderRect&nbsp;=&nbsp;CGRectInset(CGRectUnion(progressTrackBorderRect,&nbsp;[progressTrackPath<span style="color:#DD0000;background-color:inherit;">&nbsp;bounds</span><span style="background-color:inherit;">]),&nbsp;-</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">,&nbsp;-</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;UIBezierPath*&nbsp;progressTrackNegativePath&nbsp;=&nbsp;[UIBezierPath<span style="color:#DD0000;background-color:inherit;">&nbsp;bezierPathWithRect</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;progressTrackBorderRect</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[progressTrackNegativePath<span style="color:#DD0000;background-color:inherit;">&nbsp;appendPath</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;progressTrackPath</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;progressTrackNegativePath<span style="background-color:inherit;">.usesEvenOddFillRule</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">YES</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGContextSaveGState(context);&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGFloat&nbsp;xOffset&nbsp;=&nbsp;darkShadowOffset<span style="background-color:inherit;">.width</span><span style="background-color:inherit;">&nbsp;+&nbsp;round(progressTrackBorderRect</span><span style="background-color:inherit;">.size</span><span style="background-color:inherit;">.width</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGFloat&nbsp;yOffset&nbsp;=&nbsp;darkShadowOffset<span style="background-color:inherit;">.height</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextSetShadowWithColor(context,&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGSizeMake(xOffset&nbsp;+&nbsp;copysign(<span style="background-color:inherit;">0</span><span style="background-color:inherit;">.1</span><span style="background-color:inherit;">,&nbsp;xOffset),&nbsp;yOffset&nbsp;+&nbsp;copysign(</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.1</span><span style="background-color:inherit;">,&nbsp;yOffset)),&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;darkShadowBlurRadius,&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;darkShadow<span style="background-color:inherit;">.CGColor</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[progressTrackPath<span style="color:#DD0000;background-color:inherit;">&nbsp;addClip</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGAffineTransform&nbsp;transform&nbsp;=&nbsp;CGAffineTransformMakeTranslation(-round(progressTrackBorderRect<span style="background-color:inherit;">.size</span><span style="background-color:inherit;">.width</span><span style="background-color:inherit;">),&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[progressTrackNegativePath<span style="color:#DD0000;background-color:inherit;">&nbsp;applyTransform</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;transform</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[UIColor<span style="color:#DD0000;background-color:inherit;">&nbsp;grayColor</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setFill</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[progressTrackNegativePath<span style="color:#DD0000;background-color:inherit;">&nbsp;fill</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGContextRestoreGState(context);&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGContextRestoreGState(context);&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;Group</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">////&nbsp;ProgressTrackActive&nbsp;Drawing</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UIBezierPath*&nbsp;progressTrackActivePath&nbsp;=&nbsp;[UIBezierPath<span style="color:#DD0000;background-color:inherit;">&nbsp;bezierPathWithRoundedRect</span><span style="background-color:inherit;">:&nbsp;progressTrackActiveRect</span><span style="color:#DD0000;background-color:inherit;">&nbsp;cornerRadius</span><span style="background-color:inherit;">:</span><span style="color:#DD0000;background-color:inherit;">&nbsp;5</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[color<span style="color:#DD0000;background-color:inherit;">&nbsp;setFill</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[progressTrackActivePath<span style="color:#DD0000;background-color:inherit;">&nbsp;fill</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#008200;background-color:inherit;">////&nbsp;Cleanup</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">CGGradientRelease(outerRectGradient);&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">CGGradientRelease(gradient);&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">CGColorSpaceRelease(colorSpace);&nbsp;&nbsp;</span>
</li>
</ol>
</div>
<div>
<p style="font-family:inherit;font-size:1em;font-style:inherit;vertical-align:baseline;">
<span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>注意:</strong></span>&nbsp;你的代码可能看起来和上面的有一些不一样，这取决于每个人在画图的时候的细节，这没啥关系。
</p>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
这里我们可以明显看到PaintCode给我们做了多少工作。大家可以想象如果一行一行的去写会用多少时间！但是如果这是你的爱好，当然没有关系— 但是大部分应该会更想花时间在编写一些更有趣的代码上吧！ :]<br>
代码前部分是 colors, gradients, 和 shadows的申明。 接着是frame的申明。 这里会有一个&nbsp;progressTrackActiveRect&nbsp;在//// Abstracted Attributes&nbsp;代码段里， 他是用来控制进度条绿色部分的进度的，&nbsp;工作原理和&nbsp;UIProgressView&nbsp;一样。<br>
接下来&nbsp;Progress Bar&nbsp;代码段是用来绘制整个进度条的边框，进度槽，以及其他的部分，然后另一个代码段是管理&nbsp;ProgressActiveGroup的。&nbsp;最后就是一些收尾代码。
</p>
<div>
<p style="font-family:inherit;font-size:1em;font-style:inherit;vertical-align:baseline;">
<span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>注意:</strong></span>&nbsp;这篇教程并不会去深入的讲解 Core Graphics绘制。 我们使用PaintCode的原因就是让大家能够在不了解CoreGraphic情况下去创建更多的炫酷的控件。这让大家能够花更多时间在开发和调试上，而不是在这里慢慢的画画。
</p>
<p style="font-family:inherit;font-size:1em;font-style:inherit;vertical-align:baseline;">
但是，了解一点点Core Graphics 知识能让大家更好的去认识PaintCode生成的代码，也同样可以让大家去修改这些代码。 要想了解更多 Core Graphics, 请查看我们的些列教程&nbsp;<a target="_blank" href="http://www.raywenderlich.com/32283/core-graphics-tutorial-lines-rectangles-and-gradients" rel="nofollow">Core Graphics tutorial series</a>!
</p>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
&nbsp;
</p>
<h2>
<a name="t4" rel="nofollow"></a><a name="t4" rel="nofollow"></a>显示进度条
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
现在我们的进度条已经准备好了，接下来的第一个测试就是看它是否能显示出来。<br>
在xcode里找到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ResourcesStoryboardsMainStoryboard.storyboard</strong></span>&nbsp;，然后打开它。 选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Progress View Controller</strong></span>&nbsp;scene 然后从<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Object Library</strong></span>添加一个&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>View</strong></span>&nbsp;进去。在<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Identity Inspector</strong></span>&nbsp;里改变这个view的class为ProgressView， 然后在&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Size Inspector</strong></span>里面把它的属性改为如下：
</p>
<ul>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>X:</strong></span>&nbsp;20
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Y:</strong></span>&nbsp;183
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Width:</strong></span>&nbsp;280
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Height:</strong></span>&nbsp;46
</li>
</ul>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2014/03/Progress-View-Size-Inspector-e1370393084184.png" rel="nofollow"><img alt="Progress view size inspector" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143630_fzjZ.png" width="300" height="285"></a><br>
最后把这个项目运行一次。我们的进度条应该和下面一样：<br>
<a target="_blank" href="http://cdn2.raywenderlich.com/wp-content/uploads/2014/03/Progress-Bar-First-Run.png" rel="nofollow"><img alt="Progress bar first run" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143630_GfGZ.png" width="213" height="320"></a><br>
虽然进度条看起来已经不错了 — 但是他并没有按照storyboard里view的大小绘制出来，要解决这个问题，我们继续回到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ProgressView.m</strong></span>里的&nbsp;drawRect:&nbsp;找到下面这行：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821813#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821813#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">…&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#008200;background-color:inherit;">////&nbsp;Frames</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">CGRect&nbsp;progressIndicatorFrame&nbsp;=&nbsp;CGRectMake(<span style="background-color:inherit;">2</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">3</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">8</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">3</span><span style="background-color:inherit;">4</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">...&nbsp;&nbsp;</span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
把它改成下面的这句：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821813#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821813#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)drawRect:(CGRect)rect&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">{&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;Frames</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;CGRect&nbsp;progressIndicatorFrame&nbsp;=&nbsp;rect;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
这句是让进度条的大小和我们在storyboard里设置的view的大小一样。<br>
再编译运行一次，进度条就应该和storyboard里的veiw一样大小了：<br>
<a target="_blank" href="http://cdn4.raywenderlich.com/wp-content/uploads/2014/03/Progress-Bar-Frame-Fixed.png" rel="nofollow"><img alt="Progress bar frame fixed" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143630_HQMA.png" width="213" height="320"></a><br>
现在进度条已经能正确的显示出来了，接下来我们要做的就是让他动起来。
</p>
<h2>
<a name="t5" rel="nofollow"></a><a name="t5" rel="nofollow"></a>让进度条动起来
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
打开&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ProgressViewController.m</strong></span>&nbsp;在&nbsp;@implementation&nbsp;之前加入下面的代码：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821813#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821813#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#008200;background-color:inherit;">//&nbsp;1</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">#import&nbsp;"ProgressView.h"</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">#import&nbsp;"ProgressViewController.h"</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#008200;background-color:inherit;">//&nbsp;2</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">#define&nbsp;kSecondsForCompleteUpdate&nbsp;&nbsp;&nbsp;3.0</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">#define&nbsp;kUpdateInterval&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.02</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#008200;background-color:inherit;">//&nbsp;3</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;"><a href="http://my.oschina.net/u/996807" class="referer" target="_blank">@interface</a> </span><span style="background-color:inherit;">&nbsp;ProgressViewController&nbsp;()&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@property</span><span style="background-color:inherit;">&nbsp;(weak,&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">nonatomic</span><span style="background-color:inherit;">)&nbsp;IBOutlet&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">ProgressView</span><span style="background-color:inherit;">&nbsp;*progressView;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@property</span><span style="background-color:inherit;">&nbsp;(weak,&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">nonatomic</span><span style="background-color:inherit;">)&nbsp;IBOutlet&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">UIButton</span><span style="background-color:inherit;">&nbsp;*startProgressButton;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@property</span><span style="background-color:inherit;">&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">strong</span><span style="background-color:inherit;">,&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">nonatomic</span><span style="background-color:inherit;">)&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">NSTimer</span><span style="background-color:inherit;">&nbsp;*timer;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@end</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
我们现在来看看上面的代码做了什么：
</p>
<ol>
<li>
引入&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ProgressView.h</strong></span>&nbsp;头文件，这样在view controller里就可以引用它。
</li>
<li>
定义了2个常量&nbsp;kSecondsForCompleteUpdate&nbsp;和&nbsp;kUpdateInterval&nbsp;并给他们赋值。 用它们来控制着进度条的行为。
</li>
<li>
增加了一个类的Extension 并且为&nbsp;UIButton&nbsp;和&nbsp;UIProgressView申明了带xib连接口的属性，&nbsp;以及一个定时器用来更新进度条的&nbsp;progress属性.
</li>
</ol>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
接着添加下面的代码 (任然在&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ProgressViewController.m</strong></span>里）：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821813#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821813#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-(IBAction)startProgressTapped&nbsp;{&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.progressView</span><span style="background-color:inherit;">.progress</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.0</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.startProgressButton</span><span style="background-color:inherit;">.enabled</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">NO</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.timer</span><span style="background-color:inherit;">&nbsp;=&nbsp;[NSTimer</span><span style="color:#DD0000;background-color:inherit;">&nbsp;timerWithTimeInterval</span><span style="background-color:inherit;">:kUpdateInterval&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;target</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;selector</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">@selector</span><span style="background-color:inherit;">(updateProgressView)&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;userInfo</span><span style="color:#006699;font-weight:bold;background-color:inherit;">:nil</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#DD0000;background-color:inherit;">&nbsp;repeats</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">YES</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[[NSRunLoop<span style="color:#DD0000;background-color:inherit;">&nbsp;currentRunLoop</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;addTimer</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.timer</span><span style="color:#DD0000;background-color:inherit;">&nbsp;forMode</span><span style="background-color:inherit;">:NSDefaultRunLoopMode];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.timer</span><span style="color:#DD0000;background-color:inherit;">&nbsp;fire</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
当屏幕上的按钮被点击时，这段代码将被调用。 首先先把进度条的&nbsp;progress属性设置为&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>0。</strong></span>然后将按钮禁用掉，这样在进度条动画进行的时候我们将不能再次点击按钮。 然后，创建一个定时器，用来控制动画的进行时长。<br>
最后， 把定时器加进run loop来启动定时器-模拟事件的开始。<br>
让我们来看看self.timer&nbsp;这行代码。 大家会发现定事情调用了&nbsp;updateProgressView这个方法，这是用来更新进度条的进度的。 我们马上加加入这段代码，<br>
把下面这段加入 ProgressViewController.m中：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821813#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821813#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)updateProgressView;&nbsp;{&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.progressView</span><span style="background-color:inherit;">.progress</span><span style="background-color:inherit;">&nbsp;&lt;&nbsp;</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">.0</span><span style="background-color:inherit;">)&nbsp;{&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.progressView</span><span style="background-color:inherit;">.progress</span><span style="background-color:inherit;">&nbsp;+=&nbsp;(kUpdateInterval&nbsp;/&nbsp;kSecondsForCompleteUpdate);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">else</span><span style="background-color:inherit;">&nbsp;{&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.timer</span><span style="color:#DD0000;background-color:inherit;">&nbsp;invalidate</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.startProgressButton</span><span style="background-color:inherit;">.enabled</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">YES</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
这段代码会检查progress属性是否还小于1， 也就是还没有完成。 如果还没完成，逐步的增加进度， 用前面定义2个常量来控制进度条增加的速率。<br>
如果进度条的progress大于1了，也就是他100%完成了， 我们会把定时器禁用掉，然后恢复按钮来让我们能够再次模拟进度条增加。<br>
现在我们剩下的就是添加一个按钮来触发&nbsp;startProgressTapped方法，让我们能开始模拟整个测试了。
</p>
<h2>
<a name="t6" rel="nofollow"></a><a name="t6" rel="nofollow"></a>加入开始按钮
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
回到storyboard然后创建一个&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Round Rect Button&nbsp;</strong></span>放在&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Progress View Controller</strong></span>&nbsp;里面。 在&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Attributes Inspector</strong></span>&nbsp;里面把它的 title 改成&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>“Start Progress”</strong></span>&nbsp;选择&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Touch Up Inside</strong></span>&nbsp;把他和代码里的&nbsp;startProgressTapped连接起来。<br>
然后修改按钮属性，在&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Size Inspector</strong></span>里，应该和下图一样：
</p>
<ul>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>X:</strong></span>&nbsp;97
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Y:</strong></span>&nbsp;20
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Width:</strong></span>&nbsp;128
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Height:</strong></span>&nbsp;44
</li>
<li>
<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Autosizing:</strong></span>&nbsp;左上右固定间隙，固定宽。 可变的下间隙，和可变的高。
</li>
</ul>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2014/03/Button-Size-Attributes.png" rel="nofollow"><img alt="Button size attributes" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143631_JDbY.png" width="308" height="320"></a><br>
接下来，链接代码里的按钮和进度条。 你的链接应该和下面一样：<br>
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2014/03/Progress-Controller-Connections1.png" rel="nofollow"><img alt="Progress controller connections" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143632_OvX5.png" width="407" height="500"></a><br>
编译运行一次项目，然后点击&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Start Progress</strong></span>&nbsp;按钮。我们的进度条应该就和下图一样了：<br>
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2014/03/Testing-Progress-With-Button.png" rel="nofollow"><img alt="Testing progress with button" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143633_AzzD.png" width="213" height="320"></a><br>
Umm…进度条居然没有动！ 点了按钮以后啥都没发生！！怎么破！
</p>
<h2>
<a name="t7" rel="nofollow"></a><a name="t7" rel="nofollow"></a>更新进度条
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
问题出在，在&nbsp;ProgressView&nbsp;里面没有代码去更新进度槽。这玩意儿仍然是静态的被显示着，就像在PaintCode里一样。 我们需要增加一些代码，来让进度条可以基于自己的&nbsp;progress属性来绘制。<br>
换到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ProgressView.m</strong></span>文件里.。找到下面这段：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821813#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821813#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">…&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;"><span style="color:#008200;background-color:inherit;">////&nbsp;Abstracted&nbsp;Attributes</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">CGRect&nbsp;progressTrackActiveRect&nbsp;=&nbsp;CGRectMake(CGRectGetMinX(activeProgressFrame)&nbsp;+&nbsp;<span style="background-color:inherit;">2</span><span style="background-color:inherit;">,&nbsp;CGRectGetMinY(activeProgressFrame)&nbsp;+&nbsp;</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">,&nbsp;CGRectGetWidth(activeProgressFrame)&nbsp;-&nbsp;</span><span style="background-color:inherit;">4</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">…&nbsp;&nbsp;</span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
用下面的代码替换掉整个&nbsp;CGRect progressTrackActiveRect这行：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821813#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821813#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">CGRect&nbsp;progressTrackActiveRect&nbsp;=&nbsp;CGRectMake(CGRectGetMinX(activeProgressFrame)&nbsp;+&nbsp;</span><span style="background-color:inherit;">3</span><span style="background-color:inherit;">,&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGRectGetMinY(activeProgressFrame)&nbsp;+&nbsp;<span style="background-color:inherit;">2</span><span style="background-color:inherit;">,&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(CGRectGetWidth(activeProgressFrame)&nbsp;-&nbsp;<span style="background-color:inherit;">4</span><span style="background-color:inherit;">)&nbsp;*&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.progress</span><span style="background-color:inherit;">,&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color:inherit;">1</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
新的代码会基于进度条的&nbsp;progress&nbsp;属性去改变它的rect的宽。<br>
最后一件事 —设置进度条的progress&nbsp;为0。 这样在程序启动的时候，进度条就能和我们希望的一样处于0的位置。<br>
回到&nbsp;<span style="font-family:inherit;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ProgressViewController.m&nbsp;</strong></span>文件加入下面的代码：
</p>
<div>
<div>
<div>
<strong>[objc]</strong>&nbsp;<a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821813#" rel="nofollow">view plain</a><a target="_blank" href="http://blog.csdn.net/jaywon/article/details/9821813#" rel="nofollow">copy</a>
<div>
</div>
<div>
</div>
</div>
</div>
<ol>
<li>
<span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)viewDidLoad&nbsp;{&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">super</span><span style="color:#DD0000;background-color:inherit;">&nbsp;viewDidLoad</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span>
</li>
<li>
<span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.progressView</span><span style="background-color:inherit;">.progress</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">.0</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span>
</li>
<li>
<span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span>
</li>
</ol>
</div>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
在跑一次程序，点击按钮。&nbsp;我们的的进度条应该开始逐步的填满整个进度槽了。<br>
<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2014/03/Final-Project.png" rel="nofollow"><img alt="Final project" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/14143633_Za9A.png" width="213" height="320"></a><br>
现在我们完成了可以动态更新的进度条了。 他可以用来模拟3秒钟的后台任务或者下载任务。
</p>
<h2>
<a name="t8" rel="nofollow"></a><a name="t8" rel="nofollow"></a>总结
</h2>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
你可以<a target="_blank" href="http://cdn1.raywenderlich.com/wp-content/uploads/2014/03/PaintCode-Part-2-Final.zip" rel="nofollow">在这里</a>下载完整的PaintCode和XCode项目。<br>
恭喜大家 – 在这个过程中使用PaintCode制作了一个自定义的进度条，并且把它集成进了自己的项目中，相信大家一定学到了不少。<br>
有了这个新技术，大家可以想怎么做怎么做，随意的去自定义自己的进度条 – 甚至是iOS7里的扁平进度条 :]<br>
我们还有好消息 – 更多的教程会陆续而！在第三部分教程里，我们将会教你如何去用bezier路径画出一个箭头，并把它使用在一个简单的游戏里。
</p>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
<br>
</p>
<p style="color:#333333;font-family:&#39;Open Sans&#39;, sans-serif;font-size:16px;vertical-align:baseline;background-color:#FFFFFF;">
原帖：http://www.raywenderlich.com/35720/paintcode-tutorial-custom-progress-bar
</p>
    		    	</div>
						<div class="bottom">
			发布于 4小时前，
						阅读(2) | 评论(0) |  投票(0) | 收藏(0) 
    		<a href="http://my.oschina.net/u/1244672/blog/602345" class="fullcontent">阅读全文...</a>
    	</div>
		      </li>
          <li class="Blog" id="blog_602336">      
		<div class="BlogTitle">
    		<div class="title">
            	<h2>
					<span class="icon" style="background:#44ac57;" title="原创博客">原</span>																									<a href="http://my.oschina.net/u/1244672/blog/602336">43个优秀的Swift开源项目推荐</a></h2>        		<div class="outline">
            	  <span class="catalog">
										分类: 
						<a href="http://my.oschina.net/u/1244672/blog?catalog=3369076">第三方库</a>										  </span>		  
        		              	              	</div>
    		</div>		
		</div>
        <span class="date"><em>14</em>2016-01</span>
    	    	<div class="BlogContent" id="blog_content_602336">
    		    		<p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;color:#404040;background-color:#FAFAFA;">
作为一门集百家之长的新语言，Swift 拥有着苹果先天的生态优势，而其在 GitHub 上各种优秀的开源项目也层出不穷。本文作者<a href="http://weibo.com/swiftlanguage" target="_blank" rel="nofollow">@SwiftLanguage</a>&nbsp;从 2014 年 6 月苹果发布 Swift 语言以来，便通过跟踪、归纳、汇总持续更新《<a href="https://github.com/ipader/SwiftGuide" target="_blank" rel="nofollow">Swift 语言指南</a>》半年有余。近日，他站在个人的角度，将 2014 年 Swift 开源项目做了一个甄别、筛选。
</p>
<p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;color:#404040;background-color:#FAFAFA;">
　　【<strong>“轮子”】</strong>
</p>
<p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;color:#404040;background-color:#FAFAFA;">
　　<strong>工具类</strong>
</p>
<ul>
<li>
<a href="https://github.com/SwiftyJSON/SwiftyJSON" target="_blank" rel="nofollow">SwiftyJSON</a>：GitHub 上最为开发者认可的 JSON 解析类
</li>
<li>
<a href="https://github.com/ankurp/Dollar.swift" target="_blank" rel="nofollow">Dollar.swift</a>：Swift 版 Lo-Dash (或 underscore)函数式工具库
</li>
<li>
<a href="https://github.com/dongri/OAuthSwift" target="_blank" rel="nofollow">OAuthSwift</a>：国外主流网站 OAuth 授权类库
</li>
<li>
<a href="https://github.com/kylef/PathKit" target="_blank" rel="nofollow">PathKit</a>：小而美的路径管理类
</li>
<li>
<a href="https://github.com/DaveWoodCom/XCGLogger" target="_blank" rel="nofollow">XCGLogger</a>：功能完整的日志管理类库
</li>
<li>
<a href="https://github.com/mattt/Surge" target="_blank" rel="nofollow">Surge</a>：基于苹果 Accelerate 高性能计算框架封装库
</li>
<li>
<a href="https://github.com/duemunk/Async" target="_blank" rel="nofollow">Async</a>：简洁的后台执行代码封装库
</li>
<li>
<a href="https://github.com/mattt/Euler" target="_blank" rel="nofollow">Euler</a>：直观、简洁的数学表达式∛27÷3+∑[3,1,2]
</li>
<li>
<a href="https://github.com/varshylmobile/LocationManager" target="_blank" rel="nofollow">LocationManager</a>：地理位置管理封装库
</li>
<li>
<a href="https://github.com/ArtSabintsev/Siren" target="_blank" rel="nofollow">Siren</a>：当应用更新时，通知用户并提供 App Store 链接
</li>
<li>
<a href="https://github.com/Thomvis/BrightFutures" target="_blank" rel="nofollow">BrightFutures</a>：漫长或复杂计算由独立线程异步来完成
</li>
</ul>
<p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;color:#404040;background-color:#FAFAFA;">
　　<strong>存储类</strong>
</p>
<ul>
<li>
<a href="https://github.com/stephencelis/SQLite.swift" target="_blank" rel="nofollow">SQLite.swift</a>：简单、轻量，使用上最 SQL 的 SQLite 封装库
</li>
<li>
<a href="https://github.com/realm/realm-cocoa" target="_blank" rel="nofollow">Realm</a>：志向代替 Core Data 和 SQLite 的移动数据库
</li>
</ul>
<p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;color:#404040;background-color:#FAFAFA;">
　　<strong>网络类</strong>
</p>
<ul>
<li>
<a href="https://github.com/Alamofire/Alamofire" target="_blank" rel="nofollow">Alamofire</a>：著名的 AFNetworking 网络基础库 Swift 语言版
</li>
<li>
<a href="https://github.com/daltoniam/starscream" target="_blank" rel="nofollow">starscream</a>：WebSocket 客户端类库
</li>
</ul>
<p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;color:#404040;background-color:#FAFAFA;">
　　<strong>图片类</strong>
</p>
<ul>
<li>
<a href="https://github.com/kaishin/ImageScout" target="_blank" rel="nofollow">ImageScout</a>：最小网络代价获得图片大小及类型
</li>
<li>
<a href="https://github.com/indragiek/DominantColor" target="_blank" rel="nofollow">DominantColor</a>：提取图片主色示例项目
</li>
<li>
<a href="https://github.com/gavinbunney/Toucan" target="_blank" rel="nofollow">Toucan</a>：小而美的图片变换及处理类
</li>
<li>
<a href="https://github.com/kaishin/gifu" target="_blank" rel="nofollow">gifu</a>：高性能 GIF 显示类库
</li>
<li>
<a href="https://github.com/Haneke/HanekeSwift" target="_blank" rel="nofollow">HanekeSwift</a>：轻量带缓存高性能图片加载组件
</li>
</ul>
<p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;color:#404040;background-color:#FAFAFA;">
　　<strong>界面类</strong>
</p>
<ul>
<li>
<a href="https://github.com/Ramotion/animated-tab-bar" target="_blank" rel="nofollow">animated-tab-bar</a>：灵动的动画标签栏类库，storyboard 中使用
</li>
<li>
<a href="https://github.com/ortuman/SwiftForms" target="_blank" rel="nofollow">SwiftForms</a>：表单递交库，快速开发利器
</li>
<li>
<a href="https://github.com/ariok/BWWalkthrough" target="_blank" rel="nofollow">BWWalkthrough</a>：界面切换中加入灵动的动画效果
</li>
<li>
<a href="https://github.com/kevinzhow/PNChart-Swift" target="_blank" rel="nofollow">PNChart-Swift</a>：带动画效果的图表控件库
</li>
<li>
<a href="https://github.com/codestergit/SweetAlert-iOS" target="_blank" rel="nofollow">SweetAlert-iOS</a>：带动画效果弹窗封装类
</li>
<li>
<a href="https://github.com/Ramotion/animated-tab-bar" target="_blank" rel="nofollow">AnimatedTabBar</a>：灵动的动画标签栏类库
</li>
<li>
<a href="https://github.com/kentya6/KYCircularProgress" target="_blank" rel="nofollow">KYCircularProgress</a>：简单、实用路径可定进程条
</li>
<li>
<a href="https://github.com/FahimF/FloatLabelFields" target="_blank" rel="nofollow">FloatLabelFields</a>：Float Label Pattern 浮动标签输入效果类
</li>
<li>
<a href="https://github.com/varshylmobile/MapManager" target="_blank" rel="nofollow">MapManager</a>：地图及路径管理封装库
</li>
</ul>
<p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;color:#404040;background-color:#FAFAFA;">
　　<strong>框架类</strong>
</p>
<ul>
<li>
<a href="https://github.com/facebook/AsyncDisplayKit" target="_blank" rel="nofollow">AsyncDisplayKit</a>：提供界面的高流畅性切换及更灵敏的响应
</li>
<li>
<a href="https://github.com/robb/Cartography" target="_blank" rel="nofollow">Cartography</a>：基于代码级的自动布局封装框架
</li>
<li>
<a href="https://github.com/mutualmobile/MMWormhole" target="_blank" rel="nofollow">MMWormhole</a>：iOS 扩展与宿主应用的通讯框架
</li>
<li>
<a href="https://github.com/colemancda/NetworkObjects" target="_blank" rel="nofollow">NetworkObjects</a>：轻量版 HttpServer 框架，跨平台解决方案
</li>
</ul>
<p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;color:#404040;background-color:#FAFAFA;">
　　【<strong>“车子”】</strong>
</p>
<p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;color:#404040;background-color:#FAFAFA;">
　　<strong>示例项目</strong>
</p>
<ul>
<li>
<a href="https://github.com/lexrus/LTMorphingLabel" target="_blank" rel="nofollow">LTMorphingLabel</a>：特赞的文字飘入飘出效果
</li>
<li>
<a href="https://github.com/tadija/AEXML" target="_blank" rel="nofollow">AEXML</a>：简单又易于的 XML 解析类及示例
</li>
<li>
<a href="https://github.com/victor/whereami" target="_blank" rel="nofollow">whereami</a>：通过命令行获得当前设备地理位置
</li>
<li>
<a href="https://github.com/ochococo/Design-Patterns-In-Swift" target="_blank" rel="nofollow">Design-Patterns</a>：如何使用常用设计模式及示例
</li>
<li>
<a href="https://github.com/robb/hamburger-button" target="_blank" rel="nofollow">HamburgerButton-Menu/Close</a>：无论<a href="http://robb.is/working-on/a-hamburger-button-transition/" target="_blank" rel="nofollow">设计</a>还是代码，都进行了精雕细琢
</li>
<li>
<a href="https://github.com/fastred/HamburgerButton" target="_blank" rel="nofollow">HamburgerButton-Menu/Back</a>：对应<a href="http://holko.pl/2014/07/15/hamburger-button-animation/" target="_blank" rel="nofollow">博文</a>可知，开发者动画开发经验相当丰富
</li>
</ul>
<p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;color:#404040;background-color:#FAFAFA;">
　　<strong>完整应用</strong>
</p>
<ul>
<li>
<a href="https://github.com/tnantoka/edhita" target="_blank" rel="nofollow">edhita</a>：支持 Markdown, HTML 预览的文本编辑器
</li>
<li>
<a href="https://github.com/mozilla/firefox-ios" target="_blank" rel="nofollow">firefox-ios</a>：来自 Mozilla 开发团队大型纯 Swift 项目
</li>
<li>
<a href="https://github.com/JakeLin/SwiftWeather" target="_blank" rel="nofollow">SwiftWeather</a>：清新淡雅持续改进天气预报项目
</li>
<li>
<a href="https://github.com/lexrus/VPNOn" target="_blank" rel="nofollow">VPNOn</a>：驻在通知中心内的 VPN 开关应用
</li>
<li>
</li>
</ul>
    		    	</div>
						<div class="bottom">
			发布于 5小时前，
						阅读(2) | 评论(0) |  投票(0) | 收藏(0) 
    		<a href="http://my.oschina.net/u/1244672/blog/602336" class="fullcontent">阅读全文...</a>
    	</div>
		      </li>
          <li class="Blog" id="blog_601768">      
		<div class="BlogTitle">
    		<div class="title">
            	<h2>
					<span class="icon" style="background:#44ac57;" title="原创博客">原</span>																									<a href="http://my.oschina.net/u/1244672/blog/601768">SSKeychain 简单好使</a></h2>        		<div class="outline">
            	  <span class="catalog">
										分类: 
						<a href="http://my.oschina.net/u/1244672/blog?catalog=3369076">第三方库</a>										  </span>		  
        		              	              	</div>
    		</div>		
		</div>
        <span class="date"><em>13</em>2016-01</span>
    	    	<div class="BlogContent" id="blog_content_601768">
    		    		<p>
不多说了 &nbsp;直接贴代码了，
</p>
<p>
</p><p>
<span>//</span><span>应用名称</span><span>(</span><span>保证唯一性</span><span>)</span>
</p>
<p>
<span>#define ServiceName @</span><span>"com.小武哥.shuai"</span>
</p>
<p>
<span>//</span><span>账号</span>
</p>
<p>
<span>#define Account @</span><span>"test"</span>
</p>
************】
<p></p>
<p>
</p><p>
<span>&nbsp;</span><span>CFUUIDRef</span><span> uuid = </span><span>CFUUIDCreate</span><span>(</span><span>NULL</span><span>);</span><span>assert</span><span>(uuid != </span><span>NULL</span><span>);</span><span>CFStringRef</span><span> uuidStr = </span><span>CFUUIDCreateString</span><span>(</span><span>NULL</span><span>, uuid);</span>
</p>
<p>
<span>&nbsp; &nbsp; </span><span>NSString</span><span> *strUUID = [</span><span>NSString</span><span> </span><span>stringWithFormat</span><span>:</span><span>@"%@"</span><span>, uuidStr];</span>
</p>
<p>
<span>//&nbsp; &nbsp; </span><span>生成</span><span>uuid</span>
</p>
<p>
<span>&nbsp; &nbsp; [</span><span>SSKeychain</span><span> </span><span>setPassword</span><span>:strUUID </span><span>forService</span><span>:</span><span>ServiceName</span><span> </span><span>account</span><span>:</span><span>@"myUUID"</span><span>];</span><span>//</span><span>设置</span><span>UUID </span><span>保存到钥匙串</span>
</p>
<p>
<span>&nbsp;&nbsp; &nbsp;</span>
</p>
<p>
<span>&nbsp;&nbsp; &nbsp;</span>
</p>
<p>
<span>&nbsp; &nbsp; </span><span>NSString</span><span> *passWord = </span><span>@"123456"</span><span>;</span>
</p>
<p>
<span>&nbsp; &nbsp; </span><span>if</span><span> (![</span><span>SSKeychain</span><span> </span><span>passwordForService</span><span>:</span><span>ServiceName</span><span> </span><span>account</span><span>:</span><span>Account</span><span>]) {</span><span>//</span><span>查看本地是否存储指定</span><span> serviceName </span><span>和</span><span> account </span><span>的密码</span>
</p>
<p>
<span>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span>
</p>
<p>
<span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>//</span><span>如果没设置密码则</span><span> </span><span>设定密码</span><span> </span><span>并存储</span>
</p>
<p>
<span>&nbsp; &nbsp; &nbsp; &nbsp; [</span><span>SSKeychain</span><span> </span><span>setPassword</span><span>:passWord </span><span>forService</span><span>:</span><span>ServiceName</span><span> </span><span>account</span><span>:</span><span>Account</span><span>];</span>
</p>
<p>
<span>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span>
</p>
<p>
<span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>//</span><span>打印密码信息</span>
</p>
<p>
<span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>NSString</span><span> *retrieveuuid = [</span><span>SSKeychain</span><span> </span><span>passwordForService</span><span>:</span><span>ServiceName</span><span> </span><span>account</span><span>:</span><span>Account</span><span>];</span>
</p>
<p>
<span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>NSLog</span><span>(</span><span>@"SSKeychain</span><span>存储显示</span><span>: </span><span>未安装过</span><span>:%@"</span><span>, retrieveuuid);</span>
</p>
<p>
<span>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span>
</p>
<p>
<span>&nbsp; &nbsp; }</span><span>else</span><span>{</span>
</p>
<p>
<span>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span>
</p>
<p>
<span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>//</span><span>曾经安装过</span><span> </span><span>则直接能打印出密码信息</span><span>(</span><span>即使删除了程序</span><span> </span><span>再次安装也会打印密码信息</span><span>) </span><span>区别于</span><span> NSUSerDefault</span>
</p>
<p>
<span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>NSString</span><span> *retrieveuuid = [</span><span>SSKeychain</span><span> </span><span>passwordForService</span><span>:</span><span>ServiceName</span><span> </span><span>account</span><span>:</span><span>Account</span><span>];</span>
</p>
<p>
<span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>NSLog</span><span>(</span><span>@"SSKeychain</span><span>存储显示</span><span> :</span><span>已安装过</span><span>:%@"</span><span>, retrieveuuid);</span>
</p>
<p>
<span>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span>
</p>
<p>
<span>&nbsp; &nbsp; }</span>
</p>
<p>
<span>&nbsp;&nbsp; &nbsp;</span>
</p>
<p>
<span>&nbsp; &nbsp; </span><span>NSArray</span><span> *arr = [</span><span>SSKeychain</span><span> </span><span>accountsForService</span><span>:</span><span>ServiceName</span><span>];</span><span>//</span><span>获取所有账号</span>
</p>
<p>
<span>&nbsp; &nbsp; </span><span>NSLog</span><span>(</span><span>@"%@== accountForServiceName:%@"</span><span>,arr,</span><span>ServiceName</span><span>);</span>
</p>
<p>
<span>&nbsp; &nbsp; </span><span>NSString</span><span> *mmm1 = [[arr </span><span>objectAtIndex</span><span>:</span><span>0</span><span>] </span><span>objectForKey</span><span>:</span><span>@"acct"</span><span> ] ;</span>
</p>
<p>
<span>&nbsp; &nbsp; </span><span>NSString</span><span> *mmm2 = [[arr </span><span>objectAtIndex</span><span>:</span><span>1</span><span>] </span><span>objectForKey</span><span>:</span><span>@"acct"</span><span> ] ;</span>
</p>
<p>
<span></span>
</p>
<p>
<span>&nbsp; &nbsp; </span><span>NSLog</span><span>(</span><span>@"%@----%@--gaigaigi"</span><span>,mmm1,mmm2);</span>
</p>
<p>
<span>//&nbsp; &nbsp; </span><span>打印保存的账号信息是否存在</span>
</p>
*********
<p></p>
<p>
<span style="color:#E53333;background-color:#FFFFFF;">问题 ：</span>
</p>
<p>
<span style="color:#E53333;background-color:#FFFFFF;">有可能</span><span style="color:#E53333;background-color:#FFFFFF;">SSKeychain.h 提示报错，引用文件</span>
</p>
<p>
<span style="color:#E53333;background-color:#FFFFFF;">&nbsp; 把他拆开引用 就好了</span>
</p>
<p>
</p><p>
<span style="color:#E53333;background-color:#FFFFFF;">//#import &lt;SSKeychain/SSKeychainQuery.h&gt;</span>
</p>
<p>
<span style="color:#E53333;background-color:#FFFFFF;">#import </span><span style="color:#E53333;background-color:#FFFFFF;">"SSKeychain.h"</span>
</p>
<p>
<span style="color:#E53333;background-color:#FFFFFF;">#import </span><span style="color:#E53333;background-color:#FFFFFF;">"SSKeychainQuery.h"</span>
</p>
git地址 ：https://github.com/soffes/sskeychain
<p></p>
    		    	</div>
						<div class="bottom">
			发布于 1天前，
						阅读(11) | 评论(0) |  投票(0) | 收藏(0) 
    		<a href="http://my.oschina.net/u/1244672/blog/601768" class="fullcontent">阅读全文...</a>
    	</div>
		      </li>
          <li class="Blog" id="blog_601755">      
		<div class="BlogTitle">
    		<div class="title">
            	<h2>
					<span class="icon" style="background:#44ac57;" title="原创博客">原</span>																									<a href="http://my.oschina.net/u/1244672/blog/601755">lldb 小用</a></h2>        		<div class="outline">
            	  <span class="catalog">
										分类: 
						<a href="http://my.oschina.net/u/1244672/blog?catalog=3369355">涨姿势</a>										  </span>		  
        		              	              	</div>
    		</div>		
		</div>
        <span class="date"><em>13</em>2016-01</span>
    	    	<div class="BlogContent" id="blog_content_601755">
    		    		<p>
<span><b>image lookup --address 0x00000001056c2c70 &nbsp; </b></span><span><b>查看地址信息</b></span> 
</p>
<p>
<span><b></b></span> 
</p>
<p>
<span><b>po </b></span><span><b>输出</b></span><span><b>oc</b></span><span><b>对象 如 &nbsp;nstring *mmm = @"hhh"; </b></span> 
</p>
<p>
<b> <span><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;po mmm &nbsp; &nbsp;则输出值为 &nbsp; mmm 了</b></span> </b> 
</p>
<b> </b> 
<p>
<span><b>p </b></span><span><b>强改类型</b></span> 
</p>
<p>
<span><b>call </b></span><span><b>调用方法</b></span><span><b>&nbsp; </b></span><span><b>一般用在断点调试 &nbsp;如&nbsp; </b></span> 
</p>
<p>
<b> <span><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call [self getSportTags];</b></span> </b> 
</p>
<b> </b><b>expr 改变值 &nbsp;如&nbsp;</b> 
<p>
<b> <span><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression mmm = @"xxx"; &nbsp;值就变成 xxx 了</b></span> </b> 
</p>
<p>
<b><span><b>bt &nbsp;查看堆栈信息 &nbsp;一般奔溃 debug时候看</b></span></b>
</p>
<p>
<b><span><b><br>
</b></span></b> 
</p>
<b> </b>
    		    	</div>
						<div class="bottom">
			发布于 1天前，
						阅读(10) | 评论(0) |  投票(0) | 收藏(0) 
    		<a href="http://my.oschina.net/u/1244672/blog/601755" class="fullcontent">阅读全文...</a>
    	</div>
		      </li>
          <li class="Blog" id="blog_600117">      
		<div class="BlogTitle">
    		<div class="title">
            	<h2>
					<span class="icon" style="background:#44ac57;" title="原创博客">原</span>																									<a href="http://my.oschina.net/u/1244672/blog/600117"> IOS MagicRecord 详解</a></h2>        		<div class="outline">
            	  <span class="catalog">
										分类: 
						<a href="http://my.oschina.net/u/1244672/blog?catalog=3369076">第三方库</a>										  </span>		  
        		              	              	</div>
    		</div>		
		</div>
        <span class="date"><em>09</em>2016-01</span>
    	    	<div class="BlogContent" id="blog_content_600117">
    		    		<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-family:&#39;Times New Roman&#39;;">刚开始接触IOS不久，尝试着翻译一些博客，积累技术，与大家共享。</span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-family:&#39;Times New Roman&#39;;">本篇内容讲解的是MagicRecord的使用，是对CoreData的深度封装，原文地址：</span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-family:&#39;Times New Roman&#39;;"><a target="_blank" href="http://www.raywenderlich.com/56879/magicalrecord-tutorial-ios" rel="nofollow">http://www.raywenderlich.com/56879/magicalrecord-tutorial-ios</a>&nbsp;欢迎大家指正，谢谢！</span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-family:&#39;Times New Roman&#39;;">CoreData作为Mac OS 和IOS开发数据持久化和用户数据检索的不可缺少的一部分已经好几年了。为了使API对开发者更容易使用，也为了App的整体化，苹果也在不间断的更新CoreData的API。</span> </p> 
<blockquote> 
</blockquote> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-family:&#39;Times New Roman&#39;;">也就是说，即使对于一个精通IOS开发的人CoreData依旧使用起来很困难。即使你会使用CoreData，每天重复性枯燥的使用CoreData也会变得很笨重，MagicalPanda创建的一个第三方库为这种工作带来了好消息。MagicalRecord 致力于更快捷和容易的使用CoreData。</span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-family:&#39;Times New Roman&#39;;"><span></span>MagicalRecord 使用方便，特别流行。正如作者所说，MagicalRecord 致力于使CoreData的代码更简洁，更简单的获取数据，并且使用最优化的操作。他是怎么做到的呢？它提供了方便的方法，包含了CoreData使用的查询更新等的公用模板。它的设计受到了Ruby on Rails'sActiveRecord 持续性系统的影响。<br> </span> </p> 
<blockquote> 
</blockquote> 
<span style="color:#333333;font-size:14px;line-height:26px;font-family:&#39;Times New Roman&#39;;background-color:#FFFFFF;"><span></span>但这些理论已经足够了，请跟着这篇教程来见证MagicalRecord怎样应用。在这篇教程里，你将会创建一个app，该App将记录你所喜爱啤酒的一个踪迹。它将允许你做到以下几个事情：<br> </span> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;"></span> 
<blockquote> 
</blockquote> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-family:&#39;Times New Roman&#39;;">1.添加你所喜爱的一种啤酒。</span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-family:&#39;Times New Roman&#39;;">2.评价该种啤酒。<br> </span> </p> 
<blockquote> 
</blockquote> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-family:&#39;Times New Roman&#39;;">3.为该种啤酒添加一个笔记。</span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-family:&#39;Times New Roman&#39;;">4.记录该种啤酒的照片----如果你有太多有意义的记录</span> </p> 
<h6> <a name="t0" rel="nofollow"></a> <p> <span style="font-weight:normal;"></span> </p> </h6> 
<h2> <a name="t1" rel="nofollow"></a><span style="font-family:&#39;Courier New&#39;;font-size:24px;">入门</span> </h2> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> &nbsp; &nbsp; &nbsp; 要学习本教程，你首先要对&nbsp;Core Data有基本的理解，只需要了解基础的&nbsp;Core Data教程，不需要有任何高级的了解。 </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> &nbsp; &nbsp; &nbsp; 如果你一点也不了解CoreData，你最好先了解下<a target="_blank" href="http://www.raywenderlich.com/?p=934" rel="nofollow">&nbsp;introductory Core Data tutorial</a>，然后再继续阅读本教程。 </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> &nbsp; &nbsp; &nbsp; 首先，请先下载<a target="_blank" href="http://download.csdn.net/detail/dongtaochen2039/8107163" rel="nofollow">Starter Project</a>，如果已经下载好了，请继续，把工程跑起来，你就可以看到结果。 </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-size:18px;"><span style="line-height:25.87px;font-size:16px;"><span style="line-height:25.87px;"><span style="font-family:&#39;Courier New&#39;;"><img alt="" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/09173124_Amfa.jpg"><br> </span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;">这是一个带有添加按钮、<span style="line-height:25.87px;">tableView和搜索栏（下拉table会出现）、可以按照评价或者字母排序的Segment Controller</span>的<span style="line-height:25.87px;">navigation controller 。如果你点击了增加按钮，你讲进入并且查看到啤酒的详尽信息，如果你尝试进入其他页面，此信息还未保存。</span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;">现在我们看一下代码，在工程的<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">Navigator</span><span style="line-height:25.87px;">&nbsp;里面你将看到：</span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;">1.此工程下的所有的ViewController</span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;">2.一个<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">ImageSaver</span><span style="line-height:25.87px;">&nbsp;工具类</span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;">3.稍后用来初始化数据的图片。</span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;">4.一个有一些被UI使用的图片的<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">Images.xcassets库</span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;">5.<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">AMRating</span><span style="line-height:25.87px;">&nbsp;---一个用来评价控制的第三方库</span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;">6.最后是<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">MagicalRecord</span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;">当你看代码的时候，你可能注意到了没有<span style="line-height:25.87px;">&nbsp;Core Data模型，在<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">AppDelegate.m里面也不包含任何启动core data的代码。在启动的时候看不到CoreData对任何工程来说都是最完美的方案，只要记住我们就是在使用CoreData的路上。</span></span></span></span> </p> 
<h2> <a name="t2" rel="nofollow"></a><span style="font-family:&#39;Courier New&#39;;font-size:24px;"><span style="line-height:25.87px;">使用</span><span style="line-height:25.87px;">MagicalRecord开发</span></span> </h2> 
<h3> 
 <div> 
  <span style="font-size:12px;">&nbsp;&nbsp;</span> 
  <span style="font-weight:normal;"><span style="font-size:12px;">&nbsp; &nbsp; &nbsp;</span><span style="font-size:14px;">&nbsp;</span></span> 
  <span style="font-weight:normal;"><span style="font-family:&#39;Times New Roman&#39;;font-size:14px;">&nbsp;在工程的<span style="vertical-align:baseline;">Navigator栏里面展开<span style="vertical-align:baseline;">MagicalRecord</span>&nbsp;文件夹，在这个文件夹里面你将会看见Categories 和Core文件夹以及CoreData+MagicalRecord.h文件。展开<span style="vertical-align:baseline;">Categories</span>&nbsp;文件夹打开&nbsp;<span style="vertical-align:baseline;">NSManagedObjectModel+MagicalRecord.h</span>.文件你将会发现头文件里面的方法都以&nbsp;<span>MR_作为前缀。事实上如果你看完了</span>Categories 文件夹里面所有的文件你就会注意到所有的方法都是以MR_作为前缀的。我不知道你为前缀的方式。</span></span></span> 
 </div> <span style="font-family:&#39;Times New Roman&#39;;font-size:14px;"><span style="vertical-align:baseline;font-weight:normal;"></span></span> 
 <div> 
  <span style="font-weight:normal;"><span style="font-family:&#39;Times New Roman&#39;;font-size:14px;">&nbsp; &nbsp; &nbsp;在工程的<span style="vertical-align:baseline;">Navigator栏里面展开<span style="vertical-align:baseline;"></span><span style="vertical-align:baseline;">Supporting Files</span>文件夹打开<span style="vertical-align:baseline;">BeerTracker-Prefix.pch文件，该文件是工程的预编译文件，在文件里面增加如下代码：</span></span></span></span> 
 </div> </h3> 
<div> 
 <div> 
  <div> 
   <div> 
    <b>[html]</b>&nbsp; 
    <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
    <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
    <div> 
    </div> 
   </div> 
  </div> 
  <ol> 
   <li> <span style="color:black;background-color:inherit;"><span style="color:#993300;font-weight:bold;background-color:inherit;">&lt;</span><span style="color:#993300;font-weight:bold;background-color:inherit;">span</span><span style="background-color:inherit;">&nbsp;</span><span style="color:red;background-color:inherit;">style</span><span style="background-color:inherit;">=</span><span style="color:blue;background-color:inherit;">"font-family:Times&nbsp;New&nbsp;Roman;font-size:14px;"</span><span style="color:#993300;font-weight:bold;background-color:inherit;">&gt;</span><span style="background-color:inherit;">#define&nbsp;MR_SHORTHAND&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">#import&nbsp;“CoreData+MagicalRecord.h”<span style="color:#993300;font-weight:bold;background-color:inherit;">&lt;/</span><span style="color:#993300;font-weight:bold;background-color:inherit;">span</span><span style="color:#993300;font-weight:bold;background-color:inherit;">&gt;</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  </ol> 
 </div> 
 <pre></pre> 
 <span style="font-family:&#39;Times New Roman&#39;;">这两行代码使得<span style="line-height:25.87px;">MagicalRecord 在你的工程里面起作用。</span></span> 
</div> 
<div> 
 <span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;">1.MR_SHORTHAND&nbsp;告诉MagicalRecord 你不想在任何的MagicalRecord方法前加MR_前缀。你可以查看MagicalRecord+ShorthandSupport.m文件来查看这句话是怎么起作用的。由于这个已经超出了我们本教程讨论的范围，我们将不在这里讨论它。</span></span></span></span></span></span> 
</div> 
<div> 
 <span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;">2.通过导入CoreData+MagicalRecord.h文件，你可以在你的工程里访问MagicalRecord&nbsp;的任何一个API，而不用在每一个你需要用到该API的头文件里面导入。</span></span></span></span></span></span> 
</div> 
<div> 
 <span style="font-family:&#39;Times New Roman&#39;;"><span style="line-height:25.87px;">注意：如果你想在你自己的工程里加<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">MagicalRecord</span><span style="line-height:25.87px;">&nbsp;，在<a target="_blank" href="https://github.com/magicalpanda/MagicalRecord/wiki/Getting-Started-with-MagicalRecord" rel="nofollow">&nbsp;GitHub page</a>上有一些小贴士。</span></span><span style="line-height:25.87px;">你也可以按照我在项目里面 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span></span>加<span style="font-style:inherit;vertical-align:baseline;">MagicalRecord</span>&nbsp;的方式来添加。</span></span> 
</div> 
<div> 
 <span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;"><span></span>1.从<a target="_blank" href="https://github.com/magicalpanda/MagicalRecord" rel="nofollow">GitHub</a>上面下载<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">MagicalRecord</span><span style="line-height:25.87px;">&nbsp;项目。</span></span></span></span> 
</div> 
<div> 
 <span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;"><span></span>2.拖拽<span style="line-height:25.87px;"><span style="font-style:inherit;vertical-align:baseline;">MagicalRecord</span>&nbsp;目录到你的XCode工程。</span></span></span></span></span> 
</div> 
<div> 
 <span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;"><span></span>3.确保<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">CoreData.framework 包被添加进了你的工程设置里面（<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">Build Phases\Link Binary&nbsp;</span>）</span></span></span></span></span></span> 
</div> 
<div> 
 <span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="font-family:&#39;Times New Roman&#39;;"><span></span>4.在你工程预编译头文件<span style="line-height:25.87px;">#ifdef __OBJC__代码的下面添加如下代码：</span></span></span></span></span></span></span> 
</div> 
<div> 
 <span style="color:#006837;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;"><span></span></span></span></span></span></span></span></span></span> 
 <div> 
  <div> 
   <div> 
    <b>[html]</b>&nbsp; 
    <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
    <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
    <div> 
    </div> 
   </div> 
  </div> 
  <ol> 
   <li> <span style="color:black;background-color:inherit;"><span style="color:#993300;font-weight:bold;background-color:inherit;">&lt;</span><span style="color:#993300;font-weight:bold;background-color:inherit;">span</span><span style="background-color:inherit;">&nbsp;</span><span style="color:red;background-color:inherit;">style</span><span style="background-color:inherit;">=</span><span style="color:blue;background-color:inherit;">"font-family:Times&nbsp;New&nbsp;Roman;font-size:14px;"</span><span style="color:#993300;font-weight:bold;background-color:inherit;">&gt;</span><span style="background-color:inherit;">#define&nbsp;MR_SHORTHAND&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">#import&nbsp;“CoreData+MagicalRecord.h”<span style="color:#993300;font-weight:bold;background-color:inherit;">&lt;/</span><span style="color:#993300;font-weight:bold;background-color:inherit;">span</span><span style="color:#993300;font-weight:bold;background-color:inherit;">&gt;</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  </ol> 
 </div> 
 <h2> <a name="t4" rel="nofollow"></a><span style="font-family:Helvetica, sans-serif;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="line-height:25.87px;"><span style="font-size:24px;"><span>啤酒</span>模型</span></span></span></span></span></span></span></span> </h2> 
</div> 
<div> 
 <span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;">为了记录你所喜爱啤酒的踪迹，你将需要一个模型，因为你不能寄希望于自己记住他们，对吧？从<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">Xcode 的菜单栏选中<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">File\New\File…，在列表的左边选中<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">Core Data</span><span style="line-height:25.87px;">&nbsp;并且从选项里面选中<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">Data Model。</span></span></span></span></span></span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;font-size:18px;"><span style="line-height:25.87px;"><span style="font-weight:bold;"><span style="color:#006837;line-height:25.87px;font-size:16px;font-style:inherit;vertical-align:baseline;"><img alt="" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/09173124_R3Yn.jpg"><br> </span></span></span></span> 
</div> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;">把文件命名为<span style="line-height:25.87px;">&nbsp;</span><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">BeerModel.xcdatamodeld</span><span style="line-height:25.87px;">&nbsp;，放到<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">BeerTracker 文件夹里面。</span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;">在工程的导航栏里面选中刚创建的文件<span style="line-height:25.87px;">&nbsp;</span><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">BeerModel.xcdatamodeld来编辑。增加一个名字为Beer的实体（<span style="line-height:25.87px;">entity&nbsp;</span>），增加一个类型为String名字为Name的属性。</span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="font-family:Helvetica, sans-serif;font-size:16px;color:#006837;"><strong>&nbsp;<img alt="" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/09173125_8Zv0.jpg"><br> </strong></span><span style="font-family:&#39;Times New Roman&#39;;">再增加一个名字为<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">BeerDetails的实体，这个实体将记录啤酒的详细信息。例如：用户评价、笔记和在哪里找到图片。用相应的类型给<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">BeerDetails增加下列的属性。</span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;"></span></span> </p> 
<ul> 
 <li> <span style="font-family:&#39;Times New Roman&#39;;">Attribute:&nbsp;<span style="font-style:inherit;vertical-align:baseline;">image</span>&nbsp;Type:&nbsp;<span style="font-style:inherit;vertical-align:baseline;">String</span></span> </li> 
 <li> <span style="font-family:&#39;Times New Roman&#39;;">Attribute:&nbsp;<span style="font-style:inherit;vertical-align:baseline;">note</span>&nbsp;Type:&nbsp;<span style="font-style:inherit;vertical-align:baseline;">String</span></span> </li> 
 <li> <span style="font-family:&#39;Times New Roman&#39;;">Attribute:&nbsp;<span style="font-style:inherit;vertical-align:baseline;">rating</span>&nbsp;Type:&nbsp;<span style="font-style:inherit;vertical-align:baseline;">Integer 16</span></span> </li> 
</ul> 
<img alt="" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/09173125_pNBt.jpg"> 
<br> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-size:10px;"><span style="line-height:25.87px;font-family:Helvetica, sans-serif;font-size:16px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><strong><br> </strong></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;">下一步你将创建这两个实体之间的关系（RelationShip），让<span style="line-height:25.87px;">Beer 实体能够知道那个<span style="line-height:25.87px;">BeerDetails实例隶属于自己。在<span style="line-height:25.87px;">BeerDetails实体下面创建一个新的关系（<span style="line-height:25.87px;">relationship&nbsp;</span>），命名为<span style="line-height:25.87px;">“beer”，以Beer为目的（<span style="line-height:25.87px;">destination）&nbsp;</span>，通过选择目标<span style="line-height:25.87px;">“beer”实体，你将建立这两个实体之间的第一部分关系。</span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="color:#006837;font-family:Helvetica, sans-serif;"><span style="line-height:25.87px;"><span style="font-weight:bold;"><span style="line-height:25.87px;font-size:16px;"><img alt="" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/09173125_Re4Z.jpg"><br> </span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;">通过选择Beer实体来完成建立这个关系。增加一个命名为<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">beerDetails的关系，以<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">BeerDetails为目的（destination）与上面的<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">Beer相对应</span></span>。现在你的<span style="line-height:25.87px;">Beer 实体将有一个<span style="line-height:25.87px;">BeerDetails 实体来对应自己。</span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="color:#006837;font-family:Helvetica, sans-serif;"><span style="line-height:25.87px;"><span style="font-weight:bold;"><span style="line-height:25.87px;font-size:16px;font-style:inherit;vertical-align:baseline;"><img alt="" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/09173125_pnfA.jpg"><br> </span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;">下一步是创建类文件来展示实体，这一步你将用到XCode，但是由于Xcode操作的一些怪癖，你需要细心些。</span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;">首先在XCode工程的导航栏里面通过选中<span style="line-height:25.87px;">Core Data模型来编辑它。确保你在<span style="line-height:25.87px;">ENTITIES 面板里面高亮了Beer实体-------而不是<span style="line-height:25.87px;">BeerDetails 实体</span>。</span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;">下一步是在XCode的菜单栏里面执行<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">Editor\Create NSManagedObject Subclass… 检查<span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;">BeerModel，然后选择下一步。然后管理上面的实体，选择Beer和BeerDetail的复选框，如果没有被默认选中，双击确认<span style="font-family:Helvetica, sans-serif;font-size:16px;font-style:inherit;vertical-align:baseline;color:#006837;line-height:25.8799991607666px;"><strong>Beer</strong></span><span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">&nbsp;是高亮的。点击下一步，并且创建，然后就会生成和上面创建的<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Beer</strong></span>&nbsp;和<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>BeerDetails</strong></span>&nbsp;实体相对应的两个类。留意一下新建的这两个类，你就会发现每个类都有和你刚刚定义的实体属性相对应的属性。</span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">&nbsp; &nbsp; 特别留意下，检查下代表两个实体关系的属性，你就会发现Beer类拥有&nbsp;<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>BeerDetails *</strong></span>&nbsp;类型的一个变量<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>beerDetails</strong></span>&nbsp;，你还将看到<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>BeerDetails</strong></span>&nbsp;类有一个<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>NSManagedObject*</strong></span>类型的命名为beer的变量，为什么不是&nbsp;<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Beer *&nbsp;</strong></span><span style="font-style:inherit;vertical-align:baseline;">类型的属性呢？这是因为在Xcode里面“Create NSManagedObject Subclass”命令的一个限制。这对该工程没有什么影响，因此忽略它吧。</span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;">注意：被好奇心折磨着，总是考虑为什么不创建一个<span style="line-height:25.875px;background-color:#EDF0D5;">&nbsp;</span><span style="font-style:inherit;vertical-align:baseline;color:#006837;line-height:25.875px;"><strong>Beer *</strong></span><span style="line-height:25.875px;">&nbsp;类型的变量，看起来，这貌似是Xcode里面<span style="background-color:#EDF0D5;">CreateNSManagedObjectSubclass</span>命令的限制。自从Xcode有了<span style="background-color:#EDF0D5;">Core Data Model</span>，这个命令就应该合乎情理的推断出在彼此的关系里，每一个类的属性都应该包含其他类的类型。然而这个命令不止用来生成类的属性，也被用来生成用来定义这些类型的类的名称，而这个命令并没有智能到来吧两件事情都处理好。一个解决方案是简单的调整一下生成代码，给确定的类设置属性。另一个解决方案是让XCode少做一些事，如果你在生成类代码之前已经很明确的在<span style="background-color:#EDF0D5;">Data Model Inspector里面</span>定义了类名，XCode将生成正确的类属性。</span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="line-height:25.875px;">如果你很好奇Xcode怎么从数据模型生成代码，你可以查看<a target="_blank" href="https://github.com/rentzsch/mogenerator" rel="nofollow">mogenerator</a></span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="font-family:Helvetica, sans-serif;line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="line-height:25.875px;">现在你已经创建了Object数据类。是时候初始化<span style="line-height:25.8799991607666px;">&nbsp;Core Data堆栈了。打开<span style="font-size:16px;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>AppDelegate.m</strong></span><span style="font-style:inherit;vertical-align:baseline;">文件，在<span style="color:#006837;font-family:Courier, monospace;"><strong>application:didFinishLaunchingWithOptions:</strong></span><span style="font-family:Courier, monospace;">方法里面，在return代码前加上下面内容：</span></span></span></span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="font-family:Helvetica, sans-serif;line-height:25.8799991607666px;"><span style="font-family:Courier, monospace;"></span></span></span></span></span></span> </p> 
<div> 
 <div> 
  <div> 
   <b>[objc]</b>&nbsp; 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
   <div> 
   </div> 
  </div> 
 </div> 
 <ol> 
  <li> <span style="color:black;background-color:inherit;"><span style="color:#008200;background-color:inherit;">//&nbsp;Setup&nbsp;CoreData&nbsp;with&nbsp;MagicalRecord</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;"><span style="color:#008200;background-color:inherit;">//&nbsp;Step&nbsp;1.&nbsp;Setup&nbsp;Core&nbsp;Data&nbsp;Stack&nbsp;with&nbsp;Magical&nbsp;Record</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;"><span style="color:#008200;background-color:inherit;">//&nbsp;Step&nbsp;2.&nbsp;Relax.&nbsp;Why&nbsp;not&nbsp;have&nbsp;a&nbsp;beer?&nbsp;Surely&nbsp;all&nbsp;this&nbsp;talk&nbsp;of&nbsp;beer&nbsp;is&nbsp;making&nbsp;you&nbsp;thirsty…</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">[MagicalRecord<span style="color:#DD0000;background-color:inherit;">&nbsp;setupCoreDataStackWithStoreNamed</span><span style="background-color:inherit;">:</span><span style="color:blue;background-color:inherit;">@"BeerModel"</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
 </ol> 
</div> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;">如果你以前创建过<span style="font-family:Helvetica, sans-serif;line-height:25.8799991607666px;">Core Data类型的Xcode工程，你很可能知道在<span style="font-size:16px;">AppDelegate&nbsp;</span>里面初始化<span style="font-size:16px;">Core Data需要多少行代码。而使用MagicalRecord你只需要一行代码。</span></span></span> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;"></span> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="font-family:Helvetica, sans-serif;line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="line-height:25.875px;"><span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;"><span style="font-size:16px;">MagicalRecord提供了一些可选的方法来建立你的Core Data堆栈，可以通过下面的步骤：<br> </span></span></span></span></span></span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="font-family:Helvetica, sans-serif;line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="line-height:25.875px;"><span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;"><span style="font-size:16px;">1.你的后备存储类型。</span></span></span></span></span></span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="font-family:Helvetica, sans-serif;line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="line-height:25.875px;"><span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;"><span style="font-size:16px;">2.你是否需要自动迁移。</span></span></span></span></span></span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="font-family:Helvetica, sans-serif;line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="line-height:25.875px;"><span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;"><span style="font-size:16px;">3.你的Core Data 模型的名字。</span></span></span></span></span></span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-family:Helvetica, sans-serif;"><span style="line-height:25.8799991607666px;">如果你的模型文件和你的工程有一样的基本名称，（比如模型文件的名字是<span style="color:#006837;font-family:Courier, monospace;"><strong>BeerTracker.xcdatamodeld，工程名字是：<strong>BeerTracker）</strong></strong></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-family:Helvetica, sans-serif;"><span style="line-height:25.8799991607666px;"><span style="font-family:Courier, monospace;">然后你就可以使用<span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;">MagicalRecord的下列3个方法，setupCoreDataStack<span style="font-size:16px;">,&nbsp;</span>setupCoreDataStackWithInMemoryStore<span style="font-size:16px;">,或者</span>setupAutoMigratingCoreDataStack<span style="font-size:16px;">.</span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-family:Helvetica, sans-serif;"><span style="line-height:25.8799991607666px;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;"><span style="font-size:16px;">使用名字中有AutoMigrating的方法，你可以改变你的模型，并且可能自动迁移你的存储，MagicalRecord 将帮你操纵这些。通常情况下Core Data则需要你手动添加代码来操作你对模型的一些改变。</span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-family:Helvetica, sans-serif;font-size:18px;"><span style="line-height:25.8799991607666px;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;"><strong>调制Beer实体</strong></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-family:Helvetica, sans-serif;"><span style="line-height:25.8799991607666px;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;">现在你的Core Data模型堆栈已经创建起来了，你可以向<span style="font-size:16px;">list里面添加Beer对象了。打开<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>BeerViewController.h</strong></span><span style="font-style:inherit;vertical-align:baseline;">文件，在<span style="color:#006837;font-family:Courier, monospace;font-size:14px;"><strong><a href="http://my.oschina.net/liwenlong7758" class="referer" target="_blank">@class</a> AMRatingControl后面加：</strong></span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-family:Helvetica, sans-serif;"><span style="line-height:25.8799991607666px;"><span style="font-family:Courier, monospace;"></span></span></span> </p> 
<div> 
 <div> 
  <div> 
   <b>[objc]</b>&nbsp; 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
   <div> 
   </div> 
  </div> 
 </div> 
 <ol> 
  <li> <span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;"><a href="http://my.oschina.net/liwenlong7758" class="referer" target="_blank">@class</a> </span><span style="background-color:inherit;">&nbsp;Beer;&nbsp;&nbsp;</span></span> </li> 
 </ol> 
</div> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;">然后在</span> 
<span style="color:#333333;font-size:14px;font-family:Courier, monospace;line-height:25.8799991607666px;background-color:#FFFFFF;">@interface后面添加一个Beer属性：</span> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;"></span> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-family:Helvetica, sans-serif;"><span style="line-height:25.8799991607666px;"><span style="font-family:Courier, monospace;"></span></span></span> </p> 
<div> 
 <div> 
  <div> 
   <b>[objc]</b>&nbsp; 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
   <div> 
   </div> 
  </div> 
 </div> 
 <ol> 
  <li> <span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">@property</span><span style="background-color:inherit;">&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">nonatomic</span><span style="background-color:inherit;">,&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">strong</span><span style="background-color:inherit;">)&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">Beer</span><span style="background-color:inherit;">&nbsp;*beer;&nbsp;&nbsp;</span></span> </li> 
 </ol> 
</div> 
<br> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;">然后切换到</span> 
<span style="color:#333333;font-size:14px;font-style:inherit;font-family:Helvetica, sans-serif;vertical-align:baseline;line-height:25.8799991607666px;background-color:#FFFFFF;">BeerViewController.m</span> 
<span style="color:#333333;font-size:14px;font-family:Helvetica, sans-serif;line-height:25.8799991607666px;background-color:#FFFFFF;">,然后在顶部导入&nbsp;<span style="font-style:inherit;vertical-align:baseline;">Beer.h</span>&nbsp;和<span style="font-style:inherit;vertical-align:baseline;">BeerDetails.h</span></span> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;"></span> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-family:Helvetica, sans-serif;"><span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"></span></span></span> </p> 
<div> 
 <div> 
  <div> 
   <b>[objc]</b>&nbsp; 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
   <div> 
   </div> 
  </div> 
 </div> 
 <ol> 
  <li> <span style="color:black;background-color:inherit;"><span style="background-color:inherit;">#import&nbsp;"Beer.h"</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;"><span style="background-color:inherit;">#import&nbsp;"BeerDetails.h"</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
 </ol> 
</div> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;">在</span> 
<span style="font-size:14px;color:#006837;font-family:Courier, monospace;line-height:25.8799991607666px;background-color:#FFFFFF;"><strong>viewDidLoad</strong></span> 
<span style="color:#333333;font-size:14px;font-family:Courier, monospace;line-height:25.8799991607666px;background-color:#FFFFFF;">里面加入以下代码：</span> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;"></span> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-family:Courier, monospace;"></span></span> </p> 
<div> 
 <div> 
  <div> 
   <b>[objc]</b>&nbsp; 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
   <div> 
   </div> 
  </div> 
 </div> 
 <ol> 
  <li> <span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)viewDidLoad&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;1.&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;beer,&nbsp;create&nbsp;new&nbsp;Beer</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;(!</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beer</span><span style="background-color:inherit;">)&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beer</span><span style="background-color:inherit;">&nbsp;=&nbsp;[Beer</span><span style="color:#DD0000;background-color:inherit;">&nbsp;createEntity</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;2.&nbsp;If&nbsp;there&nbsp;are&nbsp;no&nbsp;beer&nbsp;details,&nbsp;create&nbsp;new&nbsp;BeerDetails</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;(!</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beer</span><span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">)&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beer</span><span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">&nbsp;=&nbsp;[BeerDetails</span><span style="color:#DD0000;background-color:inherit;">&nbsp;createEntity</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;View&nbsp;setup</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;3.&nbsp;Set&nbsp;the&nbsp;title,&nbsp;name,&nbsp;note&nbsp;field&nbsp;and&nbsp;rating&nbsp;of&nbsp;the&nbsp;beer</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.title</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beer</span><span style="background-color:inherit;">.name</span><span style="background-color:inherit;">&nbsp;?&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beer</span><span style="background-color:inherit;">.name</span><span style="background-color:inherit;">&nbsp;:&nbsp;</span><span style="color:blue;background-color:inherit;">@"New&nbsp;Beer"</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beerNameField</span><span style="background-color:inherit;">.text</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beer</span><span style="background-color:inherit;">.name</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beerNotesView</span><span style="background-color:inherit;">.text</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beer</span><span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">.note</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.ratingControl</span><span style="background-color:inherit;">.rating</span><span style="background-color:inherit;">&nbsp;=&nbsp;[</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beer</span><span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">.rating</span><span style="color:#DD0000;background-color:inherit;">&nbsp;integerValue</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.cellOne</span><span style="color:#DD0000;background-color:inherit;">&nbsp;addSubview</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.ratingControl</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;4.&nbsp;If&nbsp;there&nbsp;is&nbsp;an&nbsp;image&nbsp;path&nbsp;in&nbsp;the&nbsp;details,&nbsp;show&nbsp;it.</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;([</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beer</span><span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">.image</span><span style="color:#DD0000;background-color:inherit;">&nbsp;length</span><span style="background-color:inherit;">]&nbsp;&gt;&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">)&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;Image&nbsp;setup</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">NSData</span><span style="background-color:inherit;">&nbsp;*imgData&nbsp;=&nbsp;[NSData</span><span style="color:#DD0000;background-color:inherit;">&nbsp;dataWithContentsOfFile</span><span style="background-color:inherit;">:[NSHomeDirectory()</span><span style="color:#DD0000;background-color:inherit;">&nbsp;stringByAppendingPathComponent</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beer</span><span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">.image</span><span style="background-color:inherit;">]];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setImageForBeer</span><span style="background-color:inherit;">:[UIImage</span><span style="color:#DD0000;background-color:inherit;">&nbsp;imageWithData</span><span style="background-color:inherit;">:imgData]];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span> </li> 
  <li> <span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> </li> 
 </ol> 
</div> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;">故障检测：如果你把上面的代码贴到你的工程里面报错了，按快捷键</span> 
<span style="font-style:inherit;font-family:Helvetica, sans-serif;font-size:16px;vertical-align:baseline;color:#006837;line-height:25.875px;background-color:#EDF0D5;"><strong>Shift+Command+K &nbsp;Clean你的工程。</strong></span> 
<br> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;">当</span> 
<span style="color:#333333;font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;background-color:#FFFFFF;">BeerViewController 加载时，那是因为你有：</span> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;"></span> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Helvetica, sans-serif;">1.或者选择beer或者。。。</span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Helvetica, sans-serif;">2.从<span style="font-size:16px;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>MasterViewController</strong></span><span style="font-style:inherit;vertical-align:baseline;">&nbsp;选择添加按钮</span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Helvetica, sans-serif;">当视图加载好后，你将做以下事情：</span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Helvetica, sans-serif;">1.检查<span style="font-size:16px;">beer 实例是否加载好，若没有，这意味你将新建一个Beer</span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Helvetica, sans-serif;">2.如果beer没有任何的<span style="font-size:16px;font-style:inherit;vertical-align:baseline;"><span style="color:#006837;">BeerDetails，创建一个</span><span style="color:#006837;font-style:inherit;vertical-align:baseline;"><strong>BeerDetails</strong></span><span style="font-style:inherit;vertical-align:baseline;">对象。</span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Helvetica, sans-serif;"><span style="font-style:inherit;vertical-align:baseline;"></span>3.为了建立视图，抓取beer的名字评价及笔记内容，如果beer没有名字（在Beer的新实例里面，它将给名字为“<span style="font-size:16px;">New Beer”</span>）</span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Helvetica, sans-serif;">4.如果Beer包含了一个图片路径，将加载该图片到<span style="font-size:16px;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>UIImageView里面。</strong></span><br> </span>为了编辑和添加新的<span style="font-family:Helvetica, sans-serif;font-size:16px;">beers，</span>还有一些事情需要你建立，首先你需要能够编辑和添加名字，像如下方式编辑<span style="color:#006837;font-family:Courier, monospace;"><strong>textFieldDidEndEditing:</strong></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-family:Courier, monospace;"></span></span> </p> 
<div> 
 <div> 
  <div> 
   <b>[objc]</b>&nbsp; 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
   <div> 
   </div> 
  </div> 
 </div> 
 <ol> 
  <li> <span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)textFieldDidEndEditing:(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">UITextField</span><span style="background-color:inherit;">&nbsp;*)textField&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;([textField</span><span style="background-color:inherit;">.text</span><span style="color:#DD0000;background-color:inherit;">&nbsp;length</span><span style="background-color:inherit;">]&nbsp;&gt;&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">)&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.title</span><span style="background-color:inherit;">&nbsp;=&nbsp;textField</span><span style="background-color:inherit;">.text</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beer</span><span style="background-color:inherit;">.name</span><span style="background-color:inherit;">&nbsp;=&nbsp;textField</span><span style="background-color:inherit;">.text</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span> </li> 
  <li> <span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> </li> 
 </ol> 
</div> 
<br> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;">现在你将结束添加名字，然后你就可以把</span> 
<span style="color:#333333;font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;background-color:#FFFFFF;">beer的名字在文本框内输入为任何内容,只要不空.</span> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;"></span> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;">为了薄脆笔记内容到&nbsp;beer的笔记值里面,找到<span style="color:#006837;font-family:Courier, monospace;"><strong>textViewDidEndEditing:</strong></span><span style="font-family:Courier, monospace;">方法,向如下编辑</span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;"><span style="font-family:Courier, monospace;"></span></span></span></span></span></span></span> </p> 
<div> 
 <div> 
  <div> 
   <b>[objc]</b>&nbsp; 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
   <div> 
   </div> 
  </div> 
 </div> 
 <ol> 
  <li> <span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)textViewDidEndEditing:(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">UITextView</span><span style="background-color:inherit;">&nbsp;*)textView&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[textView<span style="color:#DD0000;background-color:inherit;">&nbsp;resignFirstResponder</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;([textView</span><span style="background-color:inherit;">.text</span><span style="color:#DD0000;background-color:inherit;">&nbsp;length</span><span style="background-color:inherit;">]&nbsp;&gt;&nbsp;</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">)&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beer</span><span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">.note</span><span style="background-color:inherit;">&nbsp;=&nbsp;textView</span><span style="background-color:inherit;">.text</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span> </li> 
  <li> <span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> </li> 
 </ol> 
</div> 
<br> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;">下一步确保用户在</span> 
<span style="font-style:inherit;font-family:Helvetica, sans-serif;font-size:16px;vertical-align:baseline;color:#006837;line-height:25.8799991607666px;background-color:#FFFFFF;"><strong>View Controller</strong></span> 
<span style="color:#333333;font-size:14px;font-style:inherit;font-family:Helvetica, sans-serif;vertical-align:baseline;line-height:25.8799991607666px;background-color:#FFFFFF;">里面改变评价,beer的评价会自动更新.在<span style="color:#006837;font-family:Courier, monospace;"><strong>updateRating</strong></span>里面添加:</span> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;"></span> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;"></span></span></span></span></span></span> </p> 
<div> 
 <div> 
  <div> 
   <b>[objc]</b>&nbsp; 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
   <div> 
   </div> 
  </div> 
 </div> 
 <ol> 
  <li> <span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)updateRating&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beer</span><span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">.rating</span><span style="background-color:inherit;">&nbsp;=&nbsp;@(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.ratingControl</span><span style="background-color:inherit;">.rating</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> </li> 
 </ol> 
</div> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;">当用户在详情页面点击</span> 
<span style="font-style:inherit;font-family:Helvetica, sans-serif;font-size:16px;vertical-align:baseline;color:#006837;line-height:25.8799991607666px;background-color:#FFFFFF;"><strong>UIImageView,</strong></span> 
<span style="color:#333333;font-style:inherit;font-family:Helvetica, sans-serif;font-size:16px;vertical-align:baseline;line-height:25.8799991607666px;background-color:#FFFFFF;">将允许他们添加或者编辑一张图片.一个<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>UIActionSheet</strong></span>&nbsp;将会展示出来</span> 
<br> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;">,它将允许用户下哦那个相机胶卷选择照片,或者拍一张新的照片.如果用户想拍照片,你得确保照片已经保存在磁盘上了.不是吧照片保存在</span> 
<span style="color:#333333;font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;background-color:#FFFFFF;">Core Data里面(这将导致性能问题),而是保存在用户的文件目录里面.你只需把图片路径保存在CoreData里面.</span> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;"></span> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;"><span style="font-size:16px;">通过实现<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>UIImagePickerControllerDelegate</strong></span>&nbsp;方法,在照片和图库之间管理互动,你需要在<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>UIImagePickerController</strong></span>里面实现<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>BeerViewController</strong></span>&nbsp;委派,用来在故事板里面操纵视图.找到<span style="color:#006837;font-family:Courier, monospace;font-size:14px;"><strong>imagePickerController:didFinishPickingMediaWithinfo</strong></span>,添加如下代码:</span></span></span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;"><span style="font-size:16px;"></span></span></span></span></span></span></span> </p> 
<div> 
 <div> 
  <div> 
   <b>[objc]</b>&nbsp; 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
   <div> 
   </div> 
  </div> 
 </div> 
 <ol> 
  <li> <span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)imagePickerController:(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">UIImagePickerController</span><span style="background-color:inherit;">&nbsp;*)picker</span><span style="color:#DD0000;background-color:inherit;">&nbsp;didFinishPickingMediaWithInfo</span><span style="background-color:inherit;">:(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">NSDictionary</span><span style="background-color:inherit;">&nbsp;*)info&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;1.&nbsp;Grab&nbsp;image&nbsp;and&nbsp;save&nbsp;to&nbsp;disk</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">UIImage</span><span style="background-color:inherit;">&nbsp;*image&nbsp;=&nbsp;info[UIImagePickerControllerOriginalImage];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;2.&nbsp;Remove&nbsp;old&nbsp;image&nbsp;if&nbsp;present</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beer</span><span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">.image</span><span style="background-color:inherit;">)&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ImageSaver<span style="color:#DD0000;background-color:inherit;">&nbsp;deleteImageAtPath</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beer</span><span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">.image</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;3.&nbsp;Save&nbsp;the&nbsp;image</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;([ImageSaver</span><span style="color:#DD0000;background-color:inherit;">&nbsp;saveImageToDisk</span><span style="background-color:inherit;">:image</span><span style="color:#DD0000;background-color:inherit;">&nbsp;andToBeer</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beer</span><span style="background-color:inherit;">])&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setImageForBeer</span><span style="background-color:inherit;">:image];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[picker<span style="color:#DD0000;background-color:inherit;">&nbsp;dismissViewControllerAnimated</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">YES</span><span style="color:#DD0000;background-color:inherit;">&nbsp;completion</span><span style="color:#006699;font-weight:bold;background-color:inherit;">:nil</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> </li> 
 </ol> 
</div> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;">下面讲解下上面的代码:</span> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;"><span style="font-size:16px;">1.<span style="color:#006837;font-family:Courier, monospace;font-size:14px;"><strong>imagePickerController:didFinishPickingMediaWithInfo:</strong></span>间接的传递了用户选择图片的一个参数,,图片是在信息字典里面的,key是<span style="color:#006837;font-family:Courier, monospace;font-size:14px;"><strong>UIImagePickerControllerOriginalImage</strong></span><br> 2.如果Beer图像已经包含了一个图片,程序将把它从硬盘删除.因此你并不会把用户的存储占满.</span></span></span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;"><span style="font-size:16px;">3.接着新的图片被保存到硬盘,路径被添加到了<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>BeerDetails</strong></span>&nbsp;的图片属性里面.打开 &nbsp;<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>ImageSaver</strong></span>&nbsp;找到<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>saveImageToDisk:andToBeer</strong></span>&nbsp;看一下 &nbsp;是什么样子.一旦图片被成功保存,将会在<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>UIImageView</strong></span>里面展现出来</span></span></span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;"><span style="font-size:16px;">4.选择器消失.</span></span></span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;"><span style="font-size:16px;"><br> </span></span></span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;"><span style="font-size:16px;">为了使上面的修改器作用,你将修改ImageSaver ,现在你已经创建了Beer 类,你可以取消import行和设置图片路径行的注释.打开<span style="color:#006837;font-family:Courier, monospace;font-size:14px;"><strong>ImageSaver.m</strong></span>,修改导入语句如下:</span></span></span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;"><span style="font-size:16px;"></span></span></span></span></span></span></span> </p> 
<div> 
 <div> 
  <div> 
   <b>[objc]</b>&nbsp; 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
   <div> 
   </div> 
  </div> 
 </div> 
 <ol> 
  <li> <span style="color:black;background-color:inherit;"><span style="background-color:inherit;">#import&nbsp;"ImageSaver.h"</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;"><span style="background-color:inherit;">#import&nbsp;"Beer.h"</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;"><span style="background-color:inherit;">#import&nbsp;"BeerDetails.h"</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
 </ol> 
</div> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;">现在你需要取消有if语句这行的注释</span> 
<br> 
<div> 
 <div> 
  <div> 
   <b>[objc]</b>&nbsp; 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
   <div> 
   </div> 
  </div> 
 </div> 
 <ol> 
  <li> <span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;([imgData</span><span style="color:#DD0000;background-color:inherit;">&nbsp;writeToFile</span><span style="background-color:inherit;">:jpgPath</span><span style="color:#DD0000;background-color:inherit;">&nbsp;atomically</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">YES</span><span style="background-color:inherit;">])&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;beer<span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">.image</span><span style="background-color:inherit;">&nbsp;=&nbsp;path;&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> </li> 
 </ol> 
</div> 
<span style="color:#333333;font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;background-color:#FFFFFF;">ImageSaver 类已经做好准备来接受图片了.并且保存图片到手机的文件目录里面.保存路径到BeerDetails&nbsp;</span> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;"></span> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;font-style:inherit;vertical-align:baseline;"><span style="font-size:16px;">从这里开始用户有两个选择,取消或完成,当你创建一个视图，Beer实体就被创建了，然后插入到managedObjectContext里面。取消则会删除Beer 对象。找到<span style="color:#006837;font-family:Courier, monospace;font-size:14px;"><strong>cancelAdd</strong></span>，加入如下代码;</span></span></span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;"><span style="font-size:16px;"></span></span></span></span></span></span></span> </p> 
<div> 
 <div> 
  <div> 
   <b>[objc]</b>&nbsp; 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
   <div> 
   </div> 
  </div> 
 </div> 
 <ol> 
  <li> <span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)cancelAdd&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beer</span><span style="color:#DD0000;background-color:inherit;">&nbsp;deleteEntity</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.navigationController</span><span style="color:#DD0000;background-color:inherit;">&nbsp;popViewControllerAnimated</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">YES</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> </li> 
 </ol> 
</div> 
<span style="color:#333333;font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;background-color:#FFFFFF;">MagicalRecord 提供了一个好的方法来删除实体---从MagicalRecord 里面移出该实体。删除之后用户将返回到beers的主列表。</span> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;"></span> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;"><span style="font-size:16px;"></span>如果用户选择完成，将保存beer 并返回到主列表。找到<span style="color:#006837;font-family:Courier, monospace;"><strong>addNewBeer</strong></span><span style="font-family:Courier, monospace;">，它将简单的pop出view controller，返回到列表。当视图消失时将调用<span style="color:#006837;"><strong>viewWillDisapper</strong></span>，然后将轮流调用saveContext</span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Courier, monospace;">现在saveContext<span style="font-family:Helvetica, sans-serif;font-size:16px;">&nbsp;是空的，因此你需要添加代码来保存新的实体。向<span style="color:#006837;font-family:Courier, monospace;font-size:14px;"><strong>saveContext：</strong></span>添加如下代码：</span><br> </span></span></span></span></span></span> </p> 
<div> 
 <div> 
  <div> 
   <b>[objc]</b>&nbsp; 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
   <div> 
   </div> 
  </div> 
 </div> 
 <ol> 
  <li> <span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)saveContext&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[[NSManagedObjectContext<span style="color:#DD0000;background-color:inherit;">&nbsp;defaultContext</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;saveToPersistentStoreWithCompletion</span><span style="background-color:inherit;">:^(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">BOOL</span><span style="background-color:inherit;">&nbsp;success,&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">NSError</span><span style="background-color:inherit;">&nbsp;*error)&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;(success)&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSLog(<span style="color:blue;background-color:inherit;">@"You&nbsp;successfully&nbsp;saved&nbsp;your&nbsp;context."</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">else</span><span style="background-color:inherit;">&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;(error)&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSLog(<span style="color:blue;background-color:inherit;">@"Error&nbsp;saving&nbsp;context:&nbsp;%@"</span><span style="background-color:inherit;">,&nbsp;error</span><span style="background-color:inherit;">.description</span><span style="background-color:inherit;">);&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}];&nbsp;&nbsp;</span> </li> 
  <li> <span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> </li> 
 </ol> 
</div> 
<br> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;">接下来，还有几行代码要做，在</span> 
<span style="color:#333333;font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;background-color:#FFFFFF;">&nbsp;In&nbsp;</span> 
<span style="font-style:inherit;font-family:Helvetica, sans-serif;font-size:16px;vertical-align:baseline;color:#006837;line-height:25.8799991607666px;background-color:#FFFFFF;"><strong>AppDelegate.m</strong></span> 
<span style="color:#333333;font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;background-color:#FFFFFF;">, 里面用&nbsp;<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>MagicalRecord</strong></span>建立 &nbsp;Core Data堆栈，这将创建一个app全局可用的默认的<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>managedObjectContext</strong></span>&nbsp; 对象。当你创建了&nbsp;<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Beer</strong></span>&nbsp;和<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>BeerDetails</strong></span>&nbsp;实体，他们就被插入到<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>defaultContext</strong></span>&nbsp;里面了。<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>MagicalRecord</strong></span>&nbsp;允许你保存任何你可能是使用<span style="color:#006837;font-family:Courier, monospace;font-size:14px;"><strong>saveToPersistentStoreWithCompletion: 的</strong></span>managedObjectContext 。若保存失败完成的块里面讲给你一个<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>NSError。</strong></span><span style="font-style:inherit;vertical-align:baseline;">这里你已经添加了一个简单的if/else块来打印出保存<span style="font-style:inherit;vertical-align:baseline;">defaultContext时发生的问题。</span></span></span> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;"></span> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-style:inherit;vertical-align:baseline;"><span style="font-family:Helvetica, sans-serif;">你想测试一下结果吗？继续运行你的app，选择<span style="font-size:16px;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>+</strong></span><span style="font-size:16px;font-style:inherit;vertical-align:baseline;">按钮，填满内容，选择完成。</span></span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><span style="font-family:Helvetica, sans-serif;"><img src="./博客 - Snaiper的个人空间 - 开源中国社区_files/09173125_UAVO.jpg" alt=""><br> </span>这样做之后，在列表的顶部你没有发现新建的Beer，不要急，没问题，你将学会怎样调整问题。你可能发现调试器里面有遗传信息。与你所说的相反，你成功了！</span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.8799991607666px;"><img src="./博客 - Snaiper的个人空间 - 开源中国社区_files/09173125_ohve.jpg" alt=""><br> </span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="line-height:25.87px;"><span style="font-family:&#39;Times New Roman&#39;;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="line-height:25.87px;font-style:inherit;vertical-align:baseline;"><span style="font-family:Helvetica, sans-serif;line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;"><span style="line-height:25.875px;">&nbsp;&nbsp;</span></span></span></span></span></span></span> </p> 
<h2> <a name="t5" rel="nofollow"></a><span style="font-size:18px;">Magical调试器</span> </h2> 
<div>
  当app启动时，在 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">&nbsp;Core Data 堆栈启动期间</span> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;font-style:inherit;vertical-align:baseline;color:#006837;line-height:25.8799991607666px;"><strong>MagicalRecord</strong></span> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">&nbsp;打印出信息，这说明Core Data 正在启动。然后创建了<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>defaultContext</strong></span>. 对象。这和我们前文提到的你保存beer 对象的是同一个<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>defaultContext</strong></span>.&nbsp;</span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">当你用MagicalRecord选择完成或者保存时，又会出现一系列Log，当你保存时你将看到如下log信息：</span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">1、<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>defaultContext</strong></span>&nbsp;保存到主线程。</span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">2、任何上下文的父类都将保存，以标志1设计。</span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">3、最后的log显示<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>MagicalRecord</strong></span>&nbsp;知道两个对象（Beer 和BeerDetail）都将保存，并且被成功保存。</span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;"><span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>MagicalRecord</strong></span>&nbsp;为你打印出了很多log，如果你有问题，或者有些事情的表现出乎你的意料，你应该检查日志，来获得有用信息。<br> </span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">注意：</span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">虽然我不推荐这莫做，如果你一定想看到发生什么情况当取消掉<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>MagicalRecord</strong></span>&nbsp;的日志打印。你可以在<span style="font-style:inherit;vertical-align:baseline;color:#006837;line-height:25.875px;background-color:#EDF0D5;"><strong>MagicalRecord.h</strong></span><span style="line-height:25.875px;background-color:#EDF0D5;">, 的17行</span><span style="line-height:25.875px;">吧：</span></span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;"><span style="line-height:25.875px;"></span></span> 
 <div> 
  <div> 
   <div> 
    <b>[objc]</b>&nbsp; 
    <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
    <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
    <div> 
    </div> 
   </div> 
  </div> 
  <ol> 
   <li> <span style="color:black;background-color:inherit;"><span style="background-color:inherit;">#define&nbsp;MR_ENABLE_ACTIVE_RECORD_LOGGING&nbsp;1</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  </ol> 
 </div> 
</div> 
<div> 
 <p style="font-family:Helvetica, sans-serif;font-size:16px;vertical-align:baseline;"> 改成 </p> 
 <div> 
  <div> 
   <div> 
    <b>[objc]</b>&nbsp; 
    <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
    <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
    <div> 
    </div> 
   </div> 
  </div> 
  <ol> 
   <li> <span style="color:black;background-color:inherit;"><span style="background-color:inherit;">#define&nbsp;MR_ENABLE_ACTIVE_RECORD_LOGGING&nbsp;0</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  </ol> 
 </div> 
 <br> 
 <h2> <a name="t6" rel="nofollow"></a>Noch ein Bier, bitte（不会翻译） </h2> 
 <div>
   如果应用程序值得所做的工作，你将需要看到你所添加的 
  <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">beers 。打开<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>MasterViewController.m</strong></span>在顶部导入&nbsp;<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>Beer.h</strong></span>,和&nbsp;<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>BeerDetails.h</strong></span></span> 
 </div> 为了得到所有保存在 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">Core Data的Beer，你需要做一些事，viewWillAppear:,里面，在调用&nbsp;reloadData.之前添加fetch方法。</span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;"><span style="line-height:25.875px;"><span style="line-height:25.8799991607666px;"></span></span></span> 
 <div> 
  <div> 
   <div> 
    <b>[objc]</b>&nbsp; 
    <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
    <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
    <div> 
    </div> 
   </div> 
  </div> 
  <ol> 
   <li> <span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)viewWillAppear:(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">BOOL</span><span style="background-color:inherit;">)animated&nbsp;{&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">super</span><span style="color:#DD0000;background-color:inherit;">&nbsp;viewWillAppear</span><span style="background-color:inherit;">:animated];&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;Check&nbsp;if&nbsp;the&nbsp;user's&nbsp;sort&nbsp;preference&nbsp;has&nbsp;been&nbsp;saved.</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;</span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="color:#DD0000;background-color:inherit;">&nbsp;fetchAllBeers</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.tableView</span><span style="color:#DD0000;background-color:inherit;">&nbsp;reloadData</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> </li> 
  </ol> 
 </div> 当视图第一次加载时，或者从查看或添加 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">beer返回时，将获取和加载所有的beers 到列表中。</span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">找到fetchAllBeers, 加入下列代码：</span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;"><span style="line-height:25.875px;"><span style="line-height:25.8799991607666px;"></span></span></span> 
 <div> 
  <div> 
   <div> 
    <b>[objc]</b>&nbsp; 
    <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
    <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
    <div> 
    </div> 
   </div> 
  </div> 
  <ol> 
   <li> <span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)fetchAllBeers&nbsp;{&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;1.&nbsp;Get&nbsp;the&nbsp;sort&nbsp;key</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">NSString</span><span style="background-color:inherit;">&nbsp;*sortKey&nbsp;=&nbsp;[[NSUserDefaults</span><span style="color:#DD0000;background-color:inherit;">&nbsp;standardUserDefaults</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;objectForKey</span><span style="background-color:inherit;">:WB_SORT_KEY];&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;2.&nbsp;Determine&nbsp;if&nbsp;it&nbsp;is&nbsp;ascending</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">BOOL</span><span style="background-color:inherit;">&nbsp;ascending&nbsp;=&nbsp;[sortKey</span><span style="color:#DD0000;background-color:inherit;">&nbsp;isEqualToString</span><span style="background-color:inherit;">:SORT_KEY_RATING]&nbsp;?&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">NO</span><span style="background-color:inherit;">&nbsp;:&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">YES</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;3.&nbsp;Fetch&nbsp;entities&nbsp;with&nbsp;MagicalRecord</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beers</span><span style="background-color:inherit;">&nbsp;=&nbsp;[[Beer</span><span style="color:#DD0000;background-color:inherit;">&nbsp;findAllSortedBy</span><span style="background-color:inherit;">:sortKey</span><span style="color:#DD0000;background-color:inherit;">&nbsp;ascending</span><span style="background-color:inherit;">:ascending]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;mutableCopy</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> </li> 
  </ol> 
 </div> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">MasterViewController 允许用户通过评价来排序Beer---从5星到一星，或通过字母排序（A-Z）排序，当App第一次启动时，创建一个NSUserDefault&nbsp;来通过评价排序，并且作为默认建立起来。在这个方法里面你做如下事情：</span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">1、检索在NSUserDefault&nbsp;保存的用来排序的key值。</span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">2、如果排序key是”rating“，上升的变量设为否，如果是字幕的变量为是。</span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">3、进行提取<br> 没错这里做的就这莫多。</span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">再来一次，你在使用<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>MagicalRecord</strong></span>&nbsp;的方法和CoreData交互，findAllSortedBy:ascending&nbsp;只是用<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>MagicalRecord</strong></span>&nbsp;执行查找Core Data 实体中众多方法中的一种，其他的还有（注意：之后你将用到）：</span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;"><span style="line-height:25.875px;"><span style="line-height:25.8799991607666px;"></span></span></span> 
 <ul> 
  <li> findAllInContext:&nbsp;–找到上下文提供的所有类型的实体&nbsp; </li> 
  <li> findAll&nbsp;– 找到现在线程上下文对象的所有实体 </li> 
  <li> findAllSortedBy:ascending:inContext:&nbsp;–和之前使用的类似但是限制了提供的上下文对象 </li> 
  <li> findAllWithPredicate:&nbsp;– 允许你传递谓语动词来搜寻实体。 </li> 
  <li> findAllSortedBy:ascending:withPredicate:inContext:&nbsp;– 允许传递升序标志来排序，允许一个特别的上下文，还允许传递一个谓语动词来过滤结果集 </li> 
 </ul> 其实还有许多优点，----看一下： 
 <span style="font-size:16px;line-height:25.8799991607666px;font-style:inherit;vertical-align:baseline;color:#006837;"><strong>NSManagedObject+MagicalFinders.m</strong></span> 
 <span style="font-size:16px;line-height:25.8799991607666px;font-style:inherit;">.</span> 
</div> 
<div> 
 <span style="font-size:16px;line-height:25.8799991607666px;font-style:inherit;"><br> </span> 
</div> 
<div> 
 <span style="font-size:16px;line-height:25.8799991607666px;font-style:inherit;">为了在单元里添加<span style="font-family:Helvetica, sans-serif;">beer的名称和评价，找到configureCell:atIndex:,添加下列代码：</span></span> 
</div> 
<div> 
 <span style="font-size:16px;line-height:25.8799991607666px;font-style:inherit;"><span style="font-family:Helvetica, sans-serif;"></span></span> 
 <div> 
  <div> 
   <div> 
    <b>[objc]</b>&nbsp; 
    <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
    <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
    <div> 
    </div> 
   </div> 
  </div> 
  <ol> 
   <li> <span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)configureCell:(UITableViewCell*)cell</span><span style="color:#DD0000;background-color:inherit;">&nbsp;atIndex</span><span style="background-color:inherit;">:(NSIndexPath*)indexPath&nbsp;{&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;Get&nbsp;current&nbsp;Beer</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">Beer</span><span style="background-color:inherit;">&nbsp;*beer&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beers</span><span style="background-color:inherit;">[indexPath</span><span style="background-color:inherit;">.row</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;cell<span style="background-color:inherit;">.textLabel</span><span style="background-color:inherit;">.text</span><span style="background-color:inherit;">&nbsp;=&nbsp;beer</span><span style="background-color:inherit;">.name</span><span style="background-color:inherit;">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;Setup&nbsp;AMRatingControl</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">AMRatingControl</span><span style="background-color:inherit;">&nbsp;*ratingControl;&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;(![cell</span><span style="color:#DD0000;background-color:inherit;">&nbsp;viewWithTag</span><span style="background-color:inherit;">:</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">])&nbsp;{&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ratingControl&nbsp;=&nbsp;[[AMRatingControl<span style="color:#DD0000;background-color:inherit;">&nbsp;alloc</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;initWithLocation</span><span style="background-color:inherit;">:CGPointMake(</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">9</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">,&nbsp;</span><span style="background-color:inherit;">1</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">)</span><span style="color:#DD0000;background-color:inherit;">&nbsp;emptyImage</span><span style="background-color:inherit;">:[UIImage</span><span style="color:#DD0000;background-color:inherit;">&nbsp;imageNamed</span><span style="background-color:inherit;">:</span><span style="color:blue;background-color:inherit;">@"beermug-empty"</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;solidImage</span><span style="background-color:inherit;">:[UIImage</span><span style="color:#DD0000;background-color:inherit;">&nbsp;imageNamed</span><span style="background-color:inherit;">:</span><span style="color:blue;background-color:inherit;">@"beermug-full"</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;andMaxRating</span><span style="background-color:inherit;">:</span><span style="background-color:inherit;">5</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ratingControl<span style="background-color:inherit;">.tag</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ratingControl<span style="background-color:inherit;">.autoresizingMask</span><span style="background-color:inherit;">&nbsp;=&nbsp;UIViewAutoresizingFlexibleLeftMargin;&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ratingControl<span style="background-color:inherit;">.userInteractionEnabled</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">NO</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[cell<span style="color:#DD0000;background-color:inherit;">&nbsp;addSubview</span><span style="background-color:inherit;">:ratingControl];&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">else</span><span style="background-color:inherit;">&nbsp;{&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ratingControl&nbsp;=&nbsp;(AMRatingControl*)[cell<span style="color:#DD0000;background-color:inherit;">&nbsp;viewWithTag</span><span style="background-color:inherit;">:</span><span style="background-color:inherit;">2</span><span style="background-color:inherit;">0</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;Put&nbsp;beer&nbsp;rating&nbsp;in&nbsp;cell</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;ratingControl<span style="background-color:inherit;">.rating</span><span style="background-color:inherit;">&nbsp;=&nbsp;[beer</span><span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">.rating</span><span style="color:#DD0000;background-color:inherit;">&nbsp;integerValue</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> </li> 
  </ol> 
 </div> 现在，再找到 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">&nbsp;</span>prepareForSegue:sender: 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">, 在if语句里检查如果segue标识符是“editBeer,” 添加：</span> 
</div> 
<div> 
 <span style="font-size:16px;line-height:25.8799991607666px;font-style:inherit;"><span style="font-family:Helvetica, sans-serif;"></span></span> 
 <div> 
  <div> 
   <div> 
    <b>[objc]</b>&nbsp; 
    <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
    <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
    <div> 
    </div> 
   </div> 
  </div> 
  <ol> 
   <li> <span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;([[segue</span><span style="color:#DD0000;background-color:inherit;">&nbsp;identifier</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;isEqualToString</span><span style="background-color:inherit;">:</span><span style="color:blue;background-color:inherit;">@"editBeer"</span><span style="background-color:inherit;">])&nbsp;{&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">NSIndexPath</span><span style="background-color:inherit;">&nbsp;*indexPath&nbsp;=&nbsp;[</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.tableView</span><span style="color:#DD0000;background-color:inherit;">&nbsp;indexPathForSelectedRow</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">Beer</span><span style="background-color:inherit;">&nbsp;*beer&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beers</span><span style="background-color:inherit;">[indexPath</span><span style="background-color:inherit;">.row</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;upcoming<span style="background-color:inherit;">.beer</span><span style="background-color:inherit;">&nbsp;=&nbsp;beer;&nbsp;&nbsp;</span></span> </li> 
   <li> <span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> </li> 
  </ol> 
 </div> 这将把Beer对象传递给 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;font-style:inherit;vertical-align:baseline;color:#006837;line-height:25.8799991607666px;"><strong>BeerViewController</strong></span> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">, 因此就可以展示beer的详细信息，允许编辑等。</span> 
</div> 
<div> 
 <span style="font-size:16px;line-height:25.8799991607666px;font-style:inherit;"><span style="font-family:Helvetica, sans-serif;">继续把你的工程跑起来：</span></span> 
</div> 
<div> 
 <span style="font-size:16px;line-height:25.8799991607666px;font-style:inherit;"><span style="font-family:Helvetica, sans-serif;">这次你将看到你之前添加的Beer和它的评价，你还可以选择Beer并且编辑信息，当你返回时，列表就更新了。<br> <br> <img src="./博客 - Snaiper的个人空间 - 开源中国社区_files/09173125_jC2t.jpg" alt=""><br> </span></span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">试着查看某一个Beer，不要编辑信息，返回主列表，看一下log信息你将看到：</span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;"></span> 
 <div> 
  <table style="border:none;font-family:inherit;font-size:14px;font-style:inherit;font-weight:inherit;padding:0px;width:782px;margin:0px !important;"> 
   <tbody> 
    <tr> 
     <td style="border:0px;font-family:inherit;font-size:14px;font-style:inherit;vertical-align:top;"> <pre class="command">-[NSManagedObjectContext(MagicalSaves) MR_saveWithOptions:completion:](0x8b6bfa0) NO CHANGES IN ** DEFAULT ** CONTEXT - NOT SAVING</pre> 
      <div> 
       <br> 
      </div> </td> 
    </tr> 
   </tbody> 
  </table> 
 </div> 当你离开详情页，你在viewWillDisappear: 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">.&nbsp;</span>里面所写的代码将保存默认上下文。然而如果没有变化， 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">&nbsp;</span> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;font-style:inherit;vertical-align:baseline;color:#006837;line-height:25.8799991607666px;"><strong>MagicalRecord</strong></span> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;">&nbsp;识别到没有必要执行一个保存操作，因此它跳过了执行。这样做的好处就是，你没有必要考虑你是否应该保存，只需要尝试保存，让&nbsp;<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>MagicalRecord</strong></span>&nbsp;给你指出就可以了。</span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;"><br> </span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;line-height:25.8799991607666px;"><span style="line-height:25.875px;"><span style="line-height:25.8799991607666px;"><span style="font-size:18px;"><strong>完成触摸</strong></span></span></span></span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;line-height:25.8799991607666px;">这还有一些你想让app给用户做的事情，比如删除Beer，列出你喜爱啤酒的列表，执行查询。</span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;line-height:25.8799991607666px;"><span style="line-height:25.875px;"><span style="line-height:25.8799991607666px;"><strong><span style="font-size:18px;">删除</span></strong></span></span></span> 
</div> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-size:10px;"><span style="line-height:25.87px;font-family:Helvetica, sans-serif;font-size:16px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;">在<span style="line-height:25.8799991607666px;">&nbsp;</span><span style="font-style:inherit;vertical-align:baseline;color:#006837;line-height:25.8799991607666px;"><strong>MasterViewController.m</strong></span><span style="line-height:25.8799991607666px;">,里面找到tableView:commitEditingStyle:forRowAtIndexPath:, 方法添加如下代码：</span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-size:10px;"><span style="line-height:25.87px;font-family:Helvetica, sans-serif;font-size:16px;"><span style="line-height:25.8799991607666px;"></span></span></span> </p> 
<div> 
 <div> 
  <div> 
   <b>[objc]</b>&nbsp; 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
   <div> 
   </div> 
  </div> 
 </div> 
 <ol> 
  <li> <span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)tableView:(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">UITableView</span><span style="background-color:inherit;">&nbsp;*)tableView</span><span style="color:#DD0000;background-color:inherit;">&nbsp;commitEditingStyle</span><span style="background-color:inherit;">:(UITableViewCellEditingStyle)editingStyle</span><span style="color:#DD0000;background-color:inherit;">&nbsp;forRowAtIndexPath</span><span style="background-color:inherit;">:(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">NSIndexPath</span><span style="background-color:inherit;">&nbsp;*)indexPath&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;(editingStyle&nbsp;==&nbsp;UITableViewCellEditingStyleDelete)&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">Beer</span><span style="background-color:inherit;">&nbsp;*beerToRemove&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beers</span><span style="background-color:inherit;">[indexPath</span><span style="background-color:inherit;">.row</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;Remove&nbsp;Image&nbsp;from&nbsp;local&nbsp;documents</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;(beerToRemove</span><span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">.image</span><span style="background-color:inherit;">)&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ImageSaver<span style="color:#DD0000;background-color:inherit;">&nbsp;deleteImageAtPath</span><span style="background-color:inherit;">:beerToRemove</span><span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">.image</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;Deleting&nbsp;an&nbsp;Entity&nbsp;with&nbsp;MagicalRecord</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[beerToRemove<span style="color:#DD0000;background-color:inherit;">&nbsp;deleteEntity</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="color:#DD0000;background-color:inherit;">&nbsp;saveContext</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beers</span><span style="color:#DD0000;background-color:inherit;">&nbsp;removeObjectAtIndex</span><span style="background-color:inherit;">:indexPath</span><span style="background-color:inherit;">.row</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[tableView<span style="color:#DD0000;background-color:inherit;">&nbsp;deleteRowsAtIndexPaths</span><span style="background-color:inherit;">:@[indexPath]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;withRowAnimation</span><span style="background-color:inherit;">:UITableViewRowAnimationFade];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span> </li> 
  <li> <span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> </li> 
 </ol> 
</div> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;">记住这里调用了</span>saveContext 
<span style="color:#333333;font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;background-color:#FFFFFF;">.方法，你需要添加一些代码来确保删除通过，你已经做过一次了，你能指出怎么做吗？准备。。。开始！</span> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;"></span> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-size:10px;"><span style="line-height:25.87px;font-family:Helvetica, sans-serif;font-size:16px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.8799991607666px;">添加如下代码来保存上下文</span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-size:10px;"><span style="line-height:25.87px;font-family:Helvetica, sans-serif;font-size:16px;"><span style="line-height:25.8799991607666px;"></span></span></span> </p> 
<div> 
 <div> 
  <div> 
   <b>[objc]</b>&nbsp; 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
   <div> 
   </div> 
  </div> 
 </div> 
 <ol> 
  <li> <span style="color:black;background-color:inherit;"><span style="color:#008200;background-color:inherit;">//&nbsp;Save&nbsp;ManagedObjectContext&nbsp;using&nbsp;MagicalRecord</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">[[NSManagedObjectContext<span style="color:#DD0000;background-color:inherit;">&nbsp;defaultContext</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;saveToPersistentStoreAndWait</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
 </ol> 
</div> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;">严格来说你没必要知道它什么时候结束，你可以使用</span> 
<span style="font-style:inherit;font-family:Helvetica, sans-serif;font-size:16px;vertical-align:baseline;color:#006837;line-height:25.8799991607666px;background-color:#FFFFFF;"><strong>MagicalRecord</strong></span> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;">&nbsp;的其他方式来保存</span> 
<span style="font-style:inherit;font-family:Helvetica, sans-serif;font-size:16px;vertical-align:baseline;color:#006837;line-height:25.8799991607666px;background-color:#FFFFFF;"><strong>managedObjectContext</strong></span> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;">。</span> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-size:10px;"><span style="line-height:25.87px;font-family:Helvetica, sans-serif;font-size:16px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.8799991607666px;">把App跑起来，删除一个Beer（使用传统的删除cell的方式）如果你重启App，beer就消失了。你做的很对，保存了我们的更改。这意味着你已经正确的使用了&nbsp;<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>MagicalRecord</strong></span>。拍拍肩膀，放松下。<br> <br> </span></span></span></span></span></span> </p> 
<h2> <a name="t7" rel="nofollow"></a><span style="font-size:10px;"><span style="line-height:25.87px;font-family:Helvetica, sans-serif;font-size:16px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.8799991607666px;">Demo数据</span></span></span></span></span></span> </h2> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-size:10px;"><span style="line-height:25.87px;font-family:Helvetica, sans-serif;font-size:16px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;">给用户一些初始化的数据，用户就会很容易明白怎么记录自己喜欢的啤酒，这样会更好。在<span style="line-height:25.8799991607666px;">&nbsp;</span><span style="font-style:inherit;vertical-align:baseline;color:#006837;line-height:25.8799991607666px;"><strong>AppDelegate.m</strong></span><span style="line-height:25.8799991607666px;">里面导入&nbsp;</span><span style="font-style:inherit;vertical-align:baseline;color:#006837;line-height:25.8799991607666px;"><strong>Beer.h</strong></span><span style="line-height:25.8799991607666px;">,&nbsp;</span><span style="font-style:inherit;vertical-align:baseline;color:#006837;line-height:25.8799991607666px;"><strong>BeerDetails.h</strong></span><span style="line-height:25.8799991607666px;">. 当建立&nbsp;Core Data堆栈之后加入以下代码：</span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-size:10px;"><span style="line-height:25.87px;font-family:Helvetica, sans-serif;font-size:16px;"><span style="line-height:25.8799991607666px;"></span></span></span> </p> 
<div> 
 <div> 
  <div> 
   <b>[objc]</b>&nbsp; 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
   <div> 
   </div> 
  </div> 
 </div> 
 <ol> 
  <li> <span style="color:black;background-color:inherit;"><span style="color:#008200;background-color:inherit;">//&nbsp;Setup&nbsp;App&nbsp;with&nbsp;prefilled&nbsp;Beer&nbsp;items.</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;"><span style="color:#006699;font-weight:bold;background-color:inherit;">if</span><span style="background-color:inherit;">&nbsp;(![[NSUserDefaults</span><span style="color:#DD0000;background-color:inherit;">&nbsp;standardUserDefaults</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;objectForKey</span><span style="background-color:inherit;">:</span><span style="color:blue;background-color:inherit;">@"MR_HasPrefilledBeers"</span><span style="background-color:inherit;">])&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;Create&nbsp;Blond&nbsp;Ale</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">Beer</span><span style="background-color:inherit;">&nbsp;*blondAle&nbsp;=&nbsp;[Beer</span><span style="color:#DD0000;background-color:inherit;">&nbsp;createEntity</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;blondAle<span style="background-color:inherit;">.name</span><span style="background-color:inherit;">&nbsp;&nbsp;=&nbsp;</span><span style="color:blue;background-color:inherit;">@"Blond&nbsp;Ale"</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;blondAle<span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">&nbsp;=&nbsp;[BeerDetails</span><span style="color:#DD0000;background-color:inherit;">&nbsp;createEntity</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;blondAle<span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">.rating</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">@4</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[ImageSaver<span style="color:#DD0000;background-color:inherit;">&nbsp;saveImageToDisk</span><span style="background-color:inherit;">:[UIImage</span><span style="color:#DD0000;background-color:inherit;">&nbsp;imageNamed</span><span style="background-color:inherit;">:</span><span style="color:blue;background-color:inherit;">@"blond.jpg"</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;andToBeer</span><span style="background-color:inherit;">:blondAle];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;Create&nbsp;Wheat&nbsp;Beer</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">Beer</span><span style="background-color:inherit;">&nbsp;*wheatBeer&nbsp;=&nbsp;[Beer</span><span style="color:#DD0000;background-color:inherit;">&nbsp;createEntity</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;wheatBeer<span style="background-color:inherit;">.name</span><span style="background-color:inherit;">&nbsp;&nbsp;=&nbsp;</span><span style="color:blue;background-color:inherit;">@"Wheat&nbsp;Beer"</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;wheatBeer<span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">&nbsp;=&nbsp;[BeerDetails</span><span style="color:#DD0000;background-color:inherit;">&nbsp;createEntity</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;wheatBeer<span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">.rating</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">@2</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[ImageSaver<span style="color:#DD0000;background-color:inherit;">&nbsp;saveImageToDisk</span><span style="background-color:inherit;">:[UIImage</span><span style="color:#DD0000;background-color:inherit;">&nbsp;imageNamed</span><span style="background-color:inherit;">:</span><span style="color:blue;background-color:inherit;">@"wheat.jpg"</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;andToBeer</span><span style="background-color:inherit;">:wheatBeer];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;Create&nbsp;Pale&nbsp;Lager</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">Beer</span><span style="background-color:inherit;">&nbsp;*paleLager&nbsp;=&nbsp;[Beer</span><span style="color:#DD0000;background-color:inherit;">&nbsp;createEntity</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;paleLager<span style="background-color:inherit;">.name</span><span style="background-color:inherit;">&nbsp;&nbsp;=&nbsp;</span><span style="color:blue;background-color:inherit;">@"Pale&nbsp;Lager"</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;paleLager<span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">&nbsp;=&nbsp;[BeerDetails</span><span style="color:#DD0000;background-color:inherit;">&nbsp;createEntity</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;paleLager<span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">.rating</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">@3</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[ImageSaver<span style="color:#DD0000;background-color:inherit;">&nbsp;saveImageToDisk</span><span style="background-color:inherit;">:[UIImage</span><span style="color:#DD0000;background-color:inherit;">&nbsp;imageNamed</span><span style="background-color:inherit;">:</span><span style="color:blue;background-color:inherit;">@"pale.jpg"</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;andToBeer</span><span style="background-color:inherit;">:paleLager];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;Create&nbsp;Stout</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">Beer</span><span style="background-color:inherit;">&nbsp;*stout&nbsp;=&nbsp;[Beer</span><span style="color:#DD0000;background-color:inherit;">&nbsp;createEntity</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;stout<span style="background-color:inherit;">.name</span><span style="background-color:inherit;">&nbsp;&nbsp;=&nbsp;</span><span style="color:blue;background-color:inherit;">@"Stout&nbsp;Lager"</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;stout<span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">&nbsp;=&nbsp;[BeerDetails</span><span style="color:#DD0000;background-color:inherit;">&nbsp;createEntity</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;stout<span style="background-color:inherit;">.beerDetails</span><span style="background-color:inherit;">.rating</span><span style="background-color:inherit;">&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">@5</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[ImageSaver<span style="color:#DD0000;background-color:inherit;">&nbsp;saveImageToDisk</span><span style="background-color:inherit;">:[UIImage</span><span style="color:#DD0000;background-color:inherit;">&nbsp;imageNamed</span><span style="background-color:inherit;">:</span><span style="color:blue;background-color:inherit;">@"stout.jpg"</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;andToBeer</span><span style="background-color:inherit;">:stout];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;Save&nbsp;Managed&nbsp;Object&nbsp;Context</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[[NSManagedObjectContext<span style="color:#DD0000;background-color:inherit;">&nbsp;defaultContext</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;saveToPersistentStoreWithCompletion</span><span style="color:#006699;font-weight:bold;background-color:inherit;">:nil</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;</span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;Set&nbsp;User&nbsp;Default&nbsp;to&nbsp;prevent&nbsp;another&nbsp;preload&nbsp;of&nbsp;data&nbsp;on&nbsp;startup.</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[[NSUserDefaults<span style="color:#DD0000;background-color:inherit;">&nbsp;standardUserDefaults</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;setBool</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">YES</span><span style="color:#DD0000;background-color:inherit;">&nbsp;forKey</span><span style="background-color:inherit;">:</span><span style="color:blue;background-color:inherit;">@"MR_HasPrefilledBeers"</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[[NSUserDefaults<span style="color:#DD0000;background-color:inherit;">&nbsp;standardUserDefaults</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;synchronize</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> </li> 
 </ol> 
</div> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;">在本教程的开始你下载的启动ap，包含了4张灰白色的啤酒照片。在这里你只需要创建4种不同的啤酒，然后保存它们。在</span> 
<span style="font-style:inherit;font-family:Helvetica, sans-serif;font-size:16px;vertical-align:baseline;color:#006837;line-height:25.8799991607666px;background-color:#FFFFFF;"><strong>NSUserDefaults</strong></span> 
<span style="color:#333333;font-family:Helvetica, sans-serif;font-size:16px;line-height:25.8799991607666px;background-color:#FFFFFF;">&nbsp;里面保存个标志，确保应用里面预先填好数据模型当应用程序第一次启动的时候。</span> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;"></span> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-size:10px;"><span style="line-height:25.87px;font-family:Helvetica, sans-serif;font-size:16px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.8799991607666px;">再次运行应用程序，现在你就可以看到所有的新啤酒了。尝试删除一个，然后重新运行Ap，然后删掉的那个就消失了。如果你想再一次看到那几个啤酒，从设备里面删除应用，重新运行应用就可以了。<br> <img src="./博客 - Snaiper的个人空间 - 开源中国社区_files/09173125_dY3m.jpg" alt=""><br> </span></span></span></span></span></span> </p> 
<h2> <a name="t8" rel="nofollow"></a><span style="font-size:10px;"><span style="line-height:25.87px;font-family:Helvetica, sans-serif;font-size:16px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.8799991607666px;">搜索</span></span></span></span></span></span> </h2> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-size:10px;"><span style="line-height:25.87px;font-family:Helvetica, sans-serif;font-size:16px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.8799991607666px;">现在你已经有超过一种的啤酒，可以测试一下搜索的功能，启动Ap已经包含了一个搜索栏，滑动到列表的头部就可以看到。你所需要做的仅仅是添加搜索啤酒的逻辑。</span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-size:10px;"><span style="line-height:25.87px;font-family:Helvetica, sans-serif;font-size:16px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.8799991607666px;">之前你使用过<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>MagicalRecord</strong></span>&nbsp;的一个方法来获取所有种类的啤酒。然后她仅仅简单的返回了所有品种的啤酒，现在你需要在所有啤酒里面检索特殊种类的啤酒。</span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-size:10px;"><span style="line-height:25.87px;font-family:Helvetica, sans-serif;font-size:16px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.8799991607666px;">要做到这一点你需要用到谓语动词。之前教程已经讲解了一个使用谓语动词检索的方法。----你能猜出来怎么做吗？逻辑代码在<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>MasterViewController.m</strong></span>&nbsp;的doSearch&nbsp;方法里面。</span></span></span></span></span></span> </p> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-size:10px;"><span style="line-height:25.87px;font-family:Helvetica, sans-serif;font-size:16px;"><span style="line-height:25.8799991607666px;"></span></span></span> </p> 
<div> 
 <div> 
  <div> 
   <b>[objc]</b>&nbsp; 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">view plain</a> 
   <a href="http://blog.csdn.net/dongtaochen2039/article/details/40376197#" rel="nofollow">copy</a> 
   <div> 
   </div> 
  </div> 
 </div> 
 <ol> 
  <li> <span style="color:black;background-color:inherit;"><span style="background-color:inherit;">-&nbsp;(</span><span style="color:#006699;font-weight:bold;background-color:inherit;">void</span><span style="background-color:inherit;">)doSearch&nbsp;{&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;1.&nbsp;Get&nbsp;the&nbsp;text&nbsp;from&nbsp;the&nbsp;search&nbsp;bar.</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">NSString</span><span style="background-color:inherit;">&nbsp;*searchText&nbsp;=&nbsp;</span><span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.searchBar</span><span style="background-color:inherit;">.text</span><span style="background-color:inherit;">;&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;2.&nbsp;Do&nbsp;a&nbsp;fetch&nbsp;on&nbsp;the&nbsp;beers&nbsp;that&nbsp;match&nbsp;Predicate&nbsp;criteria.</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;In&nbsp;this&nbsp;case,&nbsp;if&nbsp;the&nbsp;name&nbsp;contains&nbsp;the&nbsp;string</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.beers</span><span style="background-color:inherit;">&nbsp;=&nbsp;[[Beer</span><span style="color:#DD0000;background-color:inherit;">&nbsp;findAllSortedBy</span><span style="background-color:inherit;">:SORT_KEY_NAME</span><span style="color:#DD0000;background-color:inherit;">&nbsp;ascending</span><span style="background-color:inherit;">:</span><span style="color:#006699;font-weight:bold;background-color:inherit;">YES</span><span style="color:#DD0000;background-color:inherit;">&nbsp;withPredicate</span><span style="background-color:inherit;">:[NSPredicate</span><span style="color:#DD0000;background-color:inherit;">&nbsp;predicateWithFormat</span><span style="background-color:inherit;">:</span><span style="color:blue;background-color:inherit;">@"name&nbsp;contains[c]&nbsp;%@"</span><span style="background-color:inherit;">,</span><span style="color:#DD0000;background-color:inherit;">&nbsp;searchText</span><span style="background-color:inherit;">]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;inContext</span><span style="background-color:inherit;">:[NSManagedObjectContext</span><span style="color:#DD0000;background-color:inherit;">&nbsp;defaultContext</span><span style="background-color:inherit;">]]</span><span style="color:#DD0000;background-color:inherit;">&nbsp;mutableCopy</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008200;background-color:inherit;">//&nbsp;3.&nbsp;Reload&nbsp;the&nbsp;table&nbsp;to&nbsp;show&nbsp;the&nbsp;query&nbsp;results.</span><span style="background-color:inherit;">&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#006699;font-weight:bold;background-color:inherit;">self</span><span style="background-color:inherit;">.tableView</span><span style="color:#DD0000;background-color:inherit;">&nbsp;reloadData</span><span style="background-color:inherit;">];&nbsp;&nbsp;</span></span> </li> 
  <li> <span style="color:black;background-color:inherit;">}&nbsp;&nbsp;</span> </li> 
 </ol> 
</div> 
<br> 
<span style="color:#333333;font-family:Arial;font-size:14px;line-height:26px;background-color:#FFFFFF;">再次运行Ap将啤酒列表页面向下拽，一直到出现搜索栏。在列表栏里面搜索（列表里有的和没有的），你得到想要的结果了吗？</span> 
<p style="color:#333333;font-family:Arial;font-size:14px;background-color:#FFFFFF;"> <span style="font-size:10px;"><span style="line-height:25.87px;font-family:Helvetica, sans-serif;font-size:16px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.8799991607666px;"><img src="./博客 - Snaiper的个人空间 - 开源中国社区_files/09173126_YQh2.jpg" alt=""><br> </span></span></span></span></span></span> </p> 
<h2> <a name="t9" rel="nofollow"></a><span style="font-size:10px;"><span style="line-height:25.87px;font-family:Helvetica, sans-serif;font-size:16px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.87px;"><span style="line-height:25.8799991607666px;">从这之后干什么</span></span></span></span></span></span> </h2> 
<div> 
 <span style="font-family:Helvetica, sans-serif;"><span style="line-height:25.8799991607666px;">但愿，<span style="font-size:16px;">MagicalRecord 教程能够展示给你使用MagicalRecord 有多么的容易。学会这个样板真的很有用。你在教程里面探索的原理能够帮你开发各种ap，来帮助用户记录他们喜欢的图片，笔记，和评价。多享受啊！</span></span></span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;"><span style="line-height:25.8799991607666px;"><span style="font-size:16px;">你可以下载完整的代码在<a target="_blank" href="http://download.csdn.net/detail/dongtaochen2039/8139455" rel="nofollow">这个链接</a>，如果你卡在哪里这将很有帮助。</span></span></span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;"><span style="line-height:25.8799991607666px;"><span style="font-size:16px;">如果你想进一步开发这个工程，下面是一些想法：</span></span></span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;"><span style="line-height:25.8799991607666px;">1、在<span style="font-size:16px;">MasterViewController 里面</span>添加“还没创建啤酒”的提示。-----检查并使用MagicalRecord 里面的<span style="color:#006837;font-family:Courier, monospace;"><strong>hasAtLeastOneEntity</strong></span><span style="font-family:Courier, monospace;">方法。</span></span></span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;"><span style="line-height:25.8799991607666px;"><span style="font-family:Courier, monospace;">2、添加消息提示有多少啤酒匹配搜索条件，使用countOfEntitiesWithPredicate:<span style="font-family:Helvetica, sans-serif;font-size:16px;">&nbsp;方法。</span></span></span></span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;"><span style="line-height:25.8799991607666px;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;font-size:16px;">3、完善数据库重置功能-----查看MagicalRecord里面的truncateAll&nbsp;方法。</span></span></span></span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;"><span style="line-height:25.8799991607666px;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;font-size:16px;">4、如果有兴趣打开&nbsp;<span style="font-style:inherit;vertical-align:baseline;color:#006837;"><strong>MagicalRecordShorthand.h</strong></span>&nbsp;阅读以下里面的方法是名称----大部分方法的名字都很容易理解，这个头文件应该会给你一些怎么使用MagicalRecord的一些更好的想法。</span></span></span></span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;"><span style="line-height:25.8799991607666px;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;font-size:16px;">如果你对本教程有任何问题，或者有任何评论，请加入下面的讨论。</span></span></span></span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;"><span style="line-height:25.8799991607666px;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;font-size:16px;"><br> </span></span></span></span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;"><span style="line-height:25.8799991607666px;"><span style="font-family:Courier, monospace;"><span style="font-family:Helvetica, sans-serif;font-size:16px;"><br> </span></span></span></span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;"><span style="line-height:25.8799991607666px;">初次翻译，错误之处还请谅解. &nbsp;完整例子代码见：</span></span> 
</div> 
<div> 
 <span style="font-family:Helvetica, sans-serif;">http://download.csdn.net/detail/yjw179/9397366<br> </span> 
</div>
    		    	</div>
						<div class="bottom">
			发布于 5天前，
						阅读(48) | 评论(0) |  投票(0) | 收藏(1) 
    		<a href="http://my.oschina.net/u/1244672/blog/600117" class="fullcontent">阅读全文...</a>
    	</div>
		      </li>
          <li class="Blog" id="blog_552197">      
		<div class="BlogTitle">
    		<div class="title">
            	<h2>
					<span class="icon" style="background:#44ac57;" title="原创博客">原</span>																									<a href="http://my.oschina.net/u/1244672/blog/552197">iOS开发的一些奇巧淫技</a></h2>        		<div class="outline">
            	  <span class="catalog">
										分类: 
						<a href="http://my.oschina.net/u/1244672/blog?catalog=3369355">涨姿势</a>										  </span>		  
        		              	              	</div>
    		</div>		
		</div>
        <span class="date"><em>28</em>2015-12</span>
    	    	<div class="BlogContent" id="blog_content_552197">
    		    		<div>
<p>
<strong><span style="line-height:1.8;">TableView不显示没内容的Cell怎么办?</span></strong>
</p>
<p>
类似这种,我不想让下面那些空的显示.
</p>
<p style="text-align:center;">

</p>
<p>
很简单.
</p>
<div>
<div>
<table border="0" cellpadding="0" cellspacing="0" style="width:720px;border:0px !important;height:auto !important;margin:0px !important;padding:0px !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<tbody>
<tr>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;color:#AFAFAF !important;background:none !important;">
<div>
1
</div>
</td>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<div>
<div>
self.tableView.tableFooterView&nbsp;=&nbsp;[[UIView&nbsp;alloc]&nbsp;init];
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>
试过的都说好.
</p>
<p>
加完这句之后就变成了这样.
</p>
<p style="text-align:center;">
<img src="./博客 - Snaiper的个人空间 - 开源中国社区_files/28112721_hq5S.png" title="1419815508466784.png" alt="02.png">
</p>
<p>
<strong>自定义了leftBarbuttonItem左滑返回手势失效了怎么办?</strong>
</p>
<div>
<div>
<table border="0" cellpadding="0" cellspacing="0" style="width:1115px;border:0px !important;height:auto !important;margin:0px !important;padding:0px !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<tbody>
<tr>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;color:#AFAFAF !important;background:none !important;">
<div>
1
</div>
<div>
2
</div>
<div>
3
</div>
<div>
4
</div>
<div>
5
</div>
<div>
6
</div>
</td>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;self.navigationItem.leftBarButtonItem&nbsp;=&nbsp;[[UIBarButtonItem&nbsp;alloc]
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initWithImage:img
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style:UIBarButtonItemStylePlain
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target:self
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;action:@selector(onBack:)];
</div>
<div>
self.navigationController.interactivePopGestureRecognizer.delegate&nbsp;=&nbsp;(id&lt;uigesturerecognizerdelegate&gt;)self;&lt;/uigesturerecognizerdelegate&gt;
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>
ScrollView莫名其妙不能在viewController划到顶怎么办?
</p>
<div>
<div>
<table border="0" cellpadding="0" cellspacing="0" style="width:720px;border:0px !important;height:auto !important;margin:0px !important;padding:0px !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<tbody>
<tr>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;color:#AFAFAF !important;background:none !important;">
<div>
1
</div>
</td>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<div>
<div>
self.automaticallyAdjustsScrollViewInsets&nbsp;=&nbsp;NO;
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>
<strong>键盘事件写的好烦躁,都想摔键盘了,怎么办?</strong>
</p>
<p>
1.买个结实的键盘.
</p>
<p>
2.使用IQKeyboardManager(github上可搜索),用完之后腰也不疼了,腿也不酸了.
</p>
<p>
<strong>为什么我的app老是不流畅,到底哪里出了问题?</strong>
</p>
<p>
如图
</p>
<p style="text-align:center;">
<img src="./博客 - Snaiper的个人空间 - 开源中国社区_files/28112721_dOpX.gif" title="1419815593442686.gif" alt="03.gif">
</p>
<p>
这个神器叫做:KMCGeigerCounter,<span style="line-height:1.8;">快去github搬运吧.</span>
</p>
<p>
<strong>怎么在不新建一个Cell的情况下调整separaLine的位置?</strong>
</p>
<div>
<div>
<table border="0" cellpadding="0" cellspacing="0" style="width:720px;border:0px !important;height:auto !important;margin:0px !important;padding:0px !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<tbody>
<tr>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;color:#AFAFAF !important;background:none !important;">
<div>
1
</div>
</td>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<div>
<div>
_myTableView.separatorInset&nbsp;=&nbsp;UIEdgeInsetsMake(0,&nbsp;100,&nbsp;0,&nbsp;0);
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>
<strong>怎么点击self.view就让键盘收起,需要添加一个tapGestures么?</strong>
</p>
<div>
<div>
<table border="0" cellpadding="0" cellspacing="0" style="width:720px;border:0px !important;height:auto !important;margin:0px !important;padding:0px !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<tbody>
<tr>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;color:#AFAFAF !important;background:none !important;">
<div>
1
</div>
<div>
2
</div>
<div>
3
</div>
<div>
4
</div>
</td>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<div>
<div>
-&nbsp;(void)touchesBegan:(NSSet&nbsp;*)touches&nbsp;withEvent:(UIEvent&nbsp;*)event
</div>
<div>
{
</div>
<div>
&nbsp;&nbsp;&nbsp;[self.view&nbsp;endEditing:YES];
</div>
<div>
}
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>
<strong>怎么给每个ViewController设定默认的背景图片?</strong>
</p>
<p>
使用基类啊,少年。
</p>
<p>
<strong><span style="line-height:1.8;">想在代码里改在xib里添加的layoutAttributes,但是怎么用代码找啊?</span></strong>
</p>
<p>
像拉button一样的拉你的约束.nslayoutattribute也是可以拉线的.
</p>
<p>
<strong>怎么像safari一样滑动的时候隐藏navigationbar?</strong>
</p>
<div>
<div>
<table border="0" cellpadding="0" cellspacing="0" style="width:720px;border:0px !important;height:auto !important;margin:0px !important;padding:0px !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<tbody>
<tr>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;color:#AFAFAF !important;background:none !important;">
<div>
1
</div>
</td>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<div>
<div>
navigationController.hidesBarsOnSwipe&nbsp;=&nbsp;Yes
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>
<strong>导航条返回键带的title太讨厌了,怎么让它消失!</strong>
</p>
<div>
<div>
<table border="0" cellpadding="0" cellspacing="0" style="width:738px;border:0px !important;height:auto !important;margin:0px !important;padding:0px !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<tbody>
<tr>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;color:#AFAFAF !important;background:none !important;">
<div>
1
</div>
<div>
2
</div>
</td>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<div>
<div>
[[UIBarButtonItem&nbsp;appearance]&nbsp;setBackButtonTitlePositionAdjustment:UIOffsetMake(0,&nbsp;-60)
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forBarMetrics:UIBarMetricsDefault];
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>
<strong>CoreData用起来好烦,语法又臭又长,怎么办?</strong>
</p>
<p>
MagicRecord
</p>
<p>
<strong>CollectionView 怎么实现tableview那种悬停的header?</strong>
</p>
<p>
CSStickyHeaderFlowLayou
</p>
<p>
<strong>能不能只用一个pan手势来代替UISwipegesture的各个方向?</strong>
</p>
<div>
<div>
<table border="0" cellpadding="0" cellspacing="0" style="width:777px;border:0px !important;height:auto !important;margin:0px !important;padding:0px !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<tbody>
<tr>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;color:#AFAFAF !important;background:none !important;">
<div>
1
</div>
<div>
2
</div>
<div>
3
</div>
<div>
4
</div>
<div>
5
</div>
<div>
6
</div>
<div>
7
</div>
<div>
8
</div>
<div>
9
</div>
<div>
10
</div>
<div>
11
</div>
<div>
12
</div>
<div>
13
</div>
<div>
14
</div>
<div>
15
</div>
<div>
16
</div>
<div>
17
</div>
<div>
18
</div>
<div>
19
</div>
<div>
20
</div>
<div>
21
</div>
<div>
22
</div>
<div>
23
</div>
<div>
24
</div>
<div>
25
</div>
<div>
26
</div>
<div>
27
</div>
<div>
28
</div>
<div>
29
</div>
<div>
30
</div>
<div>
31
</div>
<div>
32
</div>
<div>
33
</div>
<div>
34
</div>
<div>
35
</div>
<div>
36
</div>
<div>
37
</div>
<div>
38
</div>
<div>
39
</div>
<div>
40
</div>
<div>
41
</div>
<div>
42
</div>
<div>
43
</div>
<div>
44
</div>
<div>
45
</div>
<div>
46
</div>
<div>
47
</div>
<div>
48
</div>
<div>
49
</div>
<div>
50
</div>
<div>
51
</div>
<div>
52
</div>
<div>
53
</div>
<div>
54
</div>
<div>
55
</div>
<div>
56
</div>
<div>
57
</div>
<div>
58
</div>
<div>
59
</div>
<div>
60
</div>
<div>
61
</div>
<div>
62
</div>
<div>
63
</div>
<div>
64
</div>
</td>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<div>
<div>
-&nbsp;(void)pan:(UIPanGestureRecognizer&nbsp;*)sender
</div>
<div>
{
</div>
<div>
typedef&nbsp;NS_ENUM(NSUInteger,&nbsp;UIPanGestureRecognizerDirection)&nbsp;{
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;UIPanGestureRecognizerDirectionUndefined,
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;UIPanGestureRecognizerDirectionUp,
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;UIPanGestureRecognizerDirectionDown,
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;UIPanGestureRecognizerDirectionLeft,
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;UIPanGestureRecognizerDirectionRight
</div>
<div>
};
</div>
<div>
static&nbsp;UIPanGestureRecognizerDirection&nbsp;direction&nbsp;=&nbsp;UIPanGestureRecognizerDirectionUndefined;
</div>
<div>
switch&nbsp;(sender.state)&nbsp;{
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;UIGestureRecognizerStateBegan:&nbsp;{
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(direction&nbsp;==&nbsp;UIPanGestureRecognizerDirectionUndefined)&nbsp;{
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGPoint&nbsp;velocity&nbsp;=&nbsp;[sender&nbsp;velocityInView:recognizer.view];
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BOOL&nbsp;isVerticalGesture&nbsp;=&nbsp;fabs(velocity.y)&nbsp;&gt;&nbsp;fabs(velocity.x);
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(isVerticalGesture)&nbsp;{
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(velocity.y&nbsp;&gt;&nbsp;0)&nbsp;{
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;direction&nbsp;=&nbsp;UIPanGestureRecognizerDirectionDown;
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;direction&nbsp;=&nbsp;UIPanGestureRecognizerDirectionUp;
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;{
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(velocity.x&nbsp;&gt;&nbsp;0)&nbsp;{
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;direction&nbsp;=&nbsp;UIPanGestureRecognizerDirectionRight;
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;direction&nbsp;=&nbsp;UIPanGestureRecognizerDirectionLeft;
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;}
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;UIGestureRecognizerStateChanged:&nbsp;{
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch&nbsp;(direction)&nbsp;{
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;UIPanGestureRecognizerDirectionUp:&nbsp;{
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[self&nbsp;handleUpwardsGesture:sender];
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;UIPanGestureRecognizerDirectionDown:&nbsp;{
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[self&nbsp;handleDownwardsGesture:sender];
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;UIPanGestureRecognizerDirectionLeft:&nbsp;{
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[self&nbsp;handleLeftGesture:sender];
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;UIPanGestureRecognizerDirectionRight:&nbsp;{
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[self&nbsp;handleRightGesture:sender];
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default:&nbsp;{
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;}
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;UIGestureRecognizerStateEnded:&nbsp;{
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;direction&nbsp;=&nbsp;UIPanGestureRecognizerDirectionUndefined;&nbsp;&nbsp;&nbsp;
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;}
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;default:
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
</div>
<div>
}
</div>
<div>
}
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>
<strong>拉伸图片的时候怎么才能让图片不变形？<br>
</strong>1.UIImage *image = [[UIImage imageNamed:@"xxx"] stretchableImageWithLeftCapWidth:10 topCapHeight:10];
</p>
<p>
<span style="line-height:1.8;">2.<br>
</span>
</p>
<p style="text-align:center;">
<img src="./博客 - Snaiper的个人空间 - 开源中国社区_files/28112721_WG4e.gif" title="1419815926722914.gif" alt="05.gif">
</p>
<p>
<span style="line-height:1.8;"></span><strong><span style="line-height:1.8;"><br>
怎么播放GIF的时候这么卡，有没有好点的库？</span></strong>
</p>
<p>
FlipBoard出品的太适合你了：<a href="https://github.com/Flipboard/FLAnimatedImage" target="_blank" rel="nofollow">https://github.com/Flipboard/FLAnimatedImage</a>
</p>
<p>
<strong>怎么一句话添加上拉刷新？</strong>
</p>
<p>
<a href="https://github.com/samvermette/SVPullToRefresh" target="_blank" rel="nofollow">https://github.com/samvermette/SVPullToRefresh</a>
</p>
<div>
<div>
<table border="0" cellpadding="0" cellspacing="0" style="width:720px;border:0px !important;height:auto !important;margin:0px !important;padding:0px !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<tbody>
<tr>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;color:#AFAFAF !important;background:none !important;">
<div>
1
</div>
<div>
2
</div>
<div>
3
</div>
<div>
4
</div>
</td>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<div>
<div>
[tableView&nbsp;addPullToRefreshWithActionHandler:^{
</div>
<div>
//&nbsp;prepend&nbsp;data&nbsp;to&nbsp;dataSource,&nbsp;insert&nbsp;cells&nbsp;at&nbsp;top&nbsp;of&nbsp;table&nbsp;view
</div>
<div>
//&nbsp;call&nbsp;[tableView.pullToRefreshView&nbsp;stopAnimating]&nbsp;when&nbsp;done
</div>
<div>
}&nbsp;position:SVPullToRefreshPositionBottom];
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>
<strong>怎么把tableview里cell的小对勾的颜色改成别的颜色？</strong>
</p>
<div>
<div>
<table border="0" cellpadding="0" cellspacing="0" style="width:720px;border:0px !important;height:auto !important;margin:0px !important;padding:0px !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<tbody>
<tr>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;color:#AFAFAF !important;background:none !important;">
<div>
1
</div>
</td>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<div>
<div>
_mTableView.tintColor&nbsp;=&nbsp;[UIColor&nbsp;redColor];
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p style="text-align:center;">
<img src="./博客 - Snaiper的个人空间 - 开源中国社区_files/28112721_7MSL.png" title="1419815807199742.png" alt="04.png">
</p>
<p>
<strong>本来我的statusbar是lightcontent的，结果用UIImagePickerController会导致我的statusbar的样式变成黑色，怎么办？</strong>
</p>
<div>
<div>
<table border="0" cellpadding="0" cellspacing="0" style="width:1269px;border:0px !important;height:auto !important;margin:0px !important;padding:0px !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<tbody>
<tr>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;color:#AFAFAF !important;background:none !important;">
<div>
1
</div>
<div>
2
</div>
<div>
3
</div>
<div>
4
</div>
</td>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<div>
<div>
-&nbsp;(void)navigationController:(UINavigationController&nbsp;*)navigationController&nbsp;willShowViewController:(UIViewController&nbsp;*)viewController&nbsp;animated:(BOOL)animated
</div>
<div>
{
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;[[UIApplication&nbsp;sharedApplication]&nbsp;setStatusBarStyle:UIStatusBarStyleLightContent];
</div>
<div>
}
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>
<strong>怎么把我的navigationbar弄成透明的而不是带模糊的效果？</strong>
</p>
<div>
<div>
<table border="0" cellpadding="0" cellspacing="0" style="width:720px;border:0px !important;height:auto !important;margin:0px !important;padding:0px !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<tbody>
<tr>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;color:#AFAFAF !important;background:none !important;">
<div>
1
</div>
<div>
2
</div>
<div>
3
</div>
<div>
4
</div>
</td>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<div>
<div>
[self.navigationBar&nbsp;setBackgroundImage:[UIImage&nbsp;new]
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forBarMetrics:UIBarMetricsDefault];
</div>
<div>
self.navigationBar.shadowImage&nbsp;=&nbsp;[UIImage&nbsp;new];
</div>
<div>
self.navigationBar.translucent&nbsp;=&nbsp;YES;
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>
<strong><span style="line-height:1.8;">怎么改变uitextfield placeholder的颜色和位置？</span></strong>
</p>
<p>
继承uitextfield，重写这个方法
</p>
<div>
<div>
<table border="0" cellpadding="0" cellspacing="0" style="width:1069px;border:0px !important;height:auto !important;margin:0px !important;padding:0px !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<tbody>
<tr>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;color:#AFAFAF !important;background:none !important;">
<div>
1
</div>
<div>
2
</div>
<div>
3
</div>
<div>
4
</div>
</td>
<td style="border:0px !important;vertical-align:baseline !important;font-family:Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important;font-size:1em !important;background:none !important;">
<div>
<div>
-&nbsp;(void)&nbsp;drawPlaceholderInRect:(CGRect)rect&nbsp;{
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;[[UIColor&nbsp;blueColor]&nbsp;setFill];
</div>
<div>
&nbsp;&nbsp;&nbsp;&nbsp;[self.placeholder&nbsp;drawInRect:rect&nbsp;withFont:self.font&nbsp;lineBreakMode:UILineBreakModeTailTruncation&nbsp;alignment:self.textAlignment];
</div>
<div>
}
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>
<strong><span style="line-height:1.8;">你为什么知道这么多奇怪的花招？</span></strong>
</p>
<p>
去stackoverflow刷问题啊，少年！
</p>
</div>
<div>
</div>
<div>
</div>
    		    	</div>
						<div class="bottom">
			发布于 2周前，
						阅读(41) | 评论(0) |  投票(0) | 收藏(5) 
    		<a href="http://my.oschina.net/u/1244672/blog/552197" class="fullcontent">阅读全文...</a>
    	</div>
		      </li>
          <li class="Blog" id="blog_548536">      
		<div class="BlogTitle">
    		<div class="title">
            	<h2>
					<span class="icon" style="background:#44ac57;" title="原创博客">原</span>																									<a href="http://my.oschina.net/u/1244672/blog/548536">AFNetWorking https 雙向認證</a></h2>        		<div class="outline">
            	  <span class="catalog">
										分类: 
						<a href="http://my.oschina.net/u/1244672/blog?catalog=427126">网络</a>										  </span>		  
        		              	              	</div>
    		</div>		
		</div>
        <span class="date"><em>21</em>2015-12</span>
    	    	<div class="BlogContent" id="blog_content_548536">
    		    		<p style="box-sizing: border-box; margin-top: 0px;">客戶端驗證服務端證書：</p><p style="box-sizing: border-box; margin-top: 0px;">需要http配置路徑需要域名</p><p style="box-sizing: border-box; margin-top: 0px;">1:先項目中倒入服務端證書 sever.cer，</p><p style="box-sizing: border-box; margin-top: 0px;">2.然後設置 AFSecurityPolicy</p><p style="box-sizing: border-box; margin-top: 0px;">self.manager = [AFHTTPRequestOperationManager manager];</p><p style="box-sizing: border-box; margin-top: 0px;">self.manager.responseSerializer = [[AFHTTPResponseSerializer alloc] init];</p><p style="box-sizing: border-box; margin-top: 0px;">[self.manager.requestSerializer setValue:@"iphone" forHTTPHeaderField:@"header-platform"];</p><p style="box-sizing: border-box; margin-top: 0px;">self.manager.securityPolicy = [AFSecurityPolicy policyWithPinningMode:AFSSLPinningModePublicKey];</p><p style="box-sizing: border-box; margin-top: 0px;">self.manager.securityPolicy.allowInvalidCertificates = YES;</p><p style="box-sizing: border-box; margin-top: 0px;">self.manager.securityPolicy.validatesDomainName = NO;</p><p style="box-sizing: border-box; margin-top: 0px;">self.manager.securityPolicy.validatesCertificateChain = NO;</p><p style="box-sizing: border-box; margin-top: 0px;">客戶端會變了項目中的證書和服務端的證書匹配</p><p style="box-sizing: border-box; margin-top: 0px;">服務端驗證客戶端證書，首先把服務端的證書client.p12 導入到服務端的密鑰庫裏</p><p style="box-sizing: border-box; margin-top: 0px;">然後在 AFURLConnectionOperation.m中加入以下方法</p><p style="box-sizing: border-box; margin-top: 0px;">- (OSStatus)extractIdentity:(CFDataRef)inP12Data :(SecIdentityRef*)identity {</p><p style="box-sizing: border-box; margin-top: 0px;">OSStatus securityError = errSecSuccess;</p><p style="box-sizing: border-box; margin-top: 0px;">CFStringRef password = CFSTR("clic1234");</p><p style="box-sizing: border-box; margin-top: 0px;">const void *keys[] = { kSecImportExportPassphrase };</p><p style="box-sizing: border-box; margin-top: 0px;">const void *values[] = { password };</p><p style="box-sizing: border-box; margin-top: 0px;">CFDictionaryRef options = CFDictionaryCreate(NULL, keys, values, 1, NULL, NULL);</p><p style="box-sizing: border-box; margin-top: 0px;">CFArrayRef items = CFArrayCreate(NULL, 0, 0, NULL);</p><p style="box-sizing: border-box; margin-top: 0px;">securityError = SecPKCS12Import(inP12Data, options, &amp;items);</p><p style="box-sizing: border-box; margin-top: 0px;">if (securityError == 0)</p><p style="box-sizing: border-box; margin-top: 0px;">{</p><p style="box-sizing: border-box; margin-top: 0px;">CFDictionaryRef ident = CFArrayGetValueAtIndex(items,0);</p><p style="box-sizing: border-box; margin-top: 0px;">const void *tempIdentity = NULL;</p><p style="box-sizing: border-box; margin-top: 0px;">tempIdentity = CFDictionaryGetValue(ident, kSecImportItemIdentity);</p><p style="box-sizing: border-box; margin-top: 0px;">*identity = (SecIdentityRef)tempIdentity;</p><p style="box-sizing: border-box; margin-top: 0px;">}</p><p style="box-sizing: border-box; margin-top: 0px;">if (options) {</p><p style="box-sizing: border-box; margin-top: 0px;">CFRelease(options);</p><p style="box-sizing: border-box; margin-top: 0px;">}</p><p style="box-sizing: border-box; margin-top: 0px;">return securityError;</p><p style="box-sizing: border-box; margin-top: 0px;">}</p><p style="box-sizing: border-box; margin-top: 0px;">把AFURLConnectionOperation.m中的</p><p style="box-sizing: border-box; margin-top: 0px;">- (void)connection:(NSURLConnection *)connection</p><p style="box-sizing: border-box; margin-top: 0px;">willSendRequestForAuthenticationChallenge:(NSURLAuthenticationChallenge *)challenge</p><p style="box-sizing: border-box; margin-top: 0px;">替換成</p><p style="box-sizing: border-box; margin-top: 0px;">- (void)connection:(NSURLConnection *)connection</p><p style="box-sizing: border-box; margin-top: 0px;">willSendRequestForAuthenticationChallenge:(NSURLAuthenticationChallenge *)challenge</p><p style="box-sizing: border-box; margin-top: 0px;">{</p><p style="box-sizing: border-box; margin-top: 0px;">NSString *thePath = [[NSBundle mainBundle] pathForResource:@"client" ofType:@"p12"];</p><p style="box-sizing: border-box; margin-top: 0px;">NSLog(@"thePath===========%@",thePath);</p><p style="box-sizing: border-box; margin-top: 0px;">NSData *PKCS12Data = [[NSData alloc] initWithContentsOfFile:thePath];</p><p style="box-sizing: border-box; margin-top: 0px;">CFDataRef inPKCS12Data = (__bridge CFDataRef)PKCS12Data;</p><p style="box-sizing: border-box; margin-top: 0px;">SecIdentityRef identity = NULL;</p><p style="box-sizing: border-box; margin-top: 0px;">// extract the ideneity from the certificate</p><p style="box-sizing: border-box; margin-top: 0px;">[self extractIdentity :inPKCS12Data :&amp;identity];</p><p style="box-sizing: border-box; margin-top: 0px;">SecCertificateRef certificate = NULL;</p><p style="box-sizing: border-box; margin-top: 0px;">SecIdentityCopyCertificate (identity, &amp;certificate);</p><p style="box-sizing: border-box; margin-top: 0px;">const void *certs[] = {certificate};</p><p style="box-sizing: border-box; margin-top: 0px;">// CFArrayRef certArray = CFArrayCreate(kCFAllocatorDefault, certs, 1, NULL);</p><p style="box-sizing: border-box; margin-top: 0px;">// create a credential from the certificate and ideneity, then reply to the challenge with the credential</p><p style="box-sizing: border-box; margin-top: 0px;">//NSLog(@"identity=========%@",identity);</p><p style="box-sizing: border-box; margin-top: 0px;">NSURLCredential *credential = [NSURLCredential credentialWithIdentity:identity certificates:nil persistence:NSURLCredentialPersistencePermanent];</p><p style="box-sizing: border-box; margin-top: 0px;">// credential = [NSURLCredential credentialWithIdentity:identity certificates:(__bridge NSArray*)certArray persistence:NSURLCredentialPersistencePermanent];</p><p style="box-sizing: border-box; margin-top: 0px;">[challenge.sender useCredential:credential forAuthenticationChallenge:challenge];</p><p style="box-sizing: border-box; margin-top: 0px;">}</p><p style="box-sizing: border-box; margin-top: 0px;">然後就可以進行雙向認證了</p><p><span></span>&nbsp;<a href="http://www.xlgps.com/tag/ios/" rel="nofollow">ios</a>,&nbsp;<a href="http://www.xlgps.com/tag/https/" rel="nofollow">https</a></p><p>更多相關文章</p><ul><li><p><a href="http://www.xlgps.com/article/437601.html" rel="nofollow">Tomcat和Openssl構建HTTPS雙向認證</a></p><p>折騰了兩天終于搞好了,查看了很多資料並嘗試了上十次才終于配置好,爲了大家不走彎路,特寫此文 一. 服務端環境 CNETOS-6.5 Tomcat 7 jdk7 openssl-1.0.2-beta1.tar.gz 二.源碼安裝及證書申請與簽發 將openssl-1.0.2-beta1.tar.gz ...</p></li><li><p><a href="http://www.xlgps.com/article/221576.html" rel="nofollow">keytool+tomcat配置HTTPS雙向證書認證</a></p><p>系統需求: 1. Windows系統或Linux系統 2. 安裝並配置JDK 1.6.0_13 3. 安裝並配置Tomcat 6.0 第一步:爲服務器生成證書 1. Windows系統 "運行"控制台,進入%JAVA_HOME%/bin目錄 使用keytool爲Tomcat生成證 ...</p></li><li><p><a href="http://www.xlgps.com/article/272364.html" rel="nofollow">Nginx、SSL雙向認證、PHP、SOAP、Webservice、https</a></p><p>本文是1:1模式,N:1模式請參見新的一篇博客&lt;SSL雙向認證(高清版)&gt; -- 我是 標題太長了不知道該怎麽起,索性就把keyword列出來吧~ WebService的WS-*搞了一天沒搞定,看樣子PHP應該是徹底抛棄SOAP協議了,google翻爛了也沒找到什麽靠譜的解決方案. 合作 ...</p></li><li><p><a href="http://www.xlgps.com/article/14360.html" rel="nofollow">ToncatOpenSSL雙向認證配置（iOS）</a></p><p>OpenSSL生成證書 要生成證書的目錄下建立幾個文件和文件夾,有./demoCA/&nbsp;./demoCA/newcerts/&nbsp;./demoCA/private/&nbsp;./demoCA/index.txt (空文件,生成證書時會將數據記錄寫入)./demoCA/serial (在serial文件中寫入第一個 ...</p></li><li><p><a href="http://www.xlgps.com/article/18658.html" rel="nofollow">webservice ssl雙向認證配置</a></p><p>1.在tomcat中安裝axis2插件 2.生成證書,用jdk自帶的keytool 服務端 keytool -genkey -alias Server -dname "CN=192.168.10.100, OU=JH, O=JH, L=HangZhou, S=ZheJiang, C=CN&amp; ...</p></li><li><p><a href="http://www.xlgps.com/article/92013.html" rel="nofollow"></a></p><p><a href="http://www.xlgps.com/article/92013.html" rel="nofollow">Nginx、Tomcat、SSL、雙向認證</a></p><p>1. 證書層級結構2. 服務器結構tomcat不要求認證客戶端,nginx要求認證客戶端3. tomcat配置注意點tomcat的服務器證書的CN必須爲tomcat_backend4. nginx配置注意點使用openssl從pfx文件中導出pem格式公鑰1openssl pkcs12 -clcer ...</p></li><li><p><a href="http://www.xlgps.com/article/92016.html" rel="nofollow">在JEE項目中實施SSL雙向認證</a></p><p>一.爲什麽要實施雙向認證(Why)雙向認證一般使用在B2B系統或企業內部系統中,目的就是阻止無關人員訪問系統,哪怕就一個登錄頁面也不行.只有系統管理員給你發放了證書,你才能訪問到該系統.二.准備工作(Getting ready)1. 你系統中要有JDK2. 你要有一個Servlet容器,這裏使用to ...</p></li><li><p><a href="http://www.xlgps.com/article/143184.html" rel="nofollow"></a></p><p><a href="http://www.xlgps.com/article/143184.html" rel="nofollow">Centos6.3下apache實現SSL虛擬主機雙向認證</a></p><p>很久沒有更新LAMP的相關文檔了,剛好最近單位做項目需要用到apache的SSL虛擬主機雙向認證,剛好之前在做LAMP的時候順帶做過SSL模塊加載,SO參考了google大量文檔,用了半天時間搞定,這裏總結出來給大家分享一下. 該方案是爲了實現apache下實現SSL虛擬主機雙向認證,從而實現可信任 ...</p></li></ul><p><br></p><p><br></p><p><br></p><p>源地址：<a href="http://www.xlgps.com/article/75782.html" rel="nofollow">http://www.xlgps.com/article/75782.html</a>&nbsp;</p>
    		    	</div>
						<div class="bottom">
			发布于 3周前，
						阅读(19) | 评论(0) |  投票(0) | 收藏(2) 
    		<a href="http://my.oschina.net/u/1244672/blog/548536" class="fullcontent">阅读全文...</a>
    	</div>
		      </li>
          <li class="Blog" id="blog_544404">      
		<div class="BlogTitle">
    		<div class="title">
            	<h2>
					<span class="icon" style="background:#44ac57;" title="原创博客">原</span>																									<a href="http://my.oschina.net/u/1244672/blog/544404">CocoaPods的安装使用和常见问题</a></h2>        		<div class="outline">
            	  <span class="catalog">
										分类: 
						<a href="http://my.oschina.net/u/1244672/blog?catalog=3369355">涨姿势</a>										  </span>		  
        		              	              	</div>
    		</div>		
		</div>
        <span class="date"><em>15</em>2015-12</span>
    	    	<div class="BlogContent" id="blog_content_544404">
    		    		<h5>一、什么是CocoaPods</h5> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">CocoaPods是iOS项目的依赖管理工具，该项目源码在Github上管理。开发iOS项目不可避免地要使用第三方开源库，CocoaPods的出现使得我们可以节省设置和第三方开源库的时间。<br>在使用CocoaPods之前，开发项目需要用到第三方开源库的时候，我们需要<br>1.把开源库的源代码复制到项目中<br>2.添加一些依赖框架和动态库<br>3.设置-ObjC，-fno-objc-arc等参数<br>4.管理他们的更新<br>在使用CocoaPods后，我们只需要把用到的开源库放到一个名为Podfile的文件中，然后执行pod install.Cocoapods就会自动将这些第三方开源库的源码下载下来，并且为我们的工程设置好响应的系统依赖和编译参数。</p> 
<h5>二、CocoaPods的原理</h5> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">CocoaPods的原理是将所有的依赖库都放到另一个名为Pods的项目中，然后让主项目依赖Pods项目，这样，源码管理工作都从主项目移到了Pods项目中。Pods项目最终会编译成一个名为libPods.a的文件，主项目只需要依赖这个.a文件即可。</p> 
<h5>三、CocoaPods的安装</h5> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">CocoaPods可以方便地通过Mac自带的RubyGems安装。<br>打开Terminal，然后键入以下命令：<br>$ sudo gem install cocoapods</p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">执行完这句如果报告以下错误：<br>ERROR: Could not find a valid gem 'cocoapods' (&gt;= 0), here is why:<br>Unable to download data from&nbsp;<a href="https://rubygems.org/" target="_blank" rel="nofollow">https://rubygems.org/</a>&nbsp;- Errno::ETIMEDOUT: Operation timed out - connect(2) (<a href="https://rubygems.org/latest_specs.4.8.gz" target="_blank" rel="nofollow">https://rubygems.org/latest_specs.4.8.gz</a>)<br>ERROR: Possible alternatives: cocoapods</p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">这是因为ruby的软件源rubygems.org因为使用亚马逊的云服务，被我天朝屏蔽了，需要更新一下ruby的源，过程如下：<br>$ gem sources -l (查看当前ruby的源)<br>$ gem sources --remove&nbsp;<a href="https://rubygems.org/" target="_blank" rel="nofollow">https://rubygems.org/</a><br>$ gem sources -a&nbsp;<a href="https://ruby.taobao.org/" target="_blank" rel="nofollow">https://ruby.taobao.org/</a><br>$ gem sources -l</p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">如果gem太老，可以尝试用如下命令升级gem<br>$ sudo gem update --system<br>升级成功后会提示: RubyGems system software updated</p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">然后重新执行安装下载命令<br>$ sudo gem install cocoapods<br>这时候应该没什么问题了</p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">接下来进行安装，执行：<br>$ pod setup</p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">Terminal会停留在 Setting up CocoaPods master repo 这个状态一段时间,是因为要进行下载安装,而且目录比较大,需要耐心等待一下.如果想加快速度,可使用cocoapods的镜像索引.（文章末尾附使用镜像索引的方法）<br>安装成功后,你会看到:</p> 
<p><img src="./博客 - Snaiper的个人空间 - 开源中国社区_files/15101829_vtpY.png" alt="01.png"><br>01.png</p> 
<h5>四、Cocoapods的使用</h5> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">进入工程所在的目录（工程根目录）<br>执行命令 touch Podfile<br>这句是说新建一个名为Podfile的文件（不能写成别的名字，也可以自己在工程根目录里面直接新建）</p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">然后对改文件进行编辑，执行命令 open -e Podfile<br>第一次执行这个命令,会有一个空白文件打开，可以先放在一边，<br>Podfile文件的格式应该如下：<br>platform :ios, '7.0'<br>pod 'AMap2DMap', '~&gt; 2.5.0'<br>pod 'AFNetworking', '~&gt; 2.5.3'<br>pod 'SDWebImage', '~&gt; 3.7.2'</p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">需要注意的几点：platform那一行，ios三个字母都要小写，而且与前面的冒号之间不能有间隔，后面的版本号也可以不写，但是有些开源库对版本是有要求的，比如要在6.0以上才能运行，遇到这样的开源库就需要写上版本号。</p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">platform下面就是Cocoapods需要集成的开源库，根据你的需要确定集成那些库。</p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">举个例子：<br>我要集成AFNetworking这个库类，需要在Cocoapods里面先搜索是否有需要的库，可以在Terminal中输入：<br>pod search AFNetworking<br>回车之后就可以看到和你搜索的关键字相关的一些库类，如图：</p> 
<p><img src="./博客 - Snaiper的个人空间 - 开源中国社区_files/15101829_wtbY.png" alt="02.png"><br>02.png</p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">其中第一个就是我们需要的，把pod ‘AFNetworking’， ‘~&gt;2.5.3’<br>那一行复制到我们的Podfile文件中，保存修改。<br>然后在Terminal中执行 ：<br>pod install</p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">这样，AFNetworking就已经下载完成并且设置好了编译参数和依赖，以后使用的时候切记如下两点：<br>1.从此以后需要使用Cocoapods生成的&nbsp;<em>.xcworkspace文件来打开工程，而不是使用以前的</em>.xcodeproj文件<br>2.每次更改了Podfile文件，都需要重新执行一次pod update命令</p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">ps:当执行pod install之后，除了Podfile，还会生成一个名为Podfile.lock的文件，它会锁定当前各依赖库的版本，之后即使多次执行pod install也不会更改版本，只有执行pod update才会改变Podfile.lock.在多人协作的时候，这样可以防止第三方库升级时候造成大家各自的第三方库版本不一致。所以在提交版本的时候不能把它落下，也不要添加到.gitignore中.</p> 
<h5>五、常见问题</h5> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">1.<br>[!] Invalid&nbsp;<code>Podfile</code>&nbsp;file: undefined local variable or method `en_US' for #&lt;Pod::Podfile:0x00000102a5d8b0&gt;. Updating CocoaPods might fix the issue.</p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">原因：单引号格式，可能是手动输入导致<br>解决办法：系统偏好设置-键盘-文本-将“使用智能引号和破折号”一项取消勾选-再将podfile里面的单（双）引号修改一下</p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">2.ArgumentError - invalid byte sequence in US-ASCII<br>原因：字符集错误<br>解决办法：<br>使用locale命令查看当前的字符集，如果都是zh，需要执行以下命令：<br>export LC_ALL=en_US.UTF-8<br>export.UTF-8<br>然后再使用locale命令查看，已经改过来了</p> 
<ol> 
 <li><p>[!] The&nbsp;<code>YMTea [Debug]</code>&nbsp;target overrides the&nbsp;<code>OTHER_LDFLAGS</code>&nbsp;build setting defined in `Pods/Target Support Files/Pods/Pods.debug.xcconfig'. This can lead to problems with the CocoaPods installation</p></li> 
 <ul> 
  <li><p>Use the&nbsp;<code>$(inherited)</code>&nbsp;flag, or</p></li> 
  <li><p>Remove the build settings from the target.</p></li> 
 </ul> 
</ol> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">[!] The&nbsp;<code>YMTea [Release]</code>&nbsp;target overrides the&nbsp;<code>OTHER_LDFLAGS</code>&nbsp;build setting defined in `Pods/Target Support Files/Pods/Pods.release.xcconfig'. This can lead to problems with the CocoaPods installation</p> 
<pre class="hljs sql">-&nbsp;Use&nbsp;the&nbsp;`$(inherited)`&nbsp;flag,&nbsp;or&nbsp;-&nbsp;Remove&nbsp;the&nbsp;build&nbsp;settings&nbsp;from&nbsp;the&nbsp;target.</pre> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">原因：我是在已有项目中集成Cocoapods的时候遇到这个问题，原因是项目 Target 中做了一些设置，CocoaPods 也做了默认的设置，如果两个设置结果不一致，就会造成问题。<br>解决方法：我想要使用 CocoaPods 中的设置，分别在我的项目中定义<code>PODS_ROOT</code>&nbsp;和&nbsp;<code>Other Linker Flags</code>的地方（build settings），把他们的值用<code>$(inherited)</code>替换掉，进入终端，执行 pod update<br>警告没了，回到 Xcode，build通过。<br>网上还流行另外一种简单粗暴的方法:点击项目文件 project.xcodeproj，右键<code>显示包内容</code>，用文本编辑器打开<code>project.pbxproj</code>，删除<code>OTHER_LDFLAGS</code>的地方，保存(这种我没试过)</p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">4.<br>[!] Oh no, an error occurred.</p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">It appears to have originated from your Podfile at line 2.</p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">Search for existing GitHub issues similar to yours:<br><a href="https://github.com/CocoaPods/CocoaPods/search?q=%2FUsers%2Fxiao6%2FMusic%2FGI06%E5%AE%9E%E8%AE%AD%E8%8A%B8%E8%8C%97%E8%8C%B6%E5%8F%B6%2FYMTea%2FPodfile%3A2%3A+syntax+error%2C+unexpected+%27%3A%27%2C+expecting+end-of-input%0Aplatform+%3A+ios%2C+%277.0%27%0A++++++++++%5E&amp;type=Issues" target="_blank" rel="nofollow">https://github.com/CocoaPods/CocoaPods/search?q=%2FUsers%2Fxiao6%2FMusic%2FGI06%E5%AE%9E%E8%AE%AD%E8%8A%B8%E8%8C%97%E8%8C%B6%E5%8F%B6%2FYMTea%2FPodfile%3A2%3A+syntax+error%2C+unexpected+%27%3A%27%2C+expecting+end-of-input%0Aplatform+%3A+ios%2C+%277.0%27%0A++++++++++%5E&amp;type=Issues</a></p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">If none exists, create a ticket, with the template displayed above, on:<br><a href="https://github.com/CocoaPods/CocoaPods/issues/new" target="_blank" rel="nofollow">https://github.com/CocoaPods/CocoaPods/issues/new</a></p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">Be sure to first read the contributing guide for details on how to properly submit a ticket:<br><a href="https://github.com/CocoaPods/CocoaPods/blob/master/CONTRIBUTING.md" target="_blank" rel="nofollow">https://github.com/CocoaPods/CocoaPods/blob/master/CONTRIBUTING.md</a></p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">Don't forget to anonymize any private data!</p> 
<p style="margin-top: 0px;margin-bottom: 25px;text-align: justify;color: rgb(47, 47, 47);font-family: &#39;lucida grande&#39;, &#39;lucida sans unicode&#39;, lucida, helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, &#39;WenQuanYi Micro Hei&#39;, sans-serif;font-size: 16px;line-height: 27.2000007629395px;white-space: normal;background-color: rgb(255, 255, 255)">原因：这个问题比较蛋疼，弄了好久，仔细看发现就是因为Podfile文件里面 platform 那一行 冒号和ios之间多了一个空格。。。。其实这个错误在报错的时候ruby已经给出了，只是一开始没有好好看：</p> 
<p><img src="./博客 - Snaiper的个人空间 - 开源中国社区_files/15101829_HRC8.png" alt="03.png"><br>03.png</p> 
<h6>附：如何使用CocoaPods的镜像索引:</h6> 
<pre class="hljs objectivec">所有项目的Podspec文件都托管在https://github.com/CocoaPods/Specs,&nbsp;第一次执行pod&nbsp;setup时,CocoaPods会将这些podspec索引文件更新到本地的~/.cocoapods目录下,&nbsp;这个索引文件比较大,所以第一次更新时非常慢.&nbsp;友好人士在国内的服务器建立了Cocoapods索引库的镜像,&nbsp;所以执行索引跟新操作时候会快很多.具体操作方法如下:&nbsp;$&nbsp;pod&nbsp;repo&nbsp;remove&nbsp;master&nbsp;$&nbsp;pod&nbsp;repo&nbsp;add&nbsp;master&nbsp;https://gitcafe.com/akuandev/Specs.git&nbsp;$&nbsp;pod&nbsp;repo&nbsp;update&nbsp;这是使用gitcafe上的镜像,将以上代码中的&nbsp;https://gitcafe.com/akuandev/Specs.git&nbsp;&nbsp;替换成&nbsp;http://git.oschina.net/akuandev/Specs.git&nbsp;即可使用oschina上的镜像</pre> 
<p><br></p>
    		    	</div>
						<div class="bottom">
			发布于 1个月前，
						阅读(25) | 评论(0) |  投票(0) | 收藏(0) 
    		<a href="http://my.oschina.net/u/1244672/blog/544404" class="fullcontent">阅读全文...</a>
    	</div>
		      </li>
        </ul>	
	<a href="http://my.oschina.net/u/1244672/blog?disp=2&amp;p=1&amp;catalog=0#" style="float:right;margin:5px 0 0 0;" class="more">回到页首</a>
	                                                                                <ul class="pager">
                        <li class="page current"><a href="http://my.oschina.net/u/1244672/blog?disp=2&amp;catalog=0&amp;sort=time&amp;p=1">1</a></li>            <li class="page"><a href="http://my.oschina.net/u/1244672/blog?disp=2&amp;catalog=0&amp;sort=time&amp;p=2">2</a></li>            <li class="page"><a href="http://my.oschina.net/u/1244672/blog?disp=2&amp;catalog=0&amp;sort=time&amp;p=3">3</a></li>            <li class="page"><a href="http://my.oschina.net/u/1244672/blog?disp=2&amp;catalog=0&amp;sort=time&amp;p=4">4</a></li>            <li class="page"><a href="http://my.oschina.net/u/1244672/blog?disp=2&amp;catalog=0&amp;sort=time&amp;p=5">5</a></li>            <li class="page"><a href="http://my.oschina.net/u/1244672/blog?disp=2&amp;catalog=0&amp;sort=time&amp;p=6">6</a></li>            <li class="page next"><a href="http://my.oschina.net/u/1244672/blog?disp=2&amp;catalog=0&amp;sort=time&amp;p=2">&gt;</a></li>        </ul>
            </div>
<script>
	$(".setting").click(function(){
		var thiz = $(this);
		var sibs = thiz.siblings(".set-catalog");
		sibs.show();
		return false;
	});
	$(".set-catalog").click(function(event){
		event.stopPropagation();
	});
	$(document).click(function(event){
		$(".set-catalog").hide();
	});
	function set_catalog(id,catalog){
		ajax_post("/action/blog/set_catalog",{id:id,catalog:catalog},function(msg){
			if(msg.length>0)
				alert(msg);
			else
				location.reload();
		})
	}
</script>    </div>
	<div class="clear"></div>
	<div id="OSC_Footer"><style>
.oscapp {text-align:left; width:220px;}
.oscapp span {float:left;width:140px;}
.oscapp a {float:left;text-indent:-9999em;width:16px;margin-left:8px;}
.oscapp a.android {background:url('/img/android.gif') no-repeat left center;}
.oscapp a.iphone {background:url('/img/iphone.gif') no-repeat left center;}
.oscapp a.wp7 {background:url('/img/wp7.gif') no-repeat left center;}
</style>
<table width="100%"><tbody><tr>
<td align="left">© 开源中国(OSChina.NET) | <a href="http://www.oschina.net/home/aboutosc">关于我们</a> | <a href="mailto:market@oschina.cn">广告联系</a> | <a href="http://weibo.com/oschina2010" target="_blank">@新浪微博</a> | <a href="http://m.oschina.net/">开源中国手机版</a> | <a href="http://www.miitbeian.gov.cn/" target="_blank" style="color:#737573;text-decoration:none;">粤ICP备12009483号-3</a></td>
<td class="oscapp">
	<span>开源中国手机客户端：</span>
	<a href="http://www.oschina.net/app" class="android" title="Android客户端">Android</a>
	<a href="http://www.oschina.net/app" class="iphone" title="iPhone 客户端">iPhone</a>
	<a href="http://www.oschina.net/app" class="wp7" title="Windows Phone 客户端">WP7</a>
</td>
</tr>
<tr>
<td colspan="2" align="left">开源中国社区(OSChina.net)是工信部 <a href="http://www.copu.org.cn/" target="_blank">开源软件推进联盟</a> 指定的官方社区</td>
</tr>
</tbody></table>
<script type="text/javascript">
<!--
if (top.location != self.location)top.location=self.location;
//-->
</script></div>
</div>

<style>
span.love{
	position: relative;
    min-width: 35px;
    display: inline-block;
    height: 12px;
}
span.love a{
    position: absolute;
    right: 0px;
}
</style>
<script type="text/javascript" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/space"></script>
<script type="text/javascript" src="./博客 - Snaiper的个人空间 - 开源中国社区_files/ImageTool.js"></script>
<script type="text/javascript">
<!--
$(document).ready(function() {

	SelectStyle("#search-item",".search_list");
	$('.Tweet .photo img').live("click",function(){
		var T=$(this);
		var t=this;
		var bigImg = T.attr('bi');
		var smallImg = T.attr('si');
		var src = T.attr('src');
		var newsrc = (bigImg == src)?smallImg:bigImg;
		var imgId = T.attr('id');
		if(T.parent().attr("id") == "img_container"){
			T.parent().replaceWith(T);
			T.removeAttr("style");
			T.removeAttr("width");
			T.removeAttr("height");
		}
		if(newsrc == bigImg){
    		var loading=$('<img alt="loading" src="/img/loading.gif?t=1451964198000"/>');
			var top = T.position().top+T.height()/2-8;
			var left = T.position().left+T.width()/2-8;
			loading.css({
				'position':'absolute',
				'z-index':999,
				'top':top,
				'left':left
			});
    		T.before(loading);
			var tImg=new Image();
			tImg.src=newsrc;
			tImg.onload=function(){afterImgLoad(T,loading,imgId,newsrc,bigImg);};
		}
		else{
			T.attr("src",newsrc);
			$('#img_menu_'+imgId).remove();
		}
		return false;
	});
	
	$(".tweet_thumb_wrapper").mouseenter(function(){
		$(this).find(".tweet_play_video").css("opacity",1);
	}).mouseleave(function(){
		$(this).find(".tweet_play_video").css("opacity",0.7);
	});

    $("#TForm textarea").atWho("@", function(query, callback){
        jQuery.ajax({
            type:'POST',
            url:"/action/tweet/at_suggest",
            data:{'q':query},
            dataType:'json',
            success:function(json){
                callback(json);
            }
        });
    });
	
	toggle_tweet_video = function(id){
		$("#tweet_video_thumb_"+id).toggle();
		var video = $("#tweet_video_"+id).toggle();
		video.siblings(".tweet_video_operation,.tweet_thumb_wrapper").toggle();
	};
	
	function afterImgLoad(T,loading,imgId,url,bigImg){
		var lnks = "<div id='img_menu_"+imgId+"' class='ImgMenu'>";
		lnks += "<a href='#' onclick='$(\"#"+imgId+"\").click();return false;'>收起</a>";
		lnks += "<a href='javascript:void(0);' onclick='rotate(this,\""+imgId+"\",0);' id='rotate_btn'>旋转</a>";
		lnks += "<a href='"+bigImg+"' target='_blank'>查看原图</a></div>";			
		loading.remove();
		T.attr("src",url);
		T.before(lnks);
	}
});

function set_fellow_memo(fid,fname){
	popup("/action/ajax/set_fellow_memo","friend="+fid+"&name="+fname);
}

function deleteMsgs(uid, fid, fname){
	if(!confirm("你确认要清除与‘"+fname+"’的所有私信吗？"))
		return ;
	var args = "user="+uid+"&friend="+fid;
	ajax_post("/action/msg/delete_user",args,function(html){
		if(html.length > 0)
			alert(html);
		else{
			$('#Msg_'+fid).fadeOut();
		}
	});
}

function follow_user(uid, uname){
	just_follow(uid, uname,'${g_user.id}'); //oschina.js
}

function unfollow_user(uid, uname){
	if(confirm("确定不再关注" + uname + "了吗？"))
	just_unfollow(uid,'${g_user.id}',function(){
		alert('已取消对 ' + uname + ' 的关注');
	});
}

function tweet_reply(logid){
	var r = $('#LogReply_'+logid);
	if(!r.is(":hidden")){
		close_tweet_reply(logid);
		return ;
	}
	r.html("<div class='TweetRplsWrapper'><span class='loading'>正在加载评论，请稍候...</span></div>")
	r.show();
	r.load("http://my.oschina.net/u/1244672/tweet-rpls?log="+logid,function(){
		$('#edt_tweet_post_'+logid).focus();
        var at_datas = [];
        $(this).find("img.SmallPortrait").each(function(){
            var name = $(this).attr('alt');
            if(jQuery.inArray(name, at_datas) < 0 && name != '${g_user.name}')
                at_datas.push(name);
        });
        $(this).find("input.TXT_TweetRpl_Text").atWho("@", {data: at_datas});
        $('#TweetReplyForm_'+logid).ajaxForm({
        	dataType: 'json',
			beforeSubmit: function(arr, form, options){
				$('#BTN_TweetReply_'+logid).attr('disabled','disabled');
			},
            success: function(json) {
            	if(json.msg){
        			alert(json.msg);
            	}else if(json.log){
					$('#log_reply_count_'+logid).text(json.reply_count);
        			//插入新评论					
					ajax_get("/action/ajax/get_tweet_reply?id=" + json.log,true,function(html){
						$('#LogReply_'+logid+' ul').prepend(html);
					});
					$('#edt_tweet_post_'+logid).val('');
            	}
				$('#BTN_TweetReply_'+logid).removeAttr('disabled');
            }
        });
	});
}
function close_tweet_reply(logid){
	$('#LogReply_'+logid).empty();
	$('#LogReply_'+logid).hide();
	$('#Logs .userlogs li').removeClass('hover');
}
function reply_rtweet(logid, rid, toname){
	var edtPost = $('#edt_tweet_post_' + logid);
	var old_v = edtPost.val();
	if(old_v.length > 0)
		edtPost.val(old_v + ',@'+toname+' ');
	else
		edtPost.val('回复 @'+toname+' : ');
	edtPost.focus();
	edtPost.caretPos(edtPost.val().length); }
function delete_tweet(logid){
	if(confirm("确认要删除这条信息吗？"))
	ajax_post("/action/tweet/delete?log="+logid+"&user=${g_user.id}","",function(html){
		if(html.length==0){
			var elem = $('#LI_'+logid);
			if(elem.length > 0)
				$('#LI_'+logid).fadeOut();
			else
				location.reload();
		}
	});
}
function delete_tweet_reply(logid){
	if(confirm("确认要删除这条评论吗？"))
	ajax_post("/action/tweet/delete_reply?id="+logid+"&user=${g_user.id}","",function(html){
		if(html.length > 0)
			$('#LI_'+logid).fadeOut();
	});
}

function delete_blog(blog_id){
    if(!confirm("文章删除后无法恢复，请确认是否删除此篇文章？")) return;
    ajax_post("/action/blog/delete?id="+blog_id+"&user=${g_user.id}&user_code=${g_user.activate_code}","",function(html){
    	location.href="http://my.oschina.net/u/1244672/blog";
    });
}

function SelectStyle(on,option){
	var currentSort = $(on).attr('id');
	var currentText = $(option+" li."+currentSort+" a").html();
	$(on + " .text").html(currentText);
	$(on + " .text").hover(function(){
		$(this).addClass("hover")
	},function(){
		$(this).removeClass("hover")
	});
	$(option+" li a").each(function(index){
		$(this).click(function(){
			thishtml = $(this).html();
			$(on + " .text").removeClass("on").html(thishtml);		
			$(".selectbox select ").find("option").removeAttr('selected').eq(index).attr("selected","selected");	
			$(option).hide()
			return false;
		});
		
	});		
	
	$(".selectbox").click(function(){		
		$(option).toggle();
		$(on + " .text").toggleClass("on");		
		return false;
	});
	$(document).click(function(){
		$(option).hide();	
		$(on + " .text").removeClass("on");
	});
	$(document).trigger('click');

}

//-->
//添加点赞脚本开始
function makeAsLove(obj){

	var _this = $(obj);
	var _hc = _this.hasClass('fa-thumbs-o-up');
	
	var _enable = _this.attr('data-click');
	if (_enable != undefined && 'dis' === _enable) {
	    return;
	}

	var makeAsLoveId =$(obj).attr("id");
	var temp = makeAsLoveId.split("_");
	var logid = temp[1];
	var ownerOfLog = temp[2];
	var clickCount = $("#love_"+logid+"_hidden_clickCount").val();
	var user_code = $("#love_"+logid+"_user_code").val();
	var current_love_count = $("#love_"+logid+"_hidden").val();
	$("#love_userlist_"+logid+"_hidden").val();
	
	_this.animate({
            'font-size': '20px'
        },300, function () {
            _this.attr('data-click', 'dis');
            setTimeout(function(){
                _this.attr('data-click', 'enable');
            },1000);
            setTimeout(function () {
                if (_hc) {
                    _this.removeClass('fa-thumbs-o-up');
                    _this.addClass('fa-thumbs-up');
                } else {
                    _this.removeClass('fa-thumbs-up');
                    _this.addClass('fa-thumbs-o-up');
                }
                _this.css({
                    'font-size': '14px'
                });

              $.ajax({
		            url:"/action/tweet/makeAsLove",
		            type:"POST",
		            data:{
		                logid:logid,
		                user_code:user_code,
		                current_love_count:current_love_count,
		                ownerOfLog:ownerOfLog,
		                clickCount:clickCount
		            },
		            success:function(result){
		                var dataResult =  jQuery.parseJSON(result)
		                var resultCode = dataResult.code;
		                $("#love_"+logid+"_hidden_clickCount").val(parseInt(dataResult.clickCount));
		                if(resultCode=="200"){
		                    var love = dataResult.love_count;
		                    var countOfLove = parseInt(love);
		                    $("#love_"+logid).text(countOfLove);
		                    $("#love_userlist_"+logid).text(countOfLove);
		                    var imgEle = '<a href="$link.auto_user($g_user, false)" target="_blank" id="me_'+logid+'">';
							var spanEle = '<span class="TweetUserPic"><img src="/img/portrait.gif?t=1451964198000" align="absmiddle" alt="非会员用户" title="非会员用户" class="SmallPortrait" user=""/></span></a>';
		                    $("#user_pic_"+logid).prepend(imgEle+spanEle);
		                    $("#love_"+logid).text(countOfLove);
		                    $("#love_"+logid+"_hidden").val(countOfLove);
		                    $("#love_userlist_"+logid+"hidden").val(countOfLove);
		                    $("#love_userlist_"+logid).text(countOfLove+"个人觉得很赞");
		                    //$("#"+makeAsLoveId).attr("class","loved");
		                    return;
		                }
		                if(resultCode=="201"){
		                	var love = dataResult.love_count;
			                var countOfLove = parseInt(love);
			                $("#love_userlist_"+logid).text(countOfLove);
		                    $("#me_"+logid).empty();
		                    $("#love_"+logid).text(countOfLove);
		                    $("#love_"+logid+"_hidden").val(countOfLove);
		                    if(countOfLove<=0){
		                    	$("#love_userlist_"+logid).text("");
		                    }else{
		                    	$("#love_userlist_"+logid).text(countOfLove+"个人觉得很赞");
		                    }
		                    //$("#"+makeAsLoveId).removeClass("loved");
		                    return;
		                }
		                $("#" + makeAsLoveId).attr("class", "fa fa-thumbs-o-up");
		                $("#info_"+logid).text(dataResult.result);
		                setTimeout(function(){
		                	$("#info_"+logid).text("");
		                },3000);
		            }

            }, 400);
        });
	
        });
}
</script>

<script>
	function toggle(){
		var flag= $("#hiddenflag").val();
		if(flag=="true"){
			$(".hiddenPic").hide();
			$("#hiddenflag").val(false);
		}else if(flag=="false"){
			$(".hiddenPic").show();
			$("#hiddenflag").val(true);
		}
	}
</script>


<!-- Generated by OsChina.NET (init:0[ms],page:60[ms],ip:116.235.123.138) --><div id="fancybox-tmp"></div><div id="fancybox-loading"><div></div></div><div id="fancybox-overlay"></div><div id="fancybox-wrap"><div id="fancybox-outer"><div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div><div id="fancybox-content"></div><a id="fancybox-close"></a><div id="fancybox-title"></div><a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a><a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a></div></div><div id="topcontrol" title="回到顶部" style="position: fixed; bottom: 165px; right: 100px; cursor: pointer; display: none;"><img src="./博客 - Snaiper的个人空间 - 开源中国社区_files/gotop.gif" style="width:31px; height:31px;"></div><div id="at-view" class="at-view"><ul id="at-view-ul"></ul></div></body></html>